var app=function(){"use strict";function l(){}const n=l=>l;function u(l){return l()}function t(){return Object.create(null)}function e(l){l.forEach(u)}function r(l){return"function"==typeof l}function o(l,n){return l!=l?n==n:l!==n||l&&"object"==typeof l||"function"==typeof l}let s;function i(n,...u){if(null==n)return l;const t=n.subscribe(...u);return t.unsubscribe?()=>t.unsubscribe():t}function a(l){let n;return i(l,l=>n=l)(),n}function c(l,n,u){l.$$.on_destroy.push(i(n,u))}const d="undefined"!=typeof window;let f=d?()=>window.performance.now():()=>Date.now(),h=d?l=>requestAnimationFrame(l):l;const m=new Set;function p(l){m.forEach(n=>{n.c(l)||(m.delete(n),n.f())}),0!==m.size&&h(p)}function g(l,n){l.appendChild(n)}function v(l){if(!l)return document;const n=l.getRootNode?l.getRootNode():l.ownerDocument;return n&&n.host?n:l.ownerDocument}function b(l){const n=$("style");return function(l,n){g(l.head||l,n),n.sheet}(v(l),n),n.sheet}function w(l,n,u){l.insertBefore(n,u||null)}function y(l){l.parentNode&&l.parentNode.removeChild(l)}function x(l,n){for(let u=0;u<l.length;u+=1)l[u]&&l[u].d(n)}function $(l){return document.createElement(l)}function k(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function M(l){return document.createTextNode(l)}function C(){return M(" ")}function S(){return M("")}function z(l,n,u,t){return l.addEventListener(n,u,t),()=>l.removeEventListener(n,u,t)}function j(l){return function(n){return n.preventDefault(),l.call(this,n)}}function I(l,n,u){null==u?l.removeAttribute(n):l.getAttribute(n)!==u&&l.setAttribute(n,u)}function N(l){return""===l?null:+l}function E(l,n){n=""+n,l.data!==n&&(l.data=n)}function B(l,n){l.value=null==n?"":n}function A(l,n,u,t){null==u?l.style.removeProperty(n):l.style.setProperty(n,u,t?"important":"")}function R(l,n,u){for(let u=0;u<l.options.length;u+=1){const t=l.options[u];if(t.__value===n)return void(t.selected=!0)}u&&void 0===n||(l.selectedIndex=-1)}function H(l,n,u){l.classList[u?"add":"remove"](n)}function _(l,n){return new l(n)}const L=new Map;let O,T=0;function P(l,n,u,t,e,r,o,s=0){const i=16.666/t;let a="{\n";for(let l=0;l<=1;l+=i){const t=n+(u-n)*r(l);a+=100*l+`%{${o(t,1-t)}}\n`}const c=a+`100% {${o(u,1-u)}}\n}`,d=`__svelte_${function(l){let n=5381,u=l.length;for(;u--;)n=(n<<5)-n^l.charCodeAt(u);return n>>>0}(c)}_${s}`,f=v(l),{stylesheet:h,rules:m}=L.get(f)||function(l,n){const u={stylesheet:b(n),rules:{}};return L.set(l,u),u}(f,l);m[d]||(m[d]=!0,h.insertRule(`@keyframes ${d} ${c}`,h.cssRules.length));const p=l.style.animation||"";return l.style.animation=`${p?`${p}, `:""}${d} ${t}ms linear ${e}ms 1 both`,T+=1,d}function F(l,n){const u=(l.style.animation||"").split(", "),t=u.filter(n?l=>l.indexOf(n)<0:l=>-1===l.indexOf("__svelte")),e=u.length-t.length;e&&(l.style.animation=t.join(", "),T-=e,T||h(()=>{T||(L.forEach(l=>{const{ownerNode:n}=l.stylesheet;n&&y(n)}),L.clear())}))}function V(l){O=l}function D(l){(function(){if(!O)throw new Error("Function called outside component initialization");return O})().$$.on_mount.push(l)}const U=[],q=[];let G=[];const Y=[],W=Promise.resolve();let X=!1;function K(l){G.push(l)}function J(l){Y.push(l)}const Z=new Set;let Q,ll=0;function nl(){if(0!==ll)return;const l=O;do{try{for(;ll<U.length;){const l=U[ll];ll++,V(l),ul(l.$$)}}catch(l){throw U.length=0,ll=0,l}for(V(null),U.length=0,ll=0;q.length;)q.pop()();for(let l=0;l<G.length;l+=1){const n=G[l];Z.has(n)||(Z.add(n),n())}G.length=0}while(U.length);for(;Y.length;)Y.pop()();X=!1,Z.clear(),V(l)}function ul(l){if(null!==l.fragment){l.update(),e(l.before_update);const n=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,n),l.after_update.forEach(K)}}function tl(l,n,u){l.dispatchEvent(function(l,n,{bubbles:u=!1,cancelable:t=!1}={}){const e=document.createEvent("CustomEvent");return e.initCustomEvent(l,u,t,n),e}(`${n?"intro":"outro"}${u}`))}const el=new Set;let rl;function ol(){rl={r:0,c:[],p:rl}}function sl(){rl.r||e(rl.c),rl=rl.p}function il(l,n){l&&l.i&&(el.delete(l),l.i(n))}function al(l,n,u,t){if(l&&l.o){if(el.has(l))return;el.add(l),rl.c.push(()=>{el.delete(l),t&&(u&&l.d(1),t())}),l.o(n)}else t&&t()}const cl={duration:0};function dl(u,t,o,s){const i={direction:"both"};let a=t(u,o,i),c=s?0:1,d=null,g=null,v=null;function b(){v&&F(u,v)}function w(l,n){const u=l.b-c;return n*=Math.abs(u),{a:c,b:l.b,d:u,duration:n,start:l.start,end:l.start+n,group:l.group}}function y(t){const{delay:r=0,duration:o=300,easing:s=n,tick:i=l,css:y}=a||cl,x={start:f()+r,b:t};t||(x.group=rl,rl.r+=1),d||g?g=x:(y&&(b(),v=P(u,c,t,o,r,s,y)),t&&i(0,1),d=w(x,o),K(()=>tl(u,t,"start")),function(l){let n;0===m.size&&h(p),new Promise(u=>{m.add(n={c:l,f:u})})}(l=>{if(g&&l>g.start&&(d=w(g,o),g=null,tl(u,d.b,"start"),y&&(b(),v=P(u,c,d.b,d.duration,0,s,a.css))),d)if(l>=d.end)i(c=d.b,1-c),tl(u,d.b,"end"),g||(d.b?b():--d.group.r||e(d.group.c)),d=null;else if(l>=d.start){const n=l-d.start;c=d.a+d.d*s(n/d.duration),i(c,1-c)}return!(!d&&!g)}))}return{run(l){r(a)?(Q||(Q=Promise.resolve(),Q.then(()=>{Q=null})),Q).then(()=>{a=a(i),y(l)}):y(l)},end(){b(),d=g=null}}}function fl(l,n,u){const t=l.$$.props[n];void 0!==t&&(l.$$.bound[t]=u,u(l.$$.ctx[t]))}function hl(l){l&&l.c()}function ml(l,n,t,o){const{fragment:s,after_update:i}=l.$$;s&&s.m(n,t),o||K(()=>{const n=l.$$.on_mount.map(u).filter(r);l.$$.on_destroy?l.$$.on_destroy.push(...n):e(n),l.$$.on_mount=[]}),i.forEach(K)}function pl(l,n){const u=l.$$;null!==u.fragment&&(!function(l){const n=[],u=[];G.forEach(t=>-1===l.indexOf(t)?n.push(t):u.push(t)),u.forEach(l=>l()),G=n}(u.after_update),e(u.on_destroy),u.fragment&&u.fragment.d(n),u.on_destroy=u.fragment=null,u.ctx=[])}function gl(l,n){-1===l.$$.dirty[0]&&(U.push(l),X||(X=!0,W.then(nl)),l.$$.dirty.fill(0)),l.$$.dirty[n/31|0]|=1<<n%31}function vl(n,u,r,o,s,i,a,c=[-1]){const d=O;V(n);const f=n.$$={fragment:null,ctx:[],props:i,update:l,not_equal:s,bound:t(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u.context||(d?d.$$.context:[])),callbacks:t(),dirty:c,skip_bound:!1,root:u.target||d.$$.root};a&&a(f.root);let h=!1;if(f.ctx=r?r(n,u.props||{},(l,u,...t)=>{const e=t.length?t[0]:u;return f.ctx&&s(f.ctx[l],f.ctx[l]=e)&&(!f.skip_bound&&f.bound[l]&&f.bound[l](e),h&&gl(n,l)),u}):[],f.update(),h=!0,e(f.before_update),f.fragment=!!o&&o(f.ctx),u.target){if(u.hydrate){const l=function(l){return Array.from(l.childNodes)}(u.target);f.fragment&&f.fragment.l(l),l.forEach(y)}else f.fragment&&f.fragment.c();u.intro&&il(n.$$.fragment),ml(n,u.target,u.anchor,u.customElement),nl()}V(d)}class bl{$destroy(){pl(this,1),this.$destroy=l}$on(n,u){if(!r(u))return l;const t=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return t.push(u),()=>{const l=t.indexOf(u);-1!==l&&t.splice(l,1)}}$set(l){var n;this.$$set&&(n=l,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(l),this.$$.skip_bound=!1)}}class wl{validate(l){throw new Error("子类必须实现validate方法")}parse(l){throw new Error("子类必须实现parse方法")}}const yl="custom",xl={veryeasy:"Very Easy",easy:"Easy",medium:"Medium",hard:"Hard"},$l={darkTheme:!1,displayTimer:!0,hintsLimited:!0,hints:5,highlightCells:!0,highlightSame:!0,highlightConflicting:!0},kl=81,Ml=[[0,0],[0,1],[0,2],[0,3],[0,4],[0,5],[0,6],[0,7],[0,8],[1,0],[1,1],[1,2],[1,3],[1,4],[1,5],[1,6],[1,7],[1,8],[2,0],[2,1],[2,2],[2,3],[2,4],[2,5],[2,6],[2,7],[2,8],[3,0],[3,1],[3,2],[3,3],[3,4],[3,5],[3,6],[3,7],[3,8],[4,0],[4,1],[4,2],[4,3],[4,4],[4,5],[4,6],[4,7],[4,8],[5,0],[5,1],[5,2],[5,3],[5,4],[5,5],[5,6],[5,7],[5,8],[6,0],[6,1],[6,2],[6,3],[6,4],[6,5],[6,6],[6,7],[6,8],[7,0],[7,1],[7,2],[7,3],[7,4],[7,5],[7,6],[7,7],[7,8],[8,0],[8,1],[8,2],[8,3],[8,4],[8,5],[8,6],[8,7],[8,8]],Cl=[[1,1],[1,2],[1,3],[2,1],[2,2],[2,3],[3,1],[3,2],[3,3]],Sl="_",zl=new RegExp("^[a-zA-Z0-9]+[-_][a-zA-Z0-9]+$"),jl="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",Il="none",Nl=400,El=Nl,Bl=["Excellent!","Wow!","Congratulations!","Oh yeah!","Impressive!","Good work!","You did great!","Applause!","Great!"];class Al{static encode(l){let n=BigInt(62),u="";for(;0<l;)u=jl.charAt(Number(l%n))+u,l/=n;return u||"0"}static decode(l){let n=BigInt(62),u=0n;for(let t=0;t<l.length;t++)u=u*n+BigInt(jl.indexOf(l[t]));return u}}class Rl extends wl{static#l="bd";static#n(l){try{const n=decodeURIComponent(l);return new URL(n).searchParams.get(Rl.#l)||null}catch(l){return null}}validate(l){const n=Rl.#n(l);return!!n&&n.length===kl}parse(l){if(!this.validate(l))return null;const n=Rl.#n(l),u=Array(9).fill(0).map(()=>Array(9).fill(0));let t=0;for(let l=0;l<9;l++)for(let e=0;e<9;e++){const r=Number(n[t]);u[l][e]=isNaN(r)?0:r,t++}return u}}class Hl{constructor(){this.strategies=[]}registerStrategy(l){if(!(l instanceof wl))throw new Error("必须传入ParseStrategy的子类实例");return this.strategies.push(l),this}parse(l){for(const n of this.strategies)if(n.validate(l)){const u=n.parse(l);if(u)return u}throw new Error(`无法解析输入内容：${l}，未匹配到任何解析策略`)}validate(l){for(const n of this.strategies)if(n.validate(l))return!0;return!1}static#u(l){for(let n=0;n<kl;n++){if(0!==l[80-n])return!1;if(0!==l[n])return!0}return!1}encode(l){const n=l.flat(),u=Hl.#u(n);u&&n.reverse();let t="",e="";for(let l=0;l<kl;l++)t+=0===n[l]?"0":"1",n[l]>0&&(e+=n[l]-1);return Al.encode(BigInt("0b"+t))+(u?Sl:"-")+Al.encode(BigInt(e))}clearStrategies(){this.strategies=[]}}const _l=(new Hl).registerStrategy(new class extends wl{validate(l){return l&&0!==l.trim().length&&zl.test(l)}parse(l){let n=Array(9).fill(0).map(()=>Array(9).fill(0));const u=-1!==l.indexOf(Sl),t=u?Sl:"-",[e,r]=l.split(t),o=Al.decode(e).toString(2).padStart(kl,"0");let s=0;for(let l=0;l<kl;l++)"1"===o[l]&&s++;let i=Al.decode(r).toString().padStart(s,"0").split("");for(let l=0;l<kl;l++)if("1"===o[l]){const[u,t]=Ml[l];n[u][t]=Number(i.shift())+1}return u&&(n=n.reverse().map(l=>l.reverse())),n}}).registerStrategy(new Rl);function Ll(l){return _l.validate(l)}const Ol=[];function Tl(n,u=l){let t;const e=new Set;function r(l){if(o(n,l)&&(n=l,t)){const l=!Ol.length;for(const l of e)l[1](),Ol.push(l,n);if(l){for(let l=0;l<Ol.length;l+=2)Ol[l][0](Ol[l+1]);Ol.length=0}}}return{set:r,update:function(l){r(l(n))},subscribe:function(o,s=l){const i=[o,s];return e.add(i),1===e.size&&(t=u(r)||l),o(n),()=>{e.delete(i),0===e.size&&t&&(t(),t=null)}}}}function Pl(n,u,t){const o=!Array.isArray(n),s=o?[n]:n,a=u.length<2;return c=n=>{let t=!1;const c=[];let d=0,f=l;const h=()=>{if(d)return;f();const t=u(o?c[0]:c,n);a?n(t):f=r(t)?t:l},m=s.map((l,n)=>i(l,l=>{c[n]=l,d&=~(1<<n),t&&h()},()=>{d|=1<<n}));return t=!0,h(),function(){e(m),f(),t=!1}},{subscribe:Tl(t,c).subscribe};var c}const Fl=function(){const l=Tl({x:null,y:null});return{subscribe:l.subscribe,set(n,u){l.set({x:n,y:u})},move(n=0,u=0){l.update(l=>{let t=l.x+n,e=l.y+u;return t<0&&(t=8),t>=9&&(t=0),e<0&&(e=8),e>=9&&(e=0),{x:t,y:e}})},reset(){this.set(null,null)}}}();const Vl=function(){const l=Tl((()=>{const l=localStorage.getItem("difficulty");return xl.hasOwnProperty(l)?l:Object.keys(xl)[0]})());return{subscribe:l.subscribe,set(n){xl.hasOwnProperty(n)&&(l.set(n),localStorage.setItem("difficulty",n))},setCustom(){l.set(yl)}}}();function Dl(l,n,u){return function(l,n,u){for(var t=9*Math.floor(u/9),e=0;e<9;e+=1)if(l[t+e]===n)return!1;return!0}(l,n,u)&&function(l,n,u){for(var t=u%9,e=0;e<9;e+=1)if(l[t+9*e]===n)return!1;return!0}(l,n,u)&&function(l,n,u){for(var t=u-u%9%3-Math.floor(u/9)%3*9,e=0;e<9;e+=1)if(l[t+9*Math.floor(e/3)+e%3]===n)return!1;return!0}(l,n,u)}var Ul=0;function ql(l,n,u){if(0!==u&&++Ul>u)throw new Error("Max iterations reached. No solution found.");if(n>=81)return!0;if(0!==l[n])return ql(l,n+1,u);for(var t=1;t<=9;t+=1)if(Dl(l,t,n)&&(l[n]=t,ql(l,n+1,u)))return!0;return l[n]=0,!1}var Gl=function(l,n){var u={emptyValue:"0",hintCheck:!0,outputArray:!1,maxIterations:1<<20};if(void 0!==n&&Object.assign(u,n),"string"==typeof l&&(l=l.split("")),!Array.isArray(l))throw new TypeError("Puzzle must be string or array.");if(81!==l.length)throw new Error("Puzzle is an invalid size.");var t=0;if(l=l.map(function(l){if(l===u.emptyValue||l===parseInt(u.emptyValue,10))return 0;t++;var n=parseInt(l,10);if(isNaN(n)||n>9||n<1)throw new TypeError("Invalid puzzle value: "+l);return n}),u.hintCheck&&t<17)throw new Error("A valid puzzle must have at least 17 hints.");if(!ql(l,0,u.maxIterations))throw new Error("Puzzle could not be solved.");return u.outputArray?l:l.join("")};function Yl(l,n,u){return l(u={path:n,exports:{},require:function(l,n){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&u.path)}},u.exports),u.exports}var Wl=Yl(function(l,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getRandomIntBetween=function(l,n){return Math.floor(Math.random()*(n-l))+l}}),Xl=Yl(function(l,n){Object.defineProperty(n,"__esModule",{value:!0});var u=[[[null,8,null,null,null,null,null,null,null],[null,6,null,null,1,null,null,null,5],[null,null,5,8,null,2,null,4,7],[null,null,8,4,null,null,null,9,1],[null,9,null,null,null,null,null,8,null],[null,null,null,6,null,null,7,null,null],[null,null,null,null,5,null,null,3,null],[null,null,null,null,null,null,null,null,null],[2,1,null,null,6,null,null,null,9]],[[5,null,2,null,null,null,null,1,null],[null,null,7,null,8,4,6,null,null],[null,null,null,3,null,null,null,2,null],[null,3,null,null,null,7,null,null,null],[8,null,5,null,null,6,2,null,null],[null,null,null,1,4,null,null,null,null],[null,9,8,null,null,null,5,null,null],[1,null,null,6,null,null,4,null,null],[null,4,null,null,5,null,null,null,null]],[[null,null,null,null,null,null,1,null,null],[null,2,null,1,7,null,null,null,4],[null,7,null,null,null,null,8,null,9],[5,null,null,null,null,3,null,null,7],[null,null,null,8,4,null,null,null,null],[7,null,2,null,null,9,4,null,null],[null,null,8,null,3,null,null,null,null],[4,null,null,5,null,null,9,null,3],[null,1,null,null,null,8,null,null,null]],[[null,4,null,null,6,null,null,9,null],[null,null,null,null,7,null,8,null,1],[null,null,null,5,null,8,2,null,null],[2,null,null,null,8,null,null,null,5],[null,null,8,null,null,null,null,1,2],[7,null,null,9,null,3,null,null,null],[null,null,null,null,5,4,6,null,null],[null,null,null,null,null,null,null,null,3],[null,null,null,7,null,null,null,null,4]],[[null,null,null,null,null,null,null,7,2],[null,null,null,null,4,null,6,null,null],[null,null,null,null,null,null,5,null,null],[null,null,6,4,null,3,null,5,null],[null,8,null,null,null,6,1,null,null],[3,9,1,2,null,null,null,4,null],[7,null,null,null,8,null,null,null,null],[null,null,null,1,null,null,null,null,null],[null,null,4,9,6,null,null,null,8]],[[null,null,9,null,1,4,null,null,null],[null,null,null,null,null,null,null,null,null],[3,6,null,null,null,null,7,null,4],[8,null,1,null,null,5,9,null,null],[4,2,7,null,null,null,6,null,null],[null,null,null,null,7,null,null,null,null],[null,null,4,null,9,1,null,8,null],[7,null,null,null,null,null,null,null,6],[null,null,null,5,null,null,null,3,null]],[[null,6,null,null,null,5,null,3,2],[null,5,null,null,4,null,1,null,null],[null,null,null,null,7,null,null,6,null],[null,1,3,null,null,null,null,null,null],[5,null,null,null,null,4,null,null,3],[2,null,null,null,null,null,null,null,null],[null,8,null,null,1,2,4,7,null],[null,4,null,7,null,null,null,null,6],[null,null,null,null,6,null,8,9,null]],[[null,1,null,null,null,null,3,4,null],[null,null,2,null,4,null,null,null,null],[null,null,null,null,null,1,7,null,2],[9,null,null,1,null,null,null,null,5],[null,null,null,6,null,2,null,3,9],[1,null,null,3,null,null,null,null,4],[null,null,null,5,2,7,null,null,null],[null,9,null,null,8,6,null,null,null],[null,null,null,null,null,null,2,null,null]],[[3,null,null,null,null,null,5,null,null],[8,null,2,null,null,null,null,7,null],[7,9,null,null,null,5,null,null,2],[null,null,null,3,null,4,7,null,null],[null,null,null,null,null,6,null,4,3],[null,1,null,null,5,8,null,9,null],[null,null,null,6,2,null,null,5,null],[null,3,null,null,null,null,8,null,null],[null,null,null,null,null,null,null,1,null]]],t=[[[null,null,null,null,null,null,2,null,null],[9,7,6,null,null,null,null,5,null],[null,null,null,null,8,3,null,null,null],[8,null,1,null,null,null,null,null,null],[5,null,7,null,null,null,6,4,1],[null,null,null,2,null,null,null,null,null],[null,null,null,8,null,null,null,null,4],[null,4,null,null,9,5,3,null,2],[7,null,5,null,null,null,null,null,null]],[[6,null,null,null,null,null,3,null,null],[null,null,5,null,3,7,null,null,null],[null,null,null,5,null,null,null,null,null],[null,7,null,3,8,null,null,4,null],[null,2,null,null,1,null,null,null,null],[null,null,8,null,null,6,null,9,null],[8,null,null,6,null,9,null,null,null],[null,null,4,null,null,8,7,null,null],[null,9,2,7,null,null,null,null,6]],[[null,null,1,null,null,9,null,4,null],[6,null,null,null,4,null,null,null,null],[null,2,8,null,null,null,9,3,null],[null,null,null,null,null,null,6,7,null],[null,null,null,8,null,null,null,null,4],[null,null,null,5,2,4,3,null,null],[null,null,null,1,null,null,5,6,null],[null,null,6,null,null,null,null,null,2],[1,null,5,9,null,null,null,null,null]],[[8,7,null,null,null,null,null,null,null],[9,null,null,null,4,null,null,5,null],[4,null,null,null,2,9,7,null,null],[null,6,null,null,7,5,null,null,3],[null,null,null,null,3,null,null,null,9],[null,null,null,null,null,null,2,null,null],[null,null,null,null,null,7,null,null,null],[null,null,3,4,null,null,9,null,null],[2,8,5,null,null,null,null,null,null]],[[null,null,null,null,null,null,7,null,null],[null,4,null,null,5,null,1,null,null],[6,9,2,null,null,null,null,3,null],[null,null,1,null,null,9,null,null,null],[null,5,null,null,null,6,null,8,null],[null,2,null,7,null,4,null,9,null],[7,null,9,null,null,null,null,null,3],[null,null,null,null,null,null,null,7,null],[null,8,null,null,6,null,null,null,null]],[[5,null,null,null,1,null,9,null,4],[null,9,null,6,null,null,7,null,null],[6,null,null,null,null,null,null,1,null],[null,null,null,null,null,3,5,null,null],[2,null,null,null,null,null,null,null,3],[null,5,9,8,null,null,null,null,null],[null,null,null,null,null,null,1,null,null],[null,4,null,3,null,8,null,null,6],[null,3,null,9,null,null,null,4,null]],[[null,3,null,null,null,null,null,null,4],[null,null,null,6,null,null,1,null,null],[4,null,null,null,2,7,null,null,null],[null,null,null,null,4,null,null,2,5],[null,null,7,null,null,null,null,null,null],[6,null,8,null,null,1,null,null,null],[null,null,null,null,8,null,7,null,null],[null,1,null,null,null,null,null,6,null],[null,null,3,null,null,5,null,null,8]],[[null,null,3,6,null,2,null,9,null],[null,null,null,9,null,null,null,null,null],[null,null,6,1,7,null,2,null,null],[7,null,null,null,null,null,null,8,null],[null,null,null,null,8,5,3,null,null],[null,null,9,null,null,null,null,null,null],[4,null,null,7,null,9,1,null,null],[null,null,null,null,4,null,null,null,2],[null,null,null,null,null,1,7,5,null]],[[8,null,4,1,null,null,null,null,null],[null,null,1,9,3,2,null,null,4],[null,null,null,null,null,null,1,null,null],[1,5,null,null,null,null,null,7,null],[null,null,null,null,null,7,null,1,6],[2,null,null,null,null,5,null,null,null],[6,null,null,null,null,1,null,5,null],[null,null,null,3,null,null,2,null,null],[null,null,null,4,null,null,null,null,7]],[[4,null,null,null,null,1,8,null,null],[null,null,null,null,6,null,null,null,5],[null,5,1,null,null,null,null,null,null],[9,null,3,8,5,null,null,2,null],[null,null,null,null,null,7,null,6,null],[null,null,null,null,null,null,null,null,9],[6,7,null,null,null,3,null,4,null],[null,null,null,4,null,8,2,null,null],[null,3,null,null,null,null,null,null,null]]],e=[[[null,null,null,null,null,null,null,null,null],[null,null,8,null,2,6,null,null,null],[3,null,null,null,null,null,1,8,9],[null,null,null,9,5,null,null,null,3],[7,null,9,null,null,null,null,null,null],[4,null,null,null,6,1,5,null,null],[1,null,null,3,null,null,2,null,5],[null,null,null,null,null,null,null,null,null],[null,null,null,5,8,null,null,null,null]],[[null,null,9,null,5,null,2,null,7],[null,null,null,1,null,null,null,null,null],[2,1,null,null,6,null,4,null,5],[1,4,null,null,7,null,null,null,null],[null,6,2,null,null,null,null,null,null],[null,null,null,5,2,9,null,null,null],[null,null,null,7,null,null,null,null,8],[null,null,1,null,null,null,null,3,null],[5,8,null,null,null,null,null,null,null]],[[1,null,null,null,7,null,null,2,null],[null,null,5,null,null,null,null,null,null],[null,8,null,null,null,3,6,null,null],[6,5,null,null,3,1,null,null,null],[null,null,null,5,null,null,null,6,null],[3,null,9,null,6,null,7,null,1],[5,null,2,null,null,4,null,null,null],[null,null,null,null,null,null,null,9,null],[9,null,4,null,null,null,8,null,null]],[[9,5,null,1,null,null,2,null,null],[null,7,null,3,null,null,null,null,null],[null,null,null,null,null,2,null,6,9],[null,null,null,null,null,null,null,null,null],[null,null,null,5,null,null,null,null,null],[null,null,4,null,3,9,null,null,8],[7,null,6,null,null,null,null,null,3],[8,null,null,null,null,null,1,4,6],[3,null,null,null,null,null,null,9,5]],[[null,4,null,null,8,null,null,null,null],[null,null,null,null,9,1,6,null,null],[null,null,null,null,null,null,3,5,null],[5,null,null,null,null,null,null,null,null],[null,null,6,3,null,8,null,null,1],[null,null,7,9,null,null,null,null,null],[7,3,9,1,null,4,null,8,null],[2,8,null,null,null,null,null,null,null],[null,null,null,null,null,null,1,2,null]],[[null,8,null,5,4,null,null,null,null],[null,null,null,null,null,6,null,1,3],[null,null,null,null,null,null,8,6,null],[null,2,null,null,null,null,null,null,7],[null,null,4,null,null,null,9,null,null],[9,3,null,null,6,null,null,null,null],[null,6,null,2,null,null,7,null,null],[5,null,null,3,null,null,4,2,null],[null,null,7,null,5,1,null,null,null]],[[null,null,null,null,null,null,null,null,null],[null,8,null,7,9,1,null,null,null],[1,null,null,null,null,null,7,5,null],[null,null,null,null,3,null,null,null,null],[9,null,7,5,null,null,null,4,2],[5,null,2,9,7,4,null,null,null],[8,null,null,1,null,null,null,null,null],[null,null,null,null,2,null,null,null,9],[null,null,4,null,5,9,null,2,null]],[[null,null,null,null,null,null,null,null,null],[1,null,5,null,null,null,2,8,null],[null,null,6,null,7,8,null,null,null],[3,null,null,null,null,null,7,null,null],[null,null,8,7,1,3,null,null,4],[null,null,null,8,null,null,null,null,null],[8,null,3,null,null,null,null,4,null],[2,null,null,6,null,null,5,1,null],[null,null,null,null,null,4,null,null,7]],[[6,9,null,1,null,null,null,null,null],[null,null,null,null,3,null,null,8,null],[3,null,null,2,null,9,null,null,null],[null,null,8,null,1,null,null,3,null],[4,null,null,null,null,null,null,null,null],[5,null,null,null,null,6,8,null,null],[null,null,2,3,null,8,4,null,null],[null,null,7,null,9,4,2,null,null],[null,null,null,null,null,null,null,5,null]],[[null,null,null,null,7,null,null,1,null],[4,6,null,null,1,null,3,null,null],[null,null,5,4,null,null,null,7,null],[7,null,null,null,null,3,4,null,null],[null,null,null,null,null,null,null,null,9],[6,null,2,9,null,null,null,null,5],[null,8,null,null,2,null,5,null,null],[null,null,null,null,null,null,null,2,null],[null,5,null,null,null,null,null,9,1]]],r=[[[null,null,null,null,null,9,5,null,null],[null,4,null,null,null,2,null,null,8],[null,null,null,1,null,3,null,null,9],[null,null,6,null,null,5,null,null,null],[null,null,4,9,null,null,null,null,null],[null,null,null,2,7,6,null,3,null],[5,3,null,null,null,null,1,null,null],[null,1,null,null,null,null,null,4,5],[null,null,null,6,null,null,8,null,null]],[[null,null,3,2,null,9,5,null,null],[8,null,null,null,5,null,null,null,null],[null,null,null,null,null,null,null,null,2],[null,3,null,null,null,8,null,null,null],[null,null,null,null,null,null,6,1,null],[null,9,null,1,null,null,null,null,7],[null,null,null,null,null,6,null,null,9],[null,6,1,3,null,null,null,8,null],[null,8,5,7,null,null,3,null,null]],[[5,null,null,null,null,null,null,null,null],[null,3,null,9,6,null,null,7,null],[2,null,null,null,null,4,8,null,null],[null,null,5,null,null,null,null,8,1],[null,null,9,null,7,null,null,null,null],[1,6,null,5,null,null,null,null,7],[3,8,7,null,2,5,null,null,null],[null,null,null,null,null,null,null,null,null],[null,null,null,null,null,8,null,6,null]],[[2,null,null,null,8,null,null,null,null],[null,4,null,null,null,9,6,null,null],[null,null,6,2,null,null,null,null,null],[5,null,null,1,null,null,null,6,null],[6,null,null,null,null,null,3,null,null],[1,null,9,7,null,8,null,null,2],[null,null,8,null,null,null,4,3,null],[3,null,null,null,7,null,null,null,null],[null,1,null,3,null,5,null,null,null]],[[3,null,null,null,null,9,1,null,2],[null,5,8,null,null,null,9,7,null],[7,null,null,null,null,null,null,null,null],[null,null,null,null,4,3,null,null,null],[null,null,3,9,null,null,null,null,null],[9,null,null,7,null,null,null,null,null],[null,9,null,null,6,null,5,1,3],[null,null,2,null,8,null,4,null,null],[null,null,5,null,null,4,2,null,null]],[[null,null,null,1,5,null,8,3,null],[null,null,9,null,7,4,null,null,null],[null,null,null,null,null,null,null,null,6],[null,9,null,null,4,1,null,null,2],[null,null,null,null,null,3,6,5,null],[3,null,2,null,null,null,null,null,4],[null,5,null,9,null,null,null,8,3],[6,null,null,null,null,null,4,null,null],[null,2,null,null,null,null,null,null,null]],[[null,null,5,null,null,4,8,null,null],[null,1,null,null,9,2,null,null,3],[9,null,2,null,null,null,null,5,null],[null,6,null,null,null,null,null,3,9],[null,null,3,null,null,1,7,null,null],[null,null,null,null,null,null,null,null,null],[5,null,null,4,null,null,null,8,null],[6,null,null,null,3,5,null,null,null],[null,null,9,1,null,null,null,null,7]],[[8,null,null,7,null,5,9,null,null],[7,null,6,2,null,null,null,null,null],[null,9,null,null,null,null,null,7,null],[null,null,null,null,null,null,null,null,null],[null,null,null,6,null,4,null,null,3],[null,null,null,5,2,null,null,1,4],[null,null,null,null,8,null,null,null,1],[4,null,null,null,null,1,null,3,6],[null,3,8,null,null,null,2,null,null]],[[null,null,null,null,9,null,null,null,4],[null,4,null,1,null,null,null,6,null],[null,2,7,null,null,null,null,null,5],[null,9,null,null,null,null,null,null,null],[null,null,null,8,null,3,6,null,null],[null,null,6,null,null,4,1,5,null],[null,5,2,null,null,null,null,7,null],[null,null,null,4,null,8,null,null,null],[null,null,3,null,null,5,null,4,null]],[[null,null,null,null,null,null,9,null,2],[null,null,3,null,null,null,null,7,null],[null,null,2,4,8,null,null,null,null],[null,9,null,2,null,6,5,null,3],[null,null,null,null,null,1,4,null,6],[8,null,null,5,null,null,null,null,null],[null,7,null,null,null,null,null,null,null],[null,2,null,9,1,8,null,null,null],[1,6,null,null,2,null,null,null,null]]];n.getRandomVeryEasy=function(){var l=[];return u[Wl.getRandomIntBetween(0,u.length)].forEach(function(n){return l.push(n.slice())}),l},n.getRandomEasy=function(){var l=[];return t[Wl.getRandomIntBetween(0,t.length)].forEach(function(n){return l.push(n.slice())}),l},n.getRandomMedium=function(){var l=[];return e[Wl.getRandomIntBetween(0,e.length)].forEach(function(n){return l.push(n.slice())}),l},n.getRandomHard=function(){var l=[];return r[Wl.getRandomIntBetween(0,r.length)].forEach(function(n){return l.push(n.slice())}),l}}),Kl=Yl(function(l,n){Object.defineProperty(n,"__esModule",{value:!0}),n.shuffleColumns=function(l){return l=e(l),l=u(l),l=e(l)};var u=function(l){var n=[],u=[],e=[];l.forEach(function(l,t){t<3?n.push(l.slice()):t<6?u.push(l.slice()):e.push(l.slice())}),n=t(n),u=t(u),e=t(e);var r=[n,u,e],o=r.splice(Wl.getRandomIntBetween(0,r.length),1)[0],s=r.splice(Wl.getRandomIntBetween(0,r.length),1)[0],i=r[0];return l=o.concat(s,i)};n.shuffleRows=function(l){return u(l)};var t=function(l){var n=[l[0],l[1],l[2]];return l=[n.splice(Wl.getRandomIntBetween(0,n.length),1)[0],n.splice(Wl.getRandomIntBetween(0,n.length),1)[0],n[0]]},e=function(l){var n=[];l.forEach(function(l){return n.push(l.slice())});for(var u=0;u<9;u++)for(var t=0;t<9;t++)l[t][u]=n[u][t];return l};n.transponseTable=function(l){return e(l)};var r=function(l){var n=[];l.forEach(function(l){return n.push(l.slice())});for(var u=0;u<9;u++)for(var t=0;t<9;t++)l[t][u]=n[u][8-t];return l};n.rotateTable=function(l,n){for(var u=null!=n?n%4:1,t=0;t<u;t++)l=r(l);return l};var o=function(l){var n=[];l.forEach(function(l){return n.push(l.slice())});for(var u=0;u<4;u++)l[u]=n[8-u],l[8-u]=n[u];return l};n.horizontallyMirrorTable=function(l){return l=o(l)},n.verticallyMirrorTable=function(l){return l=e(l),l=o(l),l=e(l)},n.randomizeTableNumbers=function(l){var n=[1,2,3,4,5,6,7,8,9],u={1:n.splice(Wl.getRandomIntBetween(0,n.length),1)[0],2:n.splice(Wl.getRandomIntBetween(0,n.length),1)[0],3:n.splice(Wl.getRandomIntBetween(0,n.length),1)[0],4:n.splice(Wl.getRandomIntBetween(0,n.length),1)[0],5:n.splice(Wl.getRandomIntBetween(0,n.length),1)[0],6:n.splice(Wl.getRandomIntBetween(0,n.length),1)[0],7:n.splice(Wl.getRandomIntBetween(0,n.length),1)[0],8:n.splice(Wl.getRandomIntBetween(0,n.length),1)[0],9:n[0]};return l.forEach(function(n,t){n.forEach(function(n,e){n&&(l[t][e]=u[n])})}),l}}),Jl=Yl(function(l,n){Object.defineProperty(n,"__esModule",{value:!0});var u=function(l){return l=Kl.shuffleColumns(l),l=Kl.shuffleRows(l),l=Kl.rotateTable(l,Wl.getRandomIntBetween(0,4)),Wl.getRandomIntBetween(0,2)&&(l=Kl.transponseTable(l)),Wl.getRandomIntBetween(0,2)&&(l=Kl.horizontallyMirrorTable(l)),Wl.getRandomIntBetween(0,2)&&(l=Kl.verticallyMirrorTable(l)),l=Kl.randomizeTableNumbers(l)};n.getVeryEasySudoku=function(){var l=Xl.getRandomVeryEasy();return l=u(l)},n.getEasySudoku=function(){var l=Xl.getRandomEasy();return l=u(l)},n.getMediumSudoku=function(){var l=Xl.getRandomMedium();return l=u(l)},n.getHardSudoku=function(){var l=Xl.getRandomHard();return l=u(l)},n.getSudoku=function(l){switch(l+"".toLowerCase()){case"veryeasy":default:return n.getVeryEasySudoku();case"easy":return n.getEasySudoku();case"medium":return n.getMediumSudoku();case"hard":return n.getHardSudoku()}}});const Zl=function(){const l=Tl((()=>{const l=localStorage.getItem("settings");return l?JSON.parse(l):$l})());return{subscribe:l.subscribe,set(n){l.set(n),localStorage.setItem("settings",JSON.stringify(n))}}}(),Ql=Tl(0);const ln=function(){let l=1/0;const n=Tl(1/0);return Zl.subscribe(u=>{u.hintsLimited?(l=u.hints,n.update(l=>l>u.hints?u.hints:l)):(l=1/0,n.set(1/0))}),{subscribe:n.subscribe,useHint(){n.update(l=>l>0?(Ql.update(l=>l+1),l-1):0)},reset(){n.set(l),Ql.set(0)}}}();const nn=function(){const l=Tl([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]);return{subscribe:l.subscribe,generate(n){l.set(function(l="easy"){const n=Jl.getSudoku(l);for(let l=0;l<9;l++)for(let u=0;u<9;u++)null===n[l][u]&&(n[l][u]=0);return n}(n))},parseSudoku(n){l.set(_l.parse(n))},get:(l,n,u)=>l[u][n],getSencode:l=>_l.encode(l)}}();const un=function(){const l=Tl([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]);return nn.subscribe(n=>{let u=[];for(let l=0;l<9;l++){u[l]=[];for(let t=0;t<9;t++)u[l][t]=n[l][t]}l.set(u)}),{subscribe:l.subscribe,set:(n,u)=>{l.update(l=>(l[n.y][n.x]=u,l))},applyHint:n=>{ln.useHint(),l.update(l=>{const u=function(l){let n=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];const u=Gl(l.flat().join(""),{outputArray:!0,hintCheck:!1});for(let l=0;l<kl;l++){const[t,e]=Ml[l];n[t][e]=u[l]}return n}(l);return l[n.y][n.x]=u[n.y][n.x],l})}}}(),tn=Pl(un,l=>{const n=[],u=(l,u)=>{const t=l+","+u;n.includes(t)||n.push(t)};for(let n=0;n<9;n++)for(let t=0;t<9;t++){const e=l[n][t];if(e){for(let r=0;r<9;r++)r!==t&&l[n][r]===e&&u(t,n),r!==n&&l[r][t]===e&&u(t,r);const r=3*Math.floor(n/3),o=r+3,s=3*Math.floor(t/3),i=s+3;for(let a=r;a<o;a++)for(let r=s;r<i;r++)a!==n&&r!==t&&l[a][r]===e&&u(r,a)}}return n},[]),en=Tl(!0),rn=Pl([un,tn],([l,n])=>{for(let n=0;n<9;n++)for(let u=0;u<9;u++)if(0===l[n][u])return!1;return 0===n.length},!1);const on=function(){let l=null,n=null,u=null,t=0,e=!1;const r=Tl("00:00");return{subscribe:r.subscribe,start(){e||(null===n&&(this.reset(),n=Date.now()),null!==u&&(t+=Date.now()-u),l=setInterval(()=>{const l=Date.now()-n-t,u=new Date(l).toISOString().substr(11,8);"00"!==u.substr(0,2)?r.set(u):r.set(u.substr(3))},10),e=!0)},stop(){e=!1,u=Date.now(),clearInterval(l)},reset(){e=!1,clearInterval(l),t=0,n=null,u=null,r.set("00:00")}}}();function sn(l){Vl.set(l),nn.generate(l),Fl.reset(),on.reset(),ln.reset(),location.hash=""}function an(l){Vl.setCustom(),nn.parseSudoku(l),Fl.reset(),on.reset(),ln.reset()}function cn(){on.stop(),en.set(!0)}function dn(){on.start(),en.set(!1)}var fn={startNew:sn,startCustom:an,pause:cn,resume:dn};const hn=Tl({});const mn=function(){const l=Tl(Il);let n=!1,u=!1;return{subscribe:l.subscribe,show(t,e={}){l.set(t),hn.set(e),n=e.onHide||!1,u=e.onHideReplace||!1},hide(){u&&n?n():(l.set(Il),n&&setTimeout(n,Nl))}}}();const pn=function(){const l=Tl({});return{subscribe:l.subscribe,add(n,u){l.update(l=>(l.hasOwnProperty(n.x+","+n.y)?l[n.x+","+n.y].includes(u)?delete l[n.x+","+n.y][l[n.x+","+n.y].indexOf(u)]:l[n.x+","+n.y].push(u):l[n.x+","+n.y]=[u],l))},clear(n){l.update(l=>(delete l[n.x+","+n.y],l))}}}();function gn(l,n,u){const t=l.slice();return t[2]=n[u][0],t[3]=n[u][1],t[5]=u,t}function vn(l){let n,u,t,e=l[5]+1+"";return{c(){n=$("div"),u=M(e),t=C(),I(n,"class","candidate row-start-"+l[2]+" col-start-"+l[3]+" svelte-zlhaz3"),H(n,"invisible",!l[0].includes(l[5]+1)),H(n,"visible",l[0].includes(l[5]+1)),H(n,"tried",l[1]&&l[1].includes(l[5]+1))},m(l,e){w(l,n,e),g(n,u),g(n,t)},p(l,u){1&u&&H(n,"invisible",!l[0].includes(l[5]+1)),1&u&&H(n,"visible",l[0].includes(l[5]+1)),2&u&&H(n,"tried",l[1]&&l[1].includes(l[5]+1))},d(l){l&&y(n)}}}function bn(n){let u,t=Cl,e=[];for(let l=0;l<t.length;l+=1)e[l]=vn(gn(n,t,l));return{c(){u=$("div");for(let l=0;l<e.length;l+=1)e[l].c();I(u,"class","candidate-grid svelte-zlhaz3")},m(l,n){w(l,u,n);for(let l=0;l<e.length;l+=1)e[l]&&e[l].m(u,null)},p(l,[n]){if(3&n){let r;for(t=Cl,r=0;r<t.length;r+=1){const o=gn(l,t,r);e[r]?e[r].p(o,n):(e[r]=vn(o),e[r].c(),e[r].m(u,null))}for(;r<e.length;r+=1)e[r].d(1);e.length=t.length}},i:l,o:l,d(l){l&&y(u),x(e,l)}}}function wn(l,n,u){let{candidates:t=[]}=n,{tried:e=[]}=n;return l.$$set=l=>{"candidates"in l&&u(0,t=l.candidates),"tried"in l&&u(1,e=l.tried)},[t,e]}class yn extends bl{constructor(l){super(),vl(this,l,wn,bn,o,{candidates:0,tried:1})}}function xn(l){const n=l-1;return n*n*n+1}function $n(l,{delay:u=0,duration:t=400,easing:e=n}={}){const r=+getComputedStyle(l).opacity;return{delay:u,duration:t,easing:e,css:l=>"opacity: "+l*r}}function kn(l,{delay:n=0,duration:u=400,easing:t=xn,axis:e="y"}={}){const r=getComputedStyle(l),o=+r.opacity,s="y"===e?"height":"width",i=parseFloat(r[s]),a="y"===e?["top","bottom"]:["left","right"],c=a.map(l=>`${l[0].toUpperCase()}${l.slice(1)}`),d=parseFloat(r[`padding${c[0]}`]),f=parseFloat(r[`padding${c[1]}`]),h=parseFloat(r[`margin${c[0]}`]),m=parseFloat(r[`margin${c[1]}`]),p=parseFloat(r[`border${c[0]}Width`]),g=parseFloat(r[`border${c[1]}Width`]);return{delay:n,duration:u,easing:t,css:l=>`overflow: hidden;opacity: ${Math.min(20*l,1)*o};${s}: ${l*i}px;padding-${a[0]}: ${l*d}px;padding-${a[1]}: ${l*f}px;margin-${a[0]}: ${l*h}px;margin-${a[1]}: ${l*m}px;border-${a[0]}-width: ${l*p}px;border-${a[1]}-width: ${l*g}px;`}}function Mn(l,{delay:n=0,duration:u=400,easing:t=xn,start:e=0,opacity:r=0}={}){const o=getComputedStyle(l),s=+o.opacity,i="none"===o.transform?"":o.transform,a=1-e,c=s*(1-r);return{delay:n,duration:u,easing:t,css:(l,n)=>`\n\t\t\ttransform: ${i} scale(${1-a*n});\n\t\t\topacity: ${s-c*n}\n\t\t`}}function Cn(l){let n,u,t,e,o,s,i;const a=[zn,Sn],c=[];function d(l,n){return l[3]?0:1}return t=d(l),e=c[t]=a[t](l),{c(){n=$("div"),u=$("button"),e.c(),I(u,"class","cell-btn svelte-5iirf7"),I(n,"class","cell-inner svelte-5iirf7"),H(n,"user-number",l[7]),H(n,"selected",l[8]),H(n,"same-area",l[9]),H(n,"same-number",l[10]),H(n,"conflicting-number",l[6])},m(e,a){w(e,n,a),g(n,u),c[t].m(u,null),o=!0,s||(i=z(u,"click",function(){r(Fl.set(l[1]-1,l[2]-1))&&Fl.set(l[1]-1,l[2]-1).apply(this,arguments)}),s=!0)},p(r,s){let i=t;t=d(l=r),t===i?c[t].p(l,s):(ol(),al(c[i],1,1,()=>{c[i]=null}),sl(),e=c[t],e?e.p(l,s):(e=c[t]=a[t](l),e.c()),il(e,1),e.m(u,null)),(!o||128&s)&&H(n,"user-number",l[7]),(!o||256&s)&&H(n,"selected",l[8]),(!o||512&s)&&H(n,"same-area",l[9]),(!o||1024&s)&&H(n,"same-number",l[10]),(!o||64&s)&&H(n,"conflicting-number",l[6])},i(l){o||(il(e),o=!0)},o(l){al(e),o=!1},d(l){l&&y(n),c[t].d(),s=!1,i()}}}function Sn(n){let u,t,e=(n[0]||"")+"";return{c(){u=$("span"),t=M(e),I(u,"class","cell-text svelte-5iirf7")},m(l,n){w(l,u,n),g(u,t)},p(l,n){1&n&&e!==(e=(l[0]||"")+"")&&E(t,e)},i:l,o:l,d(l){l&&y(u)}}}function zn(l){let n,u;return n=new yn({props:{candidates:l[3],tried:l[4]}}),{c(){hl(n.$$.fragment)},m(l,t){ml(n,l,t),u=!0},p(l,u){const t={};8&u&&(t.candidates=l[3]),16&u&&(t.tried=l[4]),n.$set(t)},i(l){u||(il(n.$$.fragment,l),u=!0)},o(l){al(n.$$.fragment,l),u=!1},d(l){pl(n,l)}}}function jn(l){let n,u,t,e=!l[5]&&Cn(l);return{c(){n=$("div"),e&&e.c(),I(n,"class",u="cell row-start-"+l[2]+" col-start-"+l[1]+" svelte-5iirf7"),H(n,"border-r",l[11]),H(n,"border-r-4",l[12]),H(n,"border-b",l[13]),H(n,"border-b-4",l[14])},m(l,u){w(l,n,u),e&&e.m(n,null),t=!0},p(l,[r]){l[5]?e&&(ol(),al(e,1,1,()=>{e=null}),sl()):e?(e.p(l,r),32&r&&il(e,1)):(e=Cn(l),e.c(),il(e,1),e.m(n,null)),(!t||6&r&&u!==(u="cell row-start-"+l[2]+" col-start-"+l[1]+" svelte-5iirf7"))&&I(n,"class",u),(!t||2054&r)&&H(n,"border-r",l[11]),(!t||4102&r)&&H(n,"border-r-4",l[12]),(!t||8198&r)&&H(n,"border-b",l[13]),(!t||16390&r)&&H(n,"border-b-4",l[14])},i(l){t||(il(e),t=!0)},o(l){al(e),t=!1},d(l){l&&y(n),e&&e.d()}}}function In(l,n,u){let{value:t}=n,{cellX:e}=n,{cellY:r}=n,{candidates:o}=n,{triedCandidates:s}=n,{disabled:i}=n,{conflictingNumber:a}=n,{userNumber:c}=n,{selected:d}=n,{sameArea:f}=n,{sameNumber:h}=n;const m=9!==e&&e%3!=0,p=9!==e&&e%3==0,g=9!==r&&r%3!=0,v=9!==r&&r%3==0;return l.$$set=l=>{"value"in l&&u(0,t=l.value),"cellX"in l&&u(1,e=l.cellX),"cellY"in l&&u(2,r=l.cellY),"candidates"in l&&u(3,o=l.candidates),"triedCandidates"in l&&u(4,s=l.triedCandidates),"disabled"in l&&u(5,i=l.disabled),"conflictingNumber"in l&&u(6,a=l.conflictingNumber),"userNumber"in l&&u(7,c=l.userNumber),"selected"in l&&u(8,d=l.selected),"sameArea"in l&&u(9,f=l.sameArea),"sameNumber"in l&&u(10,h=l.sameNumber)},[t,e,r,o,s,i,a,c,d,f,h,m,p,g,v]}class Nn extends bl{constructor(l){super(),vl(this,l,In,jn,o,{value:0,cellX:1,cellY:2,candidates:3,triedCandidates:4,disabled:5,conflictingNumber:6,userNumber:7,selected:8,sameArea:9,sameNumber:10})}}const En=function(){const l=Tl(!1);return{subscribe:l.subscribe,toggle(){l.update(l=>!l)}}}(),Bn=Pl([Fl,nn,en],([l,n,u])=>null===l.x&&null===l.y||0!==n[l.y][l.x]||u,!1),An=[];let Rn=-1;const Hn=Tl({});function _n(l){return l&&null!=l.x&&null!=l.y?{x:l.x,y:l.y}:null}function Ln(l){return`${l.x},${l.y}`}function On(l,n){if(!l||!Object.prototype.hasOwnProperty.call(l,n))return[];const u=l[n];return Array.isArray(u)?[...u]:[]}function Tn(l,n,u){un.set(l,n),pn.clear(l);for(const n of u)pn.add(l,n)}function Pn(l,n,u,t){const e=a(un),r=a(pn),o=Ln(l),s=e[l.y][l.x],i=On(r,o);t({key:o,candidatesBefore:r});const c=a(un),d=a(pn),f=c[l.y][l.x],h=On(d,o);if(s===f&&function(l,n){if(l.length!==n.length)return!1;for(let u=0;u<l.length;u++)if(l[u]!==n[u])return!1;return!0}(i,h))return;Rn<An.length-1&&An.splice(Rn+1);const m=i.length>1,p="user"===u&&!n&&m,g={action:{type:"input",pos:{x:l.x,y:l.y},prevValue:s,nextValue:f,prevCandidates:i,nextCandidates:h,noteMode:n},branch:{isBranchPoint:p,cellKey:p?o:void 0,candidatesAtBranch:p?[...i]:void 0,triedCandidates:[]}};An.push(g),Rn=An.length-1}function Fn(){if(Rn<0)return;const l=An[Rn],{pos:n,prevValue:u,prevCandidates:t}=l.action;Tn(n,u,t),Rn-=1}function Vn(){An.length=0,Rn=-1,Hn.set({})}function Dn(){Fn()}function Un(){!function(){if(Rn>=An.length-1)return;const l=An[Rn+1],{pos:n,nextValue:u,nextCandidates:t}=l.action;Tn(n,u,t),Rn+=1}()}function qn(){if(0===An.length||Rn<0)return;let l=-1;for(let n=An[Rn].branch.isBranchPoint?Rn-1:Rn;n>=0;n--)if(An[n].branch.isBranchPoint){l=n;break}if(-1===l){for(;Rn>=0;)Fn();return void Hn.set({})}const n=An[l],u=n.branch.cellKey,t=n.branch.candidatesAtBranch||[];let e=null;for(let n=l;n<=Rn;n++){const l=An[n].action;if(!l.noteMode&&"input"===l.type){Ln(l.pos)===u&&0!==l.nextValue&&t.includes(l.nextValue)&&(e=l.nextValue)}}for(null!==e&&(n.branch.triedCandidates.includes(e)||n.branch.triedCandidates.push(e),Hn.update(l=>{const n=Object.assign({},l),t=n[u]?[...n[u]]:[];return t.includes(e)||t.push(e),n[u]=t,n}));Rn>=l;)Fn()}function Gn(l,n,u){const t=l.slice();return t[9]=n[u],t[11]=u,t}function Yn(l,n,u){const t=l.slice();t[12]=n[u],t[15]=u;const e=t[15]+","+t[11];return t[13]=e,t}function Wn(l){let n,u;return n=new Nn({props:{value:l[12],cellY:l[11]+1,cellX:l[15]+1,candidates:l[2][l[13]],triedCandidates:l[3][l[13]],disabled:l[0],selected:Jn(l[4],l[15],l[11]),userNumber:0===l[5][l[11]][l[15]],sameArea:l[6].highlightCells&&!Jn(l[4],l[15],l[11])&&l[8](l[4],l[15],l[11]),sameNumber:l[6].highlightSame&&l[12]&&!Jn(l[4],l[15],l[11])&&Zn(l[1],l[4])===l[12],conflictingNumber:l[6].highlightConflicting&&0===l[5][l[11]][l[15]]&&l[7].includes(l[15]+","+l[11])}}),{c(){hl(n.$$.fragment)},m(l,t){ml(n,l,t),u=!0},p(l,u){const t={};2&u&&(t.value=l[12]),4&u&&(t.candidates=l[2][l[13]]),8&u&&(t.triedCandidates=l[3][l[13]]),1&u&&(t.disabled=l[0]),16&u&&(t.selected=Jn(l[4],l[15],l[11])),32&u&&(t.userNumber=0===l[5][l[11]][l[15]]),80&u&&(t.sameArea=l[6].highlightCells&&!Jn(l[4],l[15],l[11])&&l[8](l[4],l[15],l[11])),82&u&&(t.sameNumber=l[6].highlightSame&&l[12]&&!Jn(l[4],l[15],l[11])&&Zn(l[1],l[4])===l[12]),224&u&&(t.conflictingNumber=l[6].highlightConflicting&&0===l[5][l[11]][l[15]]&&l[7].includes(l[15]+","+l[11])),n.$set(t)},i(l){u||(il(n.$$.fragment,l),u=!0)},o(l){al(n.$$.fragment,l),u=!1},d(l){pl(n,l)}}}function Xn(l){let n,u,t=l[9],e=[];for(let n=0;n<t.length;n+=1)e[n]=Wn(Yn(l,t,n));const r=l=>al(e[l],1,1,()=>{e[l]=null});return{c(){for(let l=0;l<e.length;l+=1)e[l].c();n=S()},m(l,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].m(l,t);w(l,n,t),u=!0},p(l,u){if(511&u){let o;for(t=l[9],o=0;o<t.length;o+=1){const r=Yn(l,t,o);e[o]?(e[o].p(r,u),il(e[o],1)):(e[o]=Wn(r),e[o].c(),il(e[o],1),e[o].m(n.parentNode,n))}for(ol(),o=t.length;o<e.length;o+=1)r(o);sl()}},i(l){if(!u){for(let l=0;l<t.length;l+=1)il(e[l]);u=!0}},o(l){e=e.filter(Boolean);for(let l=0;l<e.length;l+=1)al(e[l]);u=!1},d(l){x(e,l),l&&y(n)}}}function Kn(l){let n,u,t,e,r,o,s=l[1],i=[];for(let n=0;n<s.length;n+=1)i[n]=Xn(Gn(l,s,n));const a=l=>al(i[l],1,1,()=>{i[l]=null});return{c(){n=$("div"),u=$("div"),u.innerHTML='<div class="w-full" style="padding-top: 100%"></div>',t=C(),e=$("div"),r=$("div");for(let l=0;l<i.length;l+=1)i[l].c();I(u,"class","max-w-xl relative"),I(r,"class","bg-white shadow-2xl rounded-xl overflow-hidden w-full h-full max-w-xl grid"),H(r,"bg-gray-200",l[0]),I(e,"class","board-padding absolute inset-0 flex justify-center svelte-yrggow"),I(n,"class","board-padding relative z-10 svelte-yrggow")},m(l,s){w(l,n,s),g(n,u),g(n,t),g(n,e),g(e,r);for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(r,null);o=!0},p(l,[n]){if(511&n){let u;for(s=l[1],u=0;u<s.length;u+=1){const t=Gn(l,s,u);i[u]?(i[u].p(t,n),il(i[u],1)):(i[u]=Xn(t),i[u].c(),il(i[u],1),i[u].m(r,null))}for(ol(),u=s.length;u<i.length;u+=1)a(u);sl()}(!o||1&n)&&H(r,"bg-gray-200",l[0])},i(l){if(!o){for(let l=0;l<s.length;l+=1)il(i[l]);o=!0}},o(l){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)al(i[l]);o=!1},d(l){l&&y(n),x(i,l)}}}function Jn(l,n,u){return l.x===n&&l.y===u}function Zn(l,n){return null===n.x&&null===n.y?null:l[n.y][n.x]}function Qn(l,n,u){let t,e,r,o,s,i,a,d;return c(l,en,l=>u(0,t=l)),c(l,un,l=>u(1,e=l)),c(l,pn,l=>u(2,r=l)),c(l,Hn,l=>u(3,o=l)),c(l,Fl,l=>u(4,s=l)),c(l,nn,l=>u(5,i=l)),c(l,Zl,l=>u(6,a=l)),c(l,tn,l=>u(7,d=l)),[t,e,r,o,s,i,a,d,function(l,n,u){if(null===l.x&&null===l.y)return!1;if(l.x===n||l.y===u)return!0;const t=Math.floor(l.x/3),e=Math.floor(l.y/3),r=Math.floor(n/3),o=Math.floor(u/3);return t===r&&e===o}]}class lu extends bl{constructor(l){super(),vl(this,l,Qn,Kn,o,{})}}function nu(l){let n;return{c(){n=k("path"),I(n,"stroke-linecap","round"),I(n,"stroke-linejoin","round"),I(n,"stroke-width","2"),I(n,"d","M6 3v18M18 3v18")},m(l,u){w(l,n,u)},d(l){l&&y(n)}}}function uu(l){let n;return{c(){n=k("path"),I(n,"stroke-linecap","round"),I(n,"stroke-linejoin","round"),I(n,"stroke-width","2"),I(n,"d","M18.19 9.61L9.01 3.48A2.87 2.87 0 004.54 5.88v12.25a2.87 2.87 0 004.47 2.39l9.18-6.12a2.87 2.87 0 000-4.78v0z")},m(l,u){w(l,n,u)},d(l){l&&y(n)}}}function tu(l){let n,u;return{c(){n=$("span"),u=M(l[2]),I(n,"class","timer-text svelte-17abf90"),I(n,"title","Time")},m(l,t){w(l,n,t),g(n,u)},p(l,n){4&n&&E(u,l[2])},d(l){l&&y(n)}}}function eu(n){let u,t,e,r,o,s,i;function a(l,n){return l[0]?uu:nu}let c=a(n),d=c(n),f=n[1].displayTimer&&tu(n);return{c(){u=$("div"),t=$("button"),e=k("svg"),d.c(),o=C(),f&&f.c(),I(e,"class","icon-outline"),I(e,"xmlns","http://www.w3.org/2000/svg"),I(e,"fill","none"),I(e,"viewBox","0 0 24 24"),I(e,"stroke","currentColor"),I(t,"class","btn btn-round"),I(t,"title",r=n[0]?"Resume Game":"Pause Game"),I(u,"class","timer-container svelte-17abf90")},m(l,r){w(l,u,r),g(u,t),g(t,e),d.m(e,null),g(u,o),f&&f.m(u,null),s||(i=z(t,"click",n[3]),s=!0)},p(l,[n]){c!==(c=a(l))&&(d.d(1),d=c(l),d&&(d.c(),d.m(e,null))),1&n&&r!==(r=l[0]?"Resume Game":"Pause Game")&&I(t,"title",r),l[1].displayTimer?f?f.p(l,n):(f=tu(l),f.c(),f.m(u,null)):f&&(f.d(1),f=null)},i:l,o:l,d(l){l&&y(u),d.d(),f&&f.d(),s=!1,i()}}}function ru(l,n,u){let t,e,r;c(l,en,l=>u(0,t=l)),c(l,Zl,l=>u(1,e=l)),c(l,on,l=>u(2,r=l));return[t,e,r,()=>t?dn():cn()]}class ou extends bl{constructor(l){super(),vl(this,l,ru,eu,o,{})}}function su(l){let n,u;return{c(){n=$("span"),u=M(l[0]),I(n,"class","badge svelte-1vdx5jr"),H(n,"badge-primary",l[1])},m(l,t){w(l,n,t),g(n,u)},p(l,t){1&t&&E(u,l[0]),2&t&&H(n,"badge-primary",l[1])},d(l){l&&y(n)}}}function iu(n){let u,t,r,o,s,i,a,c,d,f,h,m,p,v,b,x,S,j,N,B,A,R,_,L,O,T,P,F,V,D=n[7]?"ON":"OFF",U=n[6].hintsLimited&&su(n);return{c(){u=$("div"),t=$("button"),r=k("svg"),o=k("path"),s=C(),i=$("button"),a=k("svg"),c=k("path"),d=C(),f=$("button"),h=k("svg"),m=k("path"),p=C(),v=$("button"),b=k("svg"),x=k("path"),S=C(),U&&U.c(),B=C(),A=$("button"),R=k("svg"),_=k("path"),L=C(),O=$("span"),T=M(D),I(o,"stroke-linecap","round"),I(o,"stroke-linejoin","round"),I(o,"stroke-width","2"),I(o,"d","M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"),I(r,"class","icon-outline"),I(r,"xmlns","http://www.w3.org/2000/svg"),I(r,"fill","none"),I(r,"viewBox","0 0 24 24"),I(r,"stroke","currentColor"),I(t,"class","btn btn-round"),t.disabled=n[3],I(t,"title","Undo"),I(c,"stroke-linecap","round"),I(c,"stroke-linejoin","round"),I(c,"stroke-width","2"),I(c,"d","M21 10h-10a8 8 90 00-8 8v2M21 10l-6 6m6-6l-6-6"),I(a,"class","icon-outline"),I(a,"xmlns","http://www.w3.org/2000/svg"),I(a,"fill","none"),I(a,"viewBox","0 0 24 24"),I(a,"stroke","currentColor"),I(i,"class","btn btn-round"),i.disabled=n[3],I(i,"title","Redo"),I(m,"stroke-linecap","round"),I(m,"stroke-linejoin","round"),I(m,"stroke-width","2"),I(m,"d","M4 4v6h6M4 10a8 8 0 018-8 8 8 0 018 8v2m0 0l-3-3m3 3l3-3"),I(h,"class","icon-outline"),I(h,"xmlns","http://www.w3.org/2000/svg"),I(h,"fill","none"),I(h,"viewBox","0 0 24 24"),I(h,"stroke","currentColor"),I(f,"class","btn btn-round"),f.disabled=n[3],I(f,"title","Restart from last branch"),I(x,"stroke-linecap","round"),I(x,"stroke-linejoin","round"),I(x,"stroke-width","2"),I(x,"d","M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"),I(b,"class","icon-outline"),I(b,"xmlns","http://www.w3.org/2000/svg"),I(b,"fill","none"),I(b,"viewBox","0 0 24 24"),I(b,"stroke","currentColor"),I(v,"class","btn btn-round btn-badge svelte-1vdx5jr"),v.disabled=j=n[4]||!n[1]||0!==n[5][n[2].y][n[2].x],I(v,"title",N="Hints ("+n[0]+")"),I(_,"stroke-linecap","round"),I(_,"stroke-linejoin","round"),I(_,"stroke-width","2"),I(_,"d","M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"),I(R,"class","icon-outline"),I(R,"xmlns","http://www.w3.org/2000/svg"),I(R,"fill","none"),I(R,"viewBox","0 0 24 24"),I(R,"stroke","currentColor"),I(O,"class","badge tracking-tighter svelte-1vdx5jr"),H(O,"badge-primary",n[7]),I(A,"class","btn btn-round btn-badge svelte-1vdx5jr"),I(A,"title",P="Notes ("+(n[7]?"ON":"OFF")+")"),I(u,"class","action-buttons space-x-3 svelte-1vdx5jr")},m(l,e){w(l,u,e),g(u,t),g(t,r),g(r,o),g(u,s),g(u,i),g(i,a),g(a,c),g(u,d),g(u,f),g(f,h),g(h,m),g(u,p),g(u,v),g(v,b),g(b,x),g(v,S),U&&U.m(v,null),g(u,B),g(u,A),g(A,R),g(R,_),g(A,L),g(A,O),g(O,T),F||(V=[z(t,"click",Dn),z(i,"click",Un),z(f,"click",qn),z(v,"click",n[8]),z(A,"click",En.toggle)],F=!0)},p(l,[n]){8&n&&(t.disabled=l[3]),8&n&&(i.disabled=l[3]),8&n&&(f.disabled=l[3]),l[6].hintsLimited?U?U.p(l,n):(U=su(l),U.c(),U.m(v,null)):U&&(U.d(1),U=null),54&n&&j!==(j=l[4]||!l[1]||0!==l[5][l[2].y][l[2].x])&&(v.disabled=j),1&n&&N!==(N="Hints ("+l[0]+")")&&I(v,"title",N),128&n&&D!==(D=l[7]?"ON":"OFF")&&E(T,D),128&n&&H(O,"badge-primary",l[7]),128&n&&P!==(P="Notes ("+(l[7]?"ON":"OFF")+")")&&I(A,"title",P)},i:l,o:l,d(l){l&&y(u),U&&U.d(),F=!1,e(V)}}}function au(l,n,u){let t,e,r,o,s,i,a,d,f;return c(l,pn,l=>u(9,e=l)),c(l,Fl,l=>u(2,r=l)),c(l,ln,l=>u(0,o=l)),c(l,en,l=>u(3,s=l)),c(l,Bn,l=>u(4,i=l)),c(l,un,l=>u(5,a=l)),c(l,Zl,l=>u(6,d=l)),c(l,En,l=>u(7,f=l)),l.$$.update=()=>{1&l.$$.dirty&&u(1,t=o>0)},[o,t,r,s,i,a,d,f,function(){t&&function(l,n){const u=_n(l);u&&Pn(u,!1,"hint",()=>{n(u)})}({x:r.x,y:r.y},l=>{e.hasOwnProperty(l.x+","+l.y)&&pn.clear(l),un.applyHint(l)})}]}class cu extends bl{constructor(l){super(),vl(this,l,au,iu,o,{})}}function du(n){let u,t,e,r,o;return t=new ou({}),r=new cu({}),{c(){u=$("div"),hl(t.$$.fragment),e=C(),hl(r.$$.fragment),I(u,"class","action-bar space-y-3 xs:space-y-0 svelte-16dc50t")},m(l,n){w(l,u,n),ml(t,u,null),g(u,e),ml(r,u,null),o=!0},p:l,i(l){o||(il(t.$$.fragment,l),il(r.$$.fragment,l),o=!0)},o(l){al(t.$$.fragment,l),al(r.$$.fragment,l),o=!1},d(l){l&&y(u),pl(t),pl(r)}}}class fu extends bl{constructor(l){super(),vl(this,l,null,du,o,{})}}function hu(l,n,u){const t=l.slice();return t[5]=n[u],t[7]=u,t}function mu(l){let n,u,t,e,r,o=l[7]+1+"";function s(){return l[4](l[7])}return{c(){n=$("button"),u=M(o),t=C(),I(n,"class","btn btn-key svelte-vy4ayf"),n.disabled=l[0],I(n,"title","Insert "+(l[7]+1))},m(l,o){w(l,n,o),g(n,u),g(n,t),e||(r=z(n,"click",s),e=!0)},p(u,t){l=u,1&t&&(n.disabled=l[0])},d(l){l&&y(n),e=!1,r()}}}function pu(l){let n,u,t,e,r,o;return{c(){n=$("button"),u=k("svg"),t=k("path"),e=C(),I(t,"stroke-linecap","round"),I(t,"stroke-linejoin","round"),I(t,"stroke-width","2"),I(t,"d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"),I(u,"class","icon-outline"),I(u,"xmlns","http://www.w3.org/2000/svg"),I(u,"fill","none"),I(u,"viewBox","0 0 24 24"),I(u,"stroke","currentColor"),I(n,"class","btn btn-key svelte-vy4ayf"),n.disabled=l[0],I(n,"title","Erase Field")},m(s,i){w(s,n,i),g(n,u),g(u,t),g(n,e),r||(o=z(n,"click",l[3]),r=!0)},p(l,u){1&u&&(n.disabled=l[0])},d(l){l&&y(n),r=!1,o()}}}function gu(l){let n;let u=function(l){return 9===l[7]?pu:mu}(l),t=u(l);return{c(){t.c(),n=S()},m(l,u){t.m(l,u),w(l,n,u)},p(l,n){t.p(l,n)},d(l){t.d(l),l&&y(n)}}}function vu(n){let u,t,e,r=Array(10),o=[];for(let l=0;l<r.length;l+=1)o[l]=gu(hu(n,r,l));return{c(){u=$("div");for(let l=0;l<o.length;l+=1)o[l].c();I(u,"class","keyboard-grid svelte-vy4ayf")},m(l,r){w(l,u,r);for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(u,null);t||(e=z(window,"keydown",n[2]),t=!0)},p(l,[n]){if(3&n){let t;for(r=Array(10),t=0;t<r.length;t+=1){const e=hu(l,r,t);o[t]?o[t].p(e,n):(o[t]=gu(e),o[t].c(),o[t].m(u,null))}for(;t<o.length;t+=1)o[t].d(1);o.length=r.length}},i:l,o:l,d(l){l&&y(u),x(o,l),t=!1,e()}}}function bu(l,n,u){let t;function e(l){!function(l){if(a(Bn))return;const n=_n(a(Fl));if(!n)return;const u=!!a(En);Pn(n,u,"user",({key:t,candidatesBefore:e})=>{u?(0===l?pn.clear(n):pn.add(n,l),un.set(n,0)):(e&&Object.prototype.hasOwnProperty.call(e,t)&&pn.clear(n),un.set(n,l))})}(l)}c(l,Bn,l=>u(0,t=l));return[t,e,function(l){switch(l.key||l.keyCode){case"ArrowUp":case 38:case"w":case 87:Fl.move(0,-1);break;case"ArrowDown":case 40:case"s":case 83:Fl.move(0,1);break;case"ArrowLeft":case 37:case"a":case 65:Fl.move(-1);break;case"ArrowRight":case 39:case"d":case 68:Fl.move(1);break;case"Backspace":case 8:case"Delete":case 46:e(0);break;default:l.key&&1*l.key>=0&&1*l.key<10?e(1*l.key):l.keyCode-48>=0&&l.keyCode-48<10&&e(l.keyCode-48)}},()=>e(0),l=>e(l+1)]}class wu extends bl{constructor(l){super(),vl(this,l,bu,vu,o,{})}}function yu(n){let u,t,e,r,o,s;return e=new fu({}),o=new wu({}),{c(){u=$("div"),t=$("div"),hl(e.$$.fragment),r=C(),hl(o.$$.fragment),I(t,"class","w-full max-w-xl"),I(u,"class","px-4 pb-5 flex justify-center")},m(l,n){w(l,u,n),g(u,t),ml(e,t,null),g(t,r),ml(o,t,null),s=!0},p:l,i(l){s||(il(e.$$.fragment,l),il(o.$$.fragment,l),s=!0)},o(l){al(e.$$.fragment,l),al(o.$$.fragment,l),s=!1},d(l){l&&y(u),pl(e),pl(o)}}}class xu extends bl{constructor(l){super(),vl(this,l,null,yu,o,{})}}function $u(n){let u,t,r,o,s,i;return{c(){u=$("div"),t=$("button"),t.innerHTML='<svg class="icon-outline" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"></path></svg>',r=C(),o=$("button"),o.innerHTML='<svg class="icon-outline" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>',I(t,"class","btn btn-header svelte-1omcin0"),I(t,"title","Share this Sudoku puzzle"),I(o,"class","btn btn-header svelte-1omcin0"),I(o,"title","Open Settings"),I(u,"class","flex justify-evenly space-x-3")},m(l,e){w(l,u,e),g(u,t),g(u,r),g(u,o),s||(i=[z(t,"click",n[0]),z(o,"click",n[1])],s=!0)},p:l,i:l,o:l,d(l){l&&y(u),s=!1,e(i)}}}function ku(l){return[function(){cn(),mn.show("share",{onHide:dn})},function(){cn(),mn.show("settings",{onHide:dn})}]}class Mu extends bl{constructor(l){super(),vl(this,l,ku,$u,o,{})}}function Cu(l,n,u){const t=l.slice();return t[8]=n[u][0],t[9]=n[u][1],t}function Su(l){let n,u,t,r,o,s,i,a,c,d,f,h,m,p,v=Object.entries(xl),b=[];for(let n=0;n<v.length;n+=1)b[n]=zu(Cu(l,v,n));return{c(){n=$("button"),t=C(),r=$("div");for(let l=0;l<b.length;l+=1)b[l].c();o=C(),s=$("hr"),i=C(),a=$("a"),a.innerHTML='<svg class="icon-solid" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z" clip-rule="evenodd"></path></svg> \n\n        <span class="align-middle">Create Own</span>',c=C(),d=$("a"),d.innerHTML='<svg class="icon-solid" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path d="M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"></path><path fill-rule="evenodd" d="M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z" clip-rule="evenodd"></path></svg> \n\n        <span class="align-middle">Enter Code</span>',I(n,"class","dropdown-overlay svelte-a2cpnn"),I(n,"tabindex","-1"),I(s,"class","my-1"),I(a,"class","dropdown-item svelte-a2cpnn"),I(a,"href","/create"),I(a,"title","Create your own Sudoku puzzle"),I(d,"class","dropdown-item svelte-a2cpnn"),I(d,"href","/enter-code"),I(d,"title","Enter a Sudoku puzzle code from a friend"),I(r,"class","dropdown-menu svelte-a2cpnn")},m(u,e){w(u,n,e),w(u,t,e),w(u,r,e);for(let l=0;l<b.length;l+=1)b[l]&&b[l].m(r,null);g(r,o),g(r,s),g(r,i),g(r,a),g(r,c),g(r,d),h=!0,m||(p=[z(n,"click",l[6]),z(a,"click",j(l[3])),z(d,"click",j(l[4]))],m=!0)},p(n,u){if(l=n,4&u){let n;for(v=Object.entries(xl),n=0;n<v.length;n+=1){const t=Cu(l,v,n);b[n]?b[n].p(t,u):(b[n]=zu(t),b[n].c(),b[n].m(r,o))}for(;n<b.length;n+=1)b[n].d(1);b.length=v.length}},i(l){h||(K(()=>{h&&(u||(u=dl(n,$n,{duration:El},!0)),u.run(1))}),K(()=>{h&&(f||(f=dl(r,kn,{duration:El},!0)),f.run(1))}),h=!0)},o(l){u||(u=dl(n,$n,{duration:El},!1)),u.run(0),f||(f=dl(r,kn,{duration:El},!1)),f.run(0),h=!1},d(l){l&&y(n),l&&u&&u.end(),l&&y(t),l&&y(r),x(b,l),l&&f&&f.end(),m=!1,e(p)}}}function zu(l){let n,u,t,e,r,o,s,i,a=l[9]+"";function c(){return l[7](l[8])}return{c(){n=$("a"),u=k("svg"),t=k("path"),e=C(),r=$("span"),o=M(a),I(t,"fill-rule","evenodd"),I(t,"d","M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"),I(t,"clip-rule","evenodd"),I(u,"class","icon-solid"),I(u,"xmlns","http://www.w3.org/2000/svg"),I(u,"viewBox","0 0 20 20"),I(u,"fill","currentColor"),I(r,"class","align-middle"),I(n,"class","dropdown-item svelte-a2cpnn"),I(n,"href","/difficulty-"+l[8]),I(n,"title","Set difficulty to '"+l[9]+"'")},m(l,a){w(l,n,a),g(n,u),g(u,t),g(n,e),g(n,r),g(r,o),s||(i=z(n,"click",j(c)),s=!0)},p(n,u){l=n},d(l){l&&y(n),s=!1,i()}}}function ju(l){let n,u,t,e,o,s,i,a,c,d,f,h,m=(l[1]===yl?"Custom":xl[l[1]])+"",p=l[0]&&Su(l);return{c(){n=$("div"),u=$("button"),t=k("svg"),e=k("path"),o=C(),s=$("span"),i=M(m),c=C(),p&&p.c(),I(e,"stroke-linecap","round"),I(e,"stroke-linejoin","round"),I(e,"stroke-width","2"),I(e,"d","M4 8h16M4 16h12"),I(t,"class","icon-outline mr-3"),I(t,"xmlns","http://www.w3.org/2000/svg"),I(t,"fill","none"),I(t,"viewBox","0 0 24 24"),I(t,"stroke","currentColor"),I(s,"class","text-2xl tracking-wider"),I(u,"class","dropdown-button svelte-a2cpnn"),I(u,"title",a=(l[0]?"Close":"Open")+" Menu"),I(n,"class","dropdown svelte-a2cpnn")},m(a,m){w(a,n,m),g(n,u),g(u,t),g(t,e),g(u,o),g(u,s),g(s,i),g(n,c),p&&p.m(n,null),d=!0,f||(h=z(u,"click",function(){r(l[0]?l[6]:l[5])&&(l[0]?l[6]:l[5]).apply(this,arguments)}),f=!0)},p(t,[e]){l=t,(!d||2&e)&&m!==(m=(l[1]===yl?"Custom":xl[l[1]])+"")&&E(i,m),(!d||1&e&&a!==(a=(l[0]?"Close":"Open")+" Menu"))&&I(u,"title",a),l[0]?p?(p.p(l,e),1&e&&il(p,1)):(p=Su(l),p.c(),il(p,1),p.m(n,null)):p&&(ol(),al(p,1,1,()=>{p=null}),sl())},i(l){d||(il(p),d=!0)},o(l){al(p),d=!1},d(l){l&&y(n),p&&p.d(),f=!1,h()}}}function Iu(l,n,u){let t;c(l,Vl,l=>u(1,t=l));let e=!1;function r(l){u(0,e=!1),fn.pause(),mn.show("confirm",{title:"New Game",text:'Start new game with difficulty "'+xl[l]+'"?',button:"Continue",onHide:fn.resume,callback:()=>{fn.startNew(l),Vn()}})}return[e,t,r,function(){u(0,e=!1),fn.pause(),mn.show("confirm",{title:"Create Own",text:"Switch to the creator mode to create your own Sudoku puzzle?",button:"Continue",onHide:fn.resume,callback:()=>{Vn()}})},function(){u(0,e=!1),fn.pause(),mn.show("prompt",{title:"Enter Code",text:"Please enter the code of the Sudoku puzzle you want to play:",fontMono:!0,button:"Start",onHide:fn.resume,callback:l=>{fn.startCustom(l),Vn()},validate:Ll})},function(){u(0,e=!0),fn.pause()},function(){u(0,e=!1),setTimeout(fn.resume,El)},l=>r(l)]}class Nu extends bl{constructor(l){super(),vl(this,l,Iu,ju,o,{})}}function Eu(n){let u,t,e,r,o,s,i;return r=new Nu({}),s=new Mu({}),{c(){u=$("div"),t=$("div"),e=$("nav"),hl(r.$$.fragment),o=C(),hl(s.$$.fragment),I(e,"class","flex flex-wrap items-center justify-between"),I(t,"class","w-full max-w-xl"),I(u,"class","px-4 py-4 flex justify-center text-white")},m(l,n){w(l,u,n),g(u,t),g(t,e),ml(r,e,null),g(e,o),ml(s,e,null),i=!0},p:l,i(l){i||(il(r.$$.fragment,l),il(s.$$.fragment,l),i=!0)},o(l){al(r.$$.fragment,l),al(s.$$.fragment,l),i=!1},d(l){l&&y(u),pl(r),pl(s)}}}class Bu extends bl{constructor(l){super(),vl(this,l,null,Eu,o,{})}}function Au(n){let u;return{c(){u=$("textarea"),u.readOnly="readonly",A(u,"position","absolute"),A(u,"left","-9999px")},m(l,t){w(l,u,t),n[2](u)},p:l,i:l,o:l,d(l){l&&y(u),n[2](null)}}}function Ru(l,n,u){let t;return[t,function(l){if(navigator.clipboard)return navigator.clipboard.writeText(l);u(0,t.value=l,t);const n=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);t.select();let e=!1;try{e=document.execCommand("copy")}catch(l){}return n&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(n)),e?Promise.resolve():Promise.reject()},function(l){q[l?"unshift":"push"](()=>{t=l,u(0,t)})}]}class Hu extends bl{constructor(l){super(),vl(this,l,Ru,Au,o,{copyText:1})}get copyText(){return this.$$.ctx[1]}}function _u(l){let n,u,t,o,s,i,a,c,d,f,h,m,p,v,b,x,M,S,N,E,B,A,R,H,_,L,O,T,P,F,V,D,U,G,Y,W,X,K,Z,Q,ll,nl,ul,tl;function el(n){l[11](n)}let rl={};return void 0!==l[2]&&(rl.copyText=l[2]),Q=new Hu({props:rl}),q.push(()=>fl(Q,"copyText",el)),{c(){n=$("div"),u=$("h1"),u.textContent="Share Sudoku",t=C(),o=$("div"),o.innerHTML='<svg class="icon-outline" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>',s=C(),i=$("div"),a=$("input"),c=C(),d=$("button"),d.innerHTML='<svg class="icon-outline" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path></svg>',f=C(),h=$("hr"),m=C(),p=$("div"),v=$("a"),b=k("svg"),x=k("path"),M=C(),S=$("span"),S.textContent="Copy Link",N=C(),E=$("a"),B=k("svg"),A=k("path"),R=C(),H=$("span"),H.textContent="Share on Twitter",_=C(),L=$("a"),O=k("svg"),T=k("path"),P=C(),F=$("span"),F.textContent="Share on Facebook",V=C(),D=$("a"),U=k("svg"),G=k("path"),Y=C(),W=$("span"),W.textContent="Share by Email",X=C(),K=$("button"),K.innerHTML='<svg class="icon-outline mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"></path></svg> \n\n    <span>Share QR Code</span>',Z=C(),hl(Q.$$.fragment),I(u,"class","text-3xl font-semibold leading-none"),I(o,"class","cursor-pointer"),I(n,"class","flex justify-between items-center mb-6"),I(a,"class","input code-field svelte-1feawfh"),I(a,"type","text"),a.readOnly=!0,a.value=l[3],I(d,"class","btn btn-copy svelte-1feawfh"),I(i,"class","code-container svelte-1feawfh"),I(h,"class","my-8"),I(x,"stroke-linecap","round"),I(x,"stroke-linejoin","round"),I(x,"stroke-width","2"),I(x,"d","M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"),I(b,"class","icon-outline mr-2"),I(b,"xmlns","http://www.w3.org/2000/svg"),I(b,"fill","none"),I(b,"viewBox","0 0 24 24"),I(b,"stroke","currentColor"),I(v,"href",l[4]),I(v,"class","btn btn-small"),I(A,"d","M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"),I(B,"class","icon-outline mr-2"),I(B,"xmlns","http://www.w3.org/2000/svg"),I(B,"fill","currentColor"),I(B,"viewBox","0 0 24 24"),I(B,"stroke","none"),I(E,"href",l[7]),I(E,"target","_blank"),I(E,"class","btn btn-share btn-share-twitter btn-small svelte-1feawfh"),I(T,"d","M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"),I(O,"class","icon-outline mr-2"),I(O,"xmlns","http://www.w3.org/2000/svg"),I(O,"fill","currentColor"),I(O,"viewBox","0 0 24 24"),I(O,"stroke","none"),I(L,"href",l[6]),I(L,"target","_blank"),I(L,"class","btn btn-share btn-share-facebook btn-small svelte-1feawfh"),I(G,"stroke-linecap","round"),I(G,"stroke-linejoin","round"),I(G,"stroke-width","2"),I(G,"d","M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"),I(U,"class","icon-outline mr-2"),I(U,"xmlns","http://www.w3.org/2000/svg"),I(U,"fill","none"),I(U,"viewBox","0 0 24 24"),I(U,"stroke","currentColor"),I(D,"href",l[8]),I(D,"target","_blank"),I(D,"class","btn btn-small"),I(K,"class","btn btn-small"),I(p,"class","flex flex-col space-y-2")},m(e,y){w(e,n,y),g(n,u),g(n,t),g(n,o),w(e,s,y),w(e,i,y),g(i,a),g(i,c),g(i,d),w(e,f,y),w(e,h,y),w(e,m,y),w(e,p,y),g(p,v),g(v,b),g(b,x),g(v,M),g(v,S),g(p,N),g(p,E),g(E,B),g(B,A),g(E,R),g(E,H),g(p,_),g(p,L),g(L,O),g(O,T),g(L,P),g(L,F),g(p,V),g(p,D),g(D,U),g(U,G),g(D,Y),g(D,W),g(p,X),g(p,K),w(e,Z,y),ml(Q,e,y),nl=!0,ul||(tl=[z(o,"click",function(){r(l[1])&&l[1].apply(this,arguments)}),z(a,"click",l[9]),z(d,"click",function(){r(l[2](l[3]))&&l[2](l[3]).apply(this,arguments)}),z(v,"click",j(function(){r(l[2](l[4]))&&l[2](l[4]).apply(this,arguments)})),z(K,"click",l[10])],ul=!0)},p(n,[u]){l=n;const t={};!ll&&4&u&&(ll=!0,t.copyText=l[2],J(()=>ll=!1)),Q.$set(t)},i(l){nl||(il(Q.$$.fragment,l),nl=!0)},o(l){al(Q.$$.fragment,l),nl=!1},d(l){l&&y(n),l&&y(s),l&&y(i),l&&y(f),l&&y(h),l&&y(m),l&&y(p),l&&y(Z),pl(Q,l),ul=!1,e(tl)}}}function Lu(l,n,u){let t;c(l,nn,l=>u(12,t=l));let{data:e={}}=n,{hideModal:r}=n;const o=nn.getSencode(t),s="https://sudoku.jonasgeiler.com/#"+o,i=encodeURIComponent(s),a="https://www.facebook.com/sharer/sharer.php?u="+i,d="https://twitter.com/intent/tweet?text=Check%20out%20this%20Sudoku%20puzzle!&url="+i,f="mailto:?subject=A%20Sudoku%20puzzle%20for%20you&body=Here%27s%20a%20link%20to%20a%20Sudoku%20puzzle%20on%20sudoku.jonasgeiler.com%3A%0A%0A"+i;let h;D(()=>{let l=!1;const n={url:s,title:"Sudoku",text:"Create & play Sudoku puzzles for free online on sudoku.jonasgeiler.com!"};"share"in navigator&&(l=!0),"canShare"in navigator&&(l=navigator.canShare(n)),l&&navigator.share(n)});return l.$$set=l=>{"data"in l&&u(0,e=l.data),"hideModal"in l&&u(1,r=l.hideModal)},[e,r,h,o,s,i,a,d,f,l=>function(l){l.select(),l.setSelectionRange(0,l.value.length)}(l.target),()=>mn.show("qrcode",{...e,encodedLink:i}),function(l){h=l,u(2,h)}]}function Ou(n){let u,t,e,r,o,i,a;return{c(){var l,i;u=$("img"),e=C(),r=$("div"),o=$("button"),o.innerHTML='<svg class="icon-outline mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg> \n\n    <span>Back</span>',I(u,"class","h-full w-full"),l=u.src,i=t=n[1],s||(s=document.createElement("a")),s.href=i,l!==s.href&&I(u,"src",t),I(o,"class","btn btn-small w-full"),I(r,"class","mt-3")},m(l,t){w(l,u,t),w(l,e,t),w(l,r,t),g(r,o),i||(a=z(o,"click",n[2]),i=!0)},p:l,i:l,o:l,d(l){l&&y(u),l&&y(e),l&&y(r),i=!1,a()}}}function Tu(l,n,u){let{data:t={}}=n;const e="https://api.qrserver.com/v1/create-qr-code/?size=500x500&charset-source=UTF-8&charset-target=UTF-8&ecc=L&color=000&bgcolor=f7f9fc&margin=8&qzone=0&format=png&data="+t.encodedLink;return l.$$set=l=>{"data"in l&&u(0,t=l.data)},[t,e,()=>mn.show("share",t)]}function Pu(n){let u,t,e,r,o,s,i,a,c,d,f,h;return{c(){u=$("label"),t=$("span"),e=M(n[2]),r=C(),o=$("span"),s=$("input"),i=C(),a=$("span"),c=C(),d=$("span"),I(t,"class","flex-grow cursor-pointer text-lg"),I(s,"id",n[1]),I(s,"name",n[1]),I(s,"type","checkbox"),I(s,"class","sr-only svelte-1h6o1gh"),s.disabled=n[3],I(a,"class","track svelte-1h6o1gh"),I(d,"class","thumb svelte-1h6o1gh"),I(o,"class","switch svelte-1h6o1gh"),I(u,"for",n[1]),I(u,"class","inline-flex items-center")},m(l,m){w(l,u,m),g(u,t),g(t,e),g(u,r),g(u,o),g(o,s),s.checked=n[0],g(o,i),g(o,a),g(o,c),g(o,d),f||(h=z(s,"change",n[4]),f=!0)},p(l,[n]){4&n&&E(e,l[2]),2&n&&I(s,"id",l[1]),2&n&&I(s,"name",l[1]),8&n&&(s.disabled=l[3]),1&n&&(s.checked=l[0]),2&n&&I(u,"for",l[1])},i:l,o:l,d(l){l&&y(u),f=!1,h()}}}function Fu(l,n,u){let{id:t=""}=n,{text:e=""}=n,{checked:r=!1}=n,{disabled:o=!1}=n;return l.$$set=l=>{"id"in l&&u(1,t=l.id),"text"in l&&u(2,e=l.text),"checked"in l&&u(0,r=l.checked),"disabled"in l&&u(3,o=l.disabled)},[r,t,e,o,function(){r=this.checked,u(0,r)}]}class Vu extends bl{constructor(l){super(),vl(this,l,Fu,Pu,o,{id:1,text:2,checked:0,disabled:3})}}function Du(l){let n,u,t,e,r,o,s,i;return{c(){n=$("div"),u=$("label"),u.textContent="Number of available hints",t=C(),e=$("input"),I(u,"for","hints"),I(u,"class","flex-grow text-lg"),I(e,"class","number-input svelte-1clvsni"),I(e,"id","hints"),I(e,"name","hints"),I(e,"type","number"),I(e,"min","0"),I(e,"max","81"),I(n,"class","inline-flex items-center")},m(r,a){w(r,n,a),g(n,u),g(n,t),g(n,e),B(e,l[1].hints),o=!0,s||(i=z(e,"input",l[7]),s=!0)},p(l,n){2&n&&N(e.value)!==l[1].hints&&B(e,l[1].hints)},i(l){o||(K(()=>{o&&(r||(r=dl(n,kn,{},!0)),r.run(1))}),o=!0)},o(l){r||(r=dl(n,kn,{},!1)),r.run(0),o=!1},d(l){l&&y(n),l&&r&&r.end(),s=!1,i()}}}function Uu(l){let n,u,t,o,s,i,a,c,d,f,h,m,p,v,b,x,k,M,S,j,N,E,B,A,R,H;function _(n){l[5](n)}let L={text:"Display timer while playing",id:"display-timer"};function O(n){l[6](n)}void 0!==l[1].displayTimer&&(L.checked=l[1].displayTimer),o=new Vu({props:L}),q.push(()=>fl(o,"checked",_));let T={text:"Limit the number of hints available",id:"hints-limited"};void 0!==l[2]&&(T.checked=l[2]),a=new Vu({props:T}),q.push(()=>fl(a,"checked",O));let P=l[2]&&Du(l);function F(n){l[8](n)}let V={text:"Highlight cells in same row/column/box",id:"highlight-cells"};function D(n){l[9](n)}void 0!==l[1].highlightCells&&(V.checked=l[1].highlightCells),h=new Vu({props:V}),q.push(()=>fl(h,"checked",F));let U={text:"Highlight cells with the same number",id:"highlight-matching"};function G(n){l[10](n)}void 0!==l[1].highlightSame&&(U.checked=l[1].highlightSame),v=new Vu({props:U}),q.push(()=>fl(v,"checked",D));let Y={text:"Highlight conflicting numbers",id:"highlight-conflicting"};return void 0!==l[1].highlightConflicting&&(Y.checked=l[1].highlightConflicting),k=new Vu({props:Y}),q.push(()=>fl(k,"checked",G)),{c(){n=$("h1"),n.textContent="Settings",u=C(),t=$("div"),hl(o.$$.fragment),i=C(),hl(a.$$.fragment),d=C(),P&&P.c(),f=C(),hl(h.$$.fragment),p=C(),hl(v.$$.fragment),x=C(),hl(k.$$.fragment),S=C(),j=$("div"),N=$("button"),N.textContent="Cancel",E=C(),B=$("button"),B.textContent="Save",I(n,"class","text-3xl font-semibold mb-6 leading-none"),I(t,"class","flex flex-col mb-6 space-y-3"),I(N,"class","btn btn-small mr-3"),I(B,"class","btn btn-small btn-primary"),I(j,"class","flex justify-end")},m(e,s){w(e,n,s),w(e,u,s),w(e,t,s),ml(o,t,null),g(t,i),ml(a,t,null),g(t,d),P&&P.m(t,null),g(t,f),ml(h,t,null),g(t,p),ml(v,t,null),g(t,x),ml(k,t,null),w(e,S,s),w(e,j,s),g(j,N),g(j,E),g(j,B),A=!0,R||(H=[z(N,"click",function(){r(l[0])&&l[0].apply(this,arguments)}),z(B,"click",l[3])],R=!0)},p(n,[u]){l=n;const e={};!s&&2&u&&(s=!0,e.checked=l[1].displayTimer,J(()=>s=!1)),o.$set(e);const r={};!c&&4&u&&(c=!0,r.checked=l[2],J(()=>c=!1)),a.$set(r),l[2]?P?(P.p(l,u),4&u&&il(P,1)):(P=Du(l),P.c(),il(P,1),P.m(t,f)):P&&(ol(),al(P,1,1,()=>{P=null}),sl());const i={};!m&&2&u&&(m=!0,i.checked=l[1].highlightCells,J(()=>m=!1)),h.$set(i);const d={};!b&&2&u&&(b=!0,d.checked=l[1].highlightSame,J(()=>b=!1)),v.$set(d);const p={};!M&&2&u&&(M=!0,p.checked=l[1].highlightConflicting,J(()=>M=!1)),k.$set(p)},i(l){A||(il(o.$$.fragment,l),il(a.$$.fragment,l),il(P),il(h.$$.fragment,l),il(v.$$.fragment,l),il(k.$$.fragment,l),A=!0)},o(l){al(o.$$.fragment,l),al(a.$$.fragment,l),al(P),al(h.$$.fragment,l),al(v.$$.fragment,l),al(k.$$.fragment,l),A=!1},d(l){l&&y(n),l&&y(u),l&&y(t),pl(o),pl(a),P&&P.d(),pl(h),pl(v),pl(k),l&&y(S),l&&y(j),R=!1,e(H)}}}function qu(l,n,u){let t;c(l,Zl,l=>u(11,t=l));let{data:e={}}=n,{hideModal:r}=n,o={...t},s=o.hintsLimited;return l.$$set=l=>{"data"in l&&u(4,e=l.data),"hideModal"in l&&u(0,r=l.hideModal)},[r,o,s,function(){u(1,o.hintsLimited=s,o),o.hints<0&&u(1,o.hints=0,o),o.hints>99999&&u(1,o.hints=99999,o),Zl.set(o),r()},e,function(n){l.$$.not_equal(o.displayTimer,n)&&(o.displayTimer=n,u(1,o))},function(l){s=l,u(2,s)},function(){o.hints=N(this.value),u(1,o)},function(n){l.$$.not_equal(o.highlightCells,n)&&(o.highlightCells=n,u(1,o))},function(n){l.$$.not_equal(o.highlightSame,n)&&(o.highlightSame=n,u(1,o))},function(n){l.$$.not_equal(o.highlightConflicting,n)&&(o.highlightConflicting=n,u(1,o))}]}function Gu(l){let n,u,t=l[0].text+"";return{c(){n=$("p"),u=M(t),I(n,"class","text-lg mb-5")},m(l,t){w(l,n,t),g(n,u)},p(l,n){1&n&&t!==(t=l[0].text+"")&&E(u,t)},d(l){l&&y(n)}}}function Yu(n){let u,t,o,s,i,a,c,d,f,h,m,p=(n[0].title||"Confirm")+"",v=(n[0].button||"Okay")+"",b=n[0].text&&Gu(n);return{c(){u=$("h1"),t=M(p),o=C(),b&&b.c(),s=C(),i=$("div"),a=$("button"),a.textContent="Cancel",c=C(),d=$("button"),f=M(v),I(u,"class","text-3xl font-semibold mb-5 leading-none"),I(a,"class","btn btn-small mr-3"),I(d,"class","btn btn-small btn-primary"),I(i,"class","flex justify-end")},m(l,e){w(l,u,e),g(u,t),w(l,o,e),b&&b.m(l,e),w(l,s,e),w(l,i,e),g(i,a),g(i,c),g(i,d),g(d,f),h||(m=[z(a,"click",function(){r(n[1])&&n[1].apply(this,arguments)}),z(d,"click",n[2])],h=!0)},p(l,[u]){n=l,1&u&&p!==(p=(n[0].title||"Confirm")+"")&&E(t,p),n[0].text?b?b.p(n,u):(b=Gu(n),b.c(),b.m(s.parentNode,s)):b&&(b.d(1),b=null),1&u&&v!==(v=(n[0].button||"Okay")+"")&&E(f,v)},i:l,o:l,d(l){l&&y(u),l&&y(o),b&&b.d(l),l&&y(s),l&&y(i),h=!1,e(m)}}}function Wu(l,n,u){let{data:t={}}=n,{hideModal:e}=n;return l.$$set=l=>{"data"in l&&u(0,t=l.data),"hideModal"in l&&u(1,e=l.hideModal)},[t,e,function(){t.callback&&t.callback(),e()}]}function Xu(l){let n,u,t=l[0].text+"";return{c(){n=$("label"),u=M(t),I(n,"for","prompt-input"),I(n,"class","text-lg mb-4")},m(l,t){w(l,n,t),g(n,u)},p(l,n){1&n&&t!==(t=l[0].text+"")&&E(u,t)},d(l){l&&y(n)}}}function Ku(n){let u,t,o,s,i,a,c,d,f,h,m,p,v,b,x=(n[0].title||"Please enter something")+"",k=(n[0].button||"Okay")+"",S=n[0].text&&Xu(n);return{c(){u=$("h1"),t=M(x),o=C(),S&&S.c(),s=C(),i=$("input"),a=C(),c=$("div"),d=$("button"),d.textContent="Cancel",f=C(),h=$("button"),m=M(k),I(u,"class","text-3xl font-semibold mb-5 leading-none"),I(i,"class","input mb-5"),I(i,"id","prompt-input"),I(i,"name","prompt-input"),I(i,"type","text"),H(i,"font-mono",n[0].fontMono),I(d,"class","btn btn-small mr-3"),I(h,"class","btn btn-small btn-primary"),h.disabled=p=!!n[0].validate&&!n[0].validate(n[2]),I(c,"class","flex justify-end")},m(l,e){w(l,u,e),g(u,t),w(l,o,e),S&&S.m(l,e),w(l,s,e),w(l,i,e),B(i,n[2]),w(l,a,e),w(l,c,e),g(c,d),g(c,f),g(c,h),g(h,m),v||(b=[z(i,"input",n[4]),z(d,"click",function(){r(n[1])&&n[1].apply(this,arguments)}),z(h,"click",n[3])],v=!0)},p(l,[u]){n=l,1&u&&x!==(x=(n[0].title||"Please enter something")+"")&&E(t,x),n[0].text?S?S.p(n,u):(S=Xu(n),S.c(),S.m(s.parentNode,s)):S&&(S.d(1),S=null),4&u&&i.value!==n[2]&&B(i,n[2]),1&u&&H(i,"font-mono",n[0].fontMono),1&u&&k!==(k=(n[0].button||"Okay")+"")&&E(m,k),5&u&&p!==(p=!!n[0].validate&&!n[0].validate(n[2]))&&(h.disabled=p)},i:l,o:l,d(l){l&&y(u),l&&y(o),S&&S.d(l),l&&y(s),l&&y(i),l&&y(a),l&&y(c),v=!1,e(b)}}}function Ju(l,n,u){let{data:t={}}=n,{hideModal:e}=n,r="";return l.$$set=l=>{"data"in l&&u(0,t=l.data),"hideModal"in l&&u(1,e=l.hideModal)},[t,e,r,function(){t.callback&&t.callback(r),e()},function(){r=this.value,u(2,r)}]}function Zu(l,n,u){const t=l.slice();return t[10]=n[u][0],t[11]=n[u][1],t}function Qu(l){let n;return{c(){n=$("div"),n.innerHTML="Someone shared a Sudoku puzzle with you!<br/>Just click start if you want to play it",I(n,"class","p-3 text-lg rounded bg-primary bg-opacity-25 border-l-8 border-primary border-opacity-75 mb-4")},m(l,u){w(l,n,u)},d(l){l&&y(n)}}}function lt(n){let u,t,e=n[11]+"";return{c(){u=$("option"),t=M(e),u.__value=n[10],u.value=u.__value},m(l,n){w(l,u,n),g(u,t)},p:l,d(l){l&&y(u)}}}function nt(n){let u,t,r,o,s,i,a,c,d,f,h,m,p,v,b,k,S,j,N,E=n[0].sencode&&Qu(),A=Object.entries(xl),H=[];for(let l=0;l<A.length;l+=1)H[l]=lt(Zu(n,A,l));return{c(){u=$("h1"),u.textContent="Welcome!",t=C(),E&&E.c(),r=C(),o=$("label"),o.textContent="To start a game, choose a difficulty:",s=C(),i=$("div"),a=$("select");for(let l=0;l<H.length;l+=1)H[l].c();c=C(),d=$("div"),d.innerHTML='<svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"></path></svg>',f=C(),h=$("label"),h.textContent="Or, if you have a code for a custom Sudoku puzzle, enter it here:",m=C(),p=$("input"),v=C(),b=$("div"),k=$("button"),S=M("Start"),I(u,"class","text-3xl font-semibold mb-6 leading-none"),I(o,"for","difficulty"),I(o,"class","text-lg mb-3"),I(a,"id","difficulty"),I(a,"class","btn btn-small w-full appearance-none leading-normal"),a.disabled=n[3],void 0===n[1]&&K(()=>n[7].call(a)),I(d,"class","pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"),I(i,"class","inline-block relative mb-6"),I(h,"for","sencode"),I(h,"class","text-lg mb-3"),I(p,"id","sencode"),I(p,"class","input font-mono mb-5"),I(p,"type","text"),I(k,"class","btn btn-small btn-primary"),k.disabled=n[4],I(b,"class","flex justify-end")},m(l,e){w(l,u,e),w(l,t,e),E&&E.m(l,e),w(l,r,e),w(l,o,e),w(l,s,e),w(l,i,e),g(i,a);for(let l=0;l<H.length;l+=1)H[l]&&H[l].m(a,null);R(a,n[1],!0),g(i,c),g(i,d),w(l,f,e),w(l,h,e),w(l,m,e),w(l,p,e),B(p,n[2]),w(l,v,e),w(l,b,e),g(b,k),g(k,S),j||(N=[z(a,"change",n[7]),z(p,"input",n[8]),z(k,"click",n[5])],j=!0)},p(l,[n]){if(l[0].sencode?E||(E=Qu(),E.c(),E.m(r.parentNode,r)):E&&(E.d(1),E=null),0&n){let u;for(A=Object.entries(xl),u=0;u<A.length;u+=1){const t=Zu(l,A,u);H[u]?H[u].p(t,n):(H[u]=lt(t),H[u].c(),H[u].m(a,null))}for(;u<H.length;u+=1)H[u].d(1);H.length=A.length}8&n&&(a.disabled=l[3]),2&n&&R(a,l[1]),4&n&&p.value!==l[2]&&B(p,l[2]),16&n&&(k.disabled=l[4])},i:l,o:l,d(l){l&&y(u),l&&y(t),E&&E.d(l),l&&y(r),l&&y(o),l&&y(s),l&&y(i),x(H,l),l&&y(f),l&&y(h),l&&y(m),l&&y(p),l&&y(v),l&&y(b),j=!1,e(N)}}}function ut(l,n,u){let t,e,r;c(l,Vl,l=>u(9,r=l));let{data:o={}}=n,{hideModal:s}=n,i=r,a=o.sencode||"";return l.$$set=l=>{"data"in l&&u(0,o=l.data),"hideModal"in l&&u(6,s=l.hideModal)},l.$$.update=()=>{4&l.$$.dirty&&u(3,t=0!==a.trim().length),14&l.$$.dirty&&u(4,e=t?!_l.validate(a):!xl.hasOwnProperty(i))},[o,i,a,t,e,function(){_l.validate(a)?an(a):sn(i),Vn(),s()},s,function(){i=function(l){const n=l.querySelector(":checked");return n&&n.__value}(this),u(1,i)},function(){a=this.value,u(2,a)}]}function tt(n){let u,t,r,o,s,i,a,c,d,f,h,m,p,v,b,x,S,j,N,B,A,R,H,_,L,O,T,P,F,V,D,U,q,G,Y,W,X,K,J,Z=(n[1]===yl?"Custom":xl[n[1]])+"";return{c(){u=$("div"),t=k("svg"),r=k("path"),o=C(),s=$("h1"),s.textContent=`${n[3]}`,i=C(),a=$("div"),c=$("div"),d=$("div"),d.innerHTML='<svg class="icon-outline" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>',f=C(),h=$("div"),m=$("div"),m.textContent="Time:",p=C(),v=$("div"),b=M(n[0]),x=C(),S=$("div"),j=$("div"),j.innerHTML='<svg class="icon-outline" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg>',N=C(),B=$("div"),A=$("div"),A.textContent="Difficulty:",R=C(),H=$("div"),_=M(Z),L=C(),O=$("div"),T=$("div"),T.innerHTML='<svg class="icon-outline" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg>',P=C(),F=$("div"),V=$("div"),V.textContent="Hints used:",D=C(),U=$("div"),q=M(n[2]),G=C(),Y=$("button"),Y.textContent="Share this Sudoku puzzle",W=C(),X=$("button"),X.textContent="New Game",I(r,"d","M1 6.417c0-1.013.822-1.833 1.834-1.833 1.215 0 2.104 1.167 1.763 2.329-.559 1.915 5.827 3.731 6.771-1.471.239-1.323-.021-1.67-.668-2.321-.329-.329-.534-.783-.534-1.287 0-1.013.822-1.834 1.834-1.834 1.014 0 1.833.821 1.833 1.833 0 .504-.204.958-.533 1.287-.646.65-.905.998-.666 2.321.941 5.2 7.33 3.387 6.77 1.471-.339-1.162.548-2.329 1.764-2.329 1.012 0 1.832.821 1.832 1.834 0 1.118-.992 1.97-2.084 1.816-1.32-.187-3.03 4.554-3.417 6.716-1.765-.615-3.618-.942-5.493-.949-1.875.006-3.74.334-5.504.949-.388-2.162-2.098-6.903-3.418-6.717-1.092.155-2.084-.697-2.084-1.815zm-1 14.583h2.359l.566 3c.613-1.012 1.388-1.912 2.277-2.68l-2.342-3.335c-1.089.879-2.053 1.848-2.86 3.015zm24 0h-2.359l-.566 3c-.613-1.012-1.388-1.912-2.277-2.68l2.343-3.335c1.088.879 2.052 1.848 2.859 3.015zm-12-4.998c-2.845.009-5.491.825-7.757 2.211l2.334 3.322c1.603-.924 3.448-1.464 5.423-1.473 1.975.009 3.82.549 5.423 1.473l2.334-3.322c-2.266-1.386-4.912-2.202-7.757-2.211zm-3.022 3.498l-.65-.348-.651.348.131-.726-.531-.511.729-.101.321-.662.322.663.729.101-.53.511.13.725zm3.672-.5l-.65-.348-.65.348.131-.726-.531-.511.729-.101.321-.662.322.663.729.101-.53.511.129.725zm3.718.5l-.65-.348-.65.348.131-.726-.531-.511.729-.101.322-.663.322.663.729.101-.53.511.128.726z"),I(t,"class","h-32 w-32 fill-current"),I(t,"xmlns","http://www.w3.org/2000/svg"),I(t,"viewBox","0 0 24 24"),I(s,"class","text-4xl font-semibold"),I(u,"class","flex flex-col text-center items-center"),I(d,"class","item-icon svelte-1yhhj2a"),I(m,"class","item-data-label svelte-1yhhj2a"),I(v,"class","item-data-value svelte-1yhhj2a"),I(h,"class","item-data svelte-1yhhj2a"),I(c,"class","game-data-item svelte-1yhhj2a"),I(j,"class","item-icon svelte-1yhhj2a"),I(A,"class","item-data-label svelte-1yhhj2a"),I(H,"class","item-data-value svelte-1yhhj2a"),I(B,"class","item-data svelte-1yhhj2a"),I(S,"class","game-data-item svelte-1yhhj2a"),I(T,"class","item-icon svelte-1yhhj2a"),I(V,"class","item-data-label svelte-1yhhj2a"),I(U,"class","item-data-value svelte-1yhhj2a"),I(F,"class","item-data svelte-1yhhj2a"),I(O,"class","game-data-item svelte-1yhhj2a"),I(a,"class","game-data space-y-2 svelte-1yhhj2a"),I(Y,"class","btn btn-small w-full mb-2"),I(X,"class","btn btn-small btn-primary w-full")},m(l,e){w(l,u,e),g(u,t),g(t,r),g(u,o),g(u,s),w(l,i,e),w(l,a,e),g(a,c),g(c,d),g(c,f),g(c,h),g(h,m),g(h,p),g(h,v),g(v,b),g(a,x),g(a,S),g(S,j),g(S,N),g(S,B),g(B,A),g(B,R),g(B,H),g(H,_),g(a,L),g(a,O),g(O,T),g(O,P),g(O,F),g(F,V),g(F,D),g(F,U),g(U,q),w(l,G,e),w(l,Y,e),w(l,W,e),w(l,X,e),K||(J=[z(Y,"click",n[4]),z(X,"click",n[5])],K=!0)},p(l,[n]){1&n&&E(b,l[0]),2&n&&Z!==(Z=(l[1]===yl?"Custom":xl[l[1]])+"")&&E(_,Z),4&n&&E(q,l[2])},i:l,o:l,d(l){l&&y(u),l&&y(i),l&&y(a),l&&y(G),l&&y(Y),l&&y(W),l&&y(X),K=!1,e(J)}}}function et(l,n,u){let t,e,r;c(l,on,l=>u(0,t=l)),c(l,Vl,l=>u(1,e=l)),c(l,Ql,l=>u(2,r=l));const o=Bl[Math.floor(Math.random()*Bl.length)];return[t,e,r,o,function(){mn.show("share",{onHide:()=>mn.show("gameover"),onHideReplace:!0})},function(){mn.show("welcome",{onHide:dn})}]}var rt={share:class extends bl{constructor(l){super(),vl(this,l,Lu,_u,o,{data:0,hideModal:1})}},qrcode:class extends bl{constructor(l){super(),vl(this,l,Tu,Ou,o,{data:0})}},settings:class extends bl{constructor(l){super(),vl(this,l,qu,Uu,o,{data:4,hideModal:0})}},confirm:class extends bl{constructor(l){super(),vl(this,l,Wu,Yu,o,{data:0,hideModal:1})}},prompt:class extends bl{constructor(l){super(),vl(this,l,Ju,Ku,o,{data:0,hideModal:1})}},welcome:class extends bl{constructor(l){super(),vl(this,l,ut,nt,o,{data:0,hideModal:6})}},gameover:class extends bl{constructor(l){super(),vl(this,l,et,tt,o,{})}}};function ot(l){let n,u,t,e,r,o,s,i,a,c,d;var f=rt[l[0]];function h(l){return{props:{data:l[1],hideModal:mn.hide}}}return f&&(s=_(f,h(l))),{c(){n=$("div"),u=$("button"),e=C(),r=$("div"),o=$("div"),s&&hl(s.$$.fragment),I(u,"class","modal-overlay svelte-13orf8v"),I(u,"tabindex","-1"),I(o,"class","modal-content svelte-13orf8v"),I(r,"class","modal-container svelte-13orf8v"),I(n,"class","modal svelte-13orf8v")},m(t,i){w(t,n,i),g(n,u),g(n,e),g(n,r),g(r,o),s&&ml(s,o,null),a=!0,c||(d=z(u,"click",l[2]),c=!0)},p(n,u){l=n;const t={};if(2&u&&(t.data=l[1]),1&u&&f!==(f=rt[l[0]])){if(s){ol();const l=s;al(l.$$.fragment,1,0,()=>{pl(l,1)}),sl()}f?(s=_(f,h(l)),hl(s.$$.fragment),il(s.$$.fragment,1),ml(s,o,null)):s=null}else f&&s.$set(t)},i(l){a||(K(()=>{a&&(t||(t=dl(u,$n,{duration:Nl},!0)),t.run(1))}),s&&il(s.$$.fragment,l),K(()=>{a&&(i||(i=dl(r,Mn,{duration:Nl},!0)),i.run(1))}),a=!0)},o(l){t||(t=dl(u,$n,{duration:Nl},!1)),t.run(0),s&&al(s.$$.fragment,l),i||(i=dl(r,Mn,{duration:Nl},!1)),i.run(0),a=!1},d(l){l&&y(n),l&&t&&t.end(),s&&pl(s),l&&i&&i.end(),c=!1,d()}}}function st(l){let n,u,t=l[0]!==Il&&ot(l);return{c(){t&&t.c(),n=S()},m(l,e){t&&t.m(l,e),w(l,n,e),u=!0},p(l,[u]){l[0]!==Il?t?(t.p(l,u),1&u&&il(t,1)):(t=ot(l),t.c(),il(t,1),t.m(n.parentNode,n)):t&&(ol(),al(t,1,1,()=>{t=null}),sl())},i(l){u||(il(t),u=!0)},o(l){al(t),u=!1},d(l){t&&t.d(l),l&&y(n)}}}function it(l,n,u){let t,e;c(l,mn,l=>u(0,t=l)),c(l,hn,l=>u(1,e=l));const r=["welcome","gameover"];return[t,e,function(){r.includes(t)||mn.hide()}]}class at extends bl{constructor(l){super(),vl(this,l,it,st,o,{})}}class ct{static getPeers(l){const n=Math.floor(l/9),u=l%9,t=3*Math.floor(n/3),e=3*Math.floor(u/3),r=new Set;for(let l=0;l<9;l++)r.add(9*n+l),r.add(9*l+u),r.add(9*t+e+l%3+9*Math.floor(l/3));return r.delete(l),Array.from(r)}static getCandidates(l,n){const u=[];for(let t=0;t<81;t++){if(0!==l[t]){u.push([]);continue}const e=new Set;this.getPeers(t).forEach(n=>{0!==l[n]&&e.add(l[n])});const r=[1,2,3,4,5,6,7,8,9].filter(l=>!e.has(l));if(n&&n[t]&&n[t].length>0){const l=r.filter(l=>n[t].includes(l));0===l.length?u.push(r):u.push(l)}else u.push(r)}return u}static getUnits(){const l=[];for(let n=0;n<9;n++)l.push(Array.from({length:9},(l,u)=>9*n+u));for(let n=0;n<9;n++)l.push(Array.from({length:9},(l,u)=>9*u+n));for(let n=0;n<3;n++)for(let u=0;u<3;u++){const t=[];for(let l=0;l<3;l++)for(let e=0;e<3;e++)t.push(9*(3*n+l)+(3*u+e));l.push(t)}return l}}class dt{constructor(){this.name="Naked Single (唯一数)"}solve(l,n){for(let u=0;u<81;u++)if(0===l[u]&&1===n[u].length){const l=n[u][0];return{cellIndex:u,value:l,strategyName:this.name,description:`格子 R${Math.floor(u/9)+1}C${u%9+1} 只有一个候选数 ${l}，因为同行、列或宫已包含其他数字。`,affectedCells:[u],type:"FILL"}}return null}}class ft{constructor(){this.name="Hidden Single (摒除法)"}solve(l,n){const u=ct.getUnits();for(const t of u){const u=new Map;for(const e of t)if(0===l[e])for(const l of n[e])u.has(l)||u.set(l,[]),u.get(l).push(e);for(const[l,n]of u.entries())if(1===n.length){const u=n[0];return{cellIndex:u,value:l,strategyName:this.name,description:`在当前区域内，数字 ${l} 只能填入 R${Math.floor(u/9)+1}C${u%9+1}，因为区域内其他位置不能填入此数。`,affectedCells:t,type:"FILL"}}}return null}}class ht{constructor(){this.name="Pointing Pairs (区块摒除)"}solve(l,n){for(let u=0;u<3;u++)for(let t=0;t<3;t++)for(let e=1;e<=9;e++){const r=[];for(let o=0;o<3;o++)for(let s=0;s<3;s++){const i=9*(3*u+o)+(3*t+s);0===l[i]&&n[i].includes(e)&&r.push(i)}if(r.length>=2&&r.length<=3){const o=r.every(l=>Math.floor(l/9)===Math.floor(r[0]/9)),s=r.every(l=>l%9==r[0]%9);if(o){const o=Math.floor(r[0]/9),s=this.findEliminationsInRow(o,e,r,n,l);if(s.length>0)return{cellIndex:s[0],value:e,strategyName:this.name,description:`在第 ${3*u+t+1} 宫中，数字 ${e} 只能出现在第 ${o+1} 行。因此，该行其他位置不能填入 ${e}。这将解锁新的填数机会。`,affectedCells:[...r,...s],type:"ELIMINATE"}}if(s){const o=r[0]%9,s=this.findEliminationsInCol(o,e,r,n,l);if(s.length>0)return{cellIndex:s[0],value:e,strategyName:this.name,description:`在第 ${3*u+t+1} 宫中，数字 ${e} 只能出现在第 ${o+1} 列。因此，该列其他位置不能填入 ${e}。`,affectedCells:[...r,...s],type:"ELIMINATE"}}}}return null}findEliminationsInRow(l,n,u,t,e){const r=[];for(let o=0;o<9;o++){const s=9*l+o;0===e[s]&&t[s].includes(n)&&!u.includes(s)&&r.push(s)}return r}findEliminationsInCol(l,n,u,t,e){const r=[];for(let o=0;o<9;o++){const s=9*o+l;0===e[s]&&t[s].includes(n)&&!u.includes(s)&&r.push(s)}return r}}class mt{constructor(){this.name="Guesser (试错/探索)"}solve(l,n){let u=10,t=-1;for(let e=0;e<81;e++)0===l[e]&&n[e].length>1&&n[e].length<u&&(u=n[e].length,t=e);if(-1!==t){const l=n[t][0];return{cellIndex:t,value:l,strategyName:this.name,description:`逻辑推演暂时无法找到确定的解。建议尝试在格子上填入 ${l}（基于该格候选数最少原则）。这是一种“探索”策略。`,affectedCells:[t],type:"FILL"}}return null}}class pt{constructor(){this.name="Smart Hidden Single (区域独占法)"}solve(l,n){const u=ct.getUnits();for(const t of u)for(let u=1;u<=9;u++){if(this.isNumberAlreadyInUnit(l,t,u))continue;const e=[];for(const r of t)0===l[r]&&n[r].includes(u)&&e.push(r);if(1===e.length){const l=e[0];return{cellIndex:l,value:u,strategyName:this.name,description:`观察${this.getUnitDescription(t,l)}：数字 ${u} 在该区域内没有其他位置可填，只能填入格子 R${Math.floor(l/9)+1}C${l%9+1}。`,affectedCells:t,type:"FILL"}}0===e.length&&console.warn(`[逻辑错误] 在某个区域中，数字 ${u} 无处可填！此前可能有填错。`)}return null}isNumberAlreadyInUnit(l,n,u){return n.some(n=>l[n]===u)}getUnitDescription(l,n){const u=Math.floor(n/9),t=n%9;return l.every(l=>Math.floor(l/9)===u)?`第 ${u+1} 行`:l.every(l=>l%9===t)?`第 ${t+1} 列`:"当前九宫格"}}class gt{constructor(){this.strategies=[new dt,new ft,new pt,new ht,new mt]}getNextHint(l,n){console.log("Solver 接收到的盘面:",l);const u=this.findConflict(l);if(u)return console.warn("Solver 发现冲突:",u),{cellIndex:-1,value:0,strategyName:"错误警告",description:u,affectedCells:[],type:"ELIMINATE"};const t=ct.getCandidates(l,n);for(const n of this.strategies){const u=n.solve(l,t);if(u)return u}return null}findConflict(l){const n=ct.getUnits();for(const u of n){const n=new Map;for(const t of u){const e=l[t];if("number"==typeof e&&e>=1&&e<=9){if(n.has(e))return`当前盘面存在错误！在 ${this.getUnitName(u)} 中，数字 ${e} 出现了两次。请先修正错误。`;n.set(e,t)}}}return null}getUnitName(l){return"同一行、列或宫"}}function vt(l){let n,u,t,r,o,s,i,a,c,d,f,h,m,p,v,b,x,k=l[0].strategyName+"",S=l[0].description+"",j=l[0].value+"";return{c(){n=$("div"),u=$("div"),t=$("strong"),r=M("策略: "),o=M(k),s=C(),i=$("button"),i.textContent="×",a=C(),c=$("p"),d=M(S),f=C(),h=$("div"),m=$("button"),p=M("✨ 填入数字 "),v=M(j),I(i,"class","btn-close"),I(u,"class","hint-header"),I(c,"class","hint-desc"),I(m,"class","btn-apply"),I(h,"class","hint-actions"),I(n,"class","hint-card")},m(e,y){w(e,n,y),g(n,u),g(u,t),g(t,r),g(t,o),g(u,s),g(u,i),g(n,a),g(n,c),g(c,d),g(n,f),g(n,h),g(h,m),g(m,p),g(m,v),b||(x=[z(i,"click",l[3]),z(m,"click",l[2])],b=!0)},p(l,n){1&n&&k!==(k=l[0].strategyName+"")&&E(o,k),1&n&&S!==(S=l[0].description+"")&&E(d,S),1&n&&j!==(j=l[0].value+"")&&E(v,j)},d(l){l&&y(n),b=!1,e(x)}}}function bt(l){let n,u,t,e,r,o,s,i,a,c,d,f,h,m,p,v,b,x;u=new Bu({}),r=new lu({});let k=l[0]&&vt(l);return h=new xu({}),p=new at({}),{c(){n=$("header"),hl(u.$$.fragment),t=C(),e=$("section"),hl(r.$$.fragment),o=C(),s=$("div"),i=$("div"),a=$("button"),a.textContent="💡 获取下一步提示",c=C(),k&&k.c(),d=C(),f=$("footer"),hl(h.$$.fragment),m=C(),hl(p.$$.fragment),I(a,"class","btn-hint"),I(i,"class","hint-controls"),I(s,"class","hint-section")},m(y,$){w(y,n,$),ml(u,n,null),w(y,t,$),w(y,e,$),ml(r,e,null),w(y,o,$),w(y,s,$),g(s,i),g(i,a),g(s,c),k&&k.m(s,null),w(y,d,$),w(y,f,$),ml(h,f,null),w(y,m,$),ml(p,y,$),v=!0,b||(x=z(a,"click",l[1]),b=!0)},p(l,[n]){l[0]?k?k.p(l,n):(k=vt(l),k.c(),k.m(s,null)):k&&(k.d(1),k=null)},i(l){v||(il(u.$$.fragment,l),il(r.$$.fragment,l),il(h.$$.fragment,l),il(p.$$.fragment,l),v=!0)},o(l){al(u.$$.fragment,l),al(r.$$.fragment,l),al(h.$$.fragment,l),al(p.$$.fragment,l),v=!1},d(l){l&&y(n),pl(u),l&&y(t),l&&y(e),pl(r),l&&y(o),l&&y(s),k&&k.d(),l&&y(d),l&&y(f),pl(h),l&&y(m),pl(p,l),b=!1,x()}}}function wt(l,n,u){let t;c(l,un,l=>u(4,t=l));const e=new gt;let r=null;return rn.subscribe(l=>{l&&(fn.pause(),mn.show("gameover"))}),D(()=>{let l,n=location.hash;n.startsWith("#")&&(n=n.slice(1)),_l.validate(n)&&(l=n),mn.show("welcome",{onHide:fn.resume,sencode:l})}),[r,function(){const l=[];for(let n=0;n<9;n++)for(let u=0;u<9;u++){let e=t[n][u];l.push(e)}const n=e.getNextHint(l,[]);if(n){u(0,r=n);const l=n.cellIndex%9,t=Math.floor(n.cellIndex/9);Fl.set(l,t)}else alert("当前算法无法找到下一步，或题目已解完。"),u(0,r=null)},function(){if(r)if("FILL"===r.type){const l=r.cellIndex,n=r.value,t=l%9,e=Math.floor(l/9);!function(l,n){const u=_n(l);u&&Pn(u,!1,"hint",({key:l,candidatesBefore:t})=>{t&&Object.prototype.hasOwnProperty.call(t,l)&&pn.clear(u),un.set(u,n)})}({x:t,y:e},n),Fl.set(t,e),u(0,r=null)}else"ELIMINATE"===r.type&&alert("排除策略："+r.description+"\n\n(请手动删除笔记)")},function(){u(0,r=null)}]}return new class extends bl{constructor(l){super(),vl(this,l,wt,bt,o,{})}}({target:document.getElementById("app")})}();

var app=function(){"use strict";function l(){}const n=l=>l;function t(l){return l()}function e(){return Object.create(null)}function u(l){l.forEach(t)}function r(l){return"function"==typeof l}function o(l,n){return l!=l?n==n:l!==n||l&&"object"==typeof l||"function"==typeof l}let s;function i(n,...t){if(null==n)return l;const e=n.subscribe(...t);return e.unsubscribe?()=>e.unsubscribe():e}function a(l){let n;return i(l,l=>n=l)(),n}function c(l,n,t){l.$$.on_destroy.push(i(n,t))}const d="undefined"!=typeof window;let f=d?()=>window.performance.now():()=>Date.now(),h=d?l=>requestAnimationFrame(l):l;const m=new Set;function p(l){m.forEach(n=>{n.c(l)||(m.delete(n),n.f())}),0!==m.size&&h(p)}function g(l,n){l.appendChild(n)}function v(l){if(!l)return document;const n=l.getRootNode?l.getRootNode():l.ownerDocument;return n&&n.host?n:l.ownerDocument}function b(l){const n=$("style");return function(l,n){g(l.head||l,n),n.sheet}(v(l),n),n.sheet}function w(l,n,t){l.insertBefore(n,t||null)}function y(l){l.parentNode&&l.parentNode.removeChild(l)}function x(l,n){for(let t=0;t<l.length;t+=1)l[t]&&l[t].d(n)}function $(l){return document.createElement(l)}function k(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function M(l){return document.createTextNode(l)}function C(){return M(" ")}function S(){return M("")}function z(l,n,t,e){return l.addEventListener(n,t,e),()=>l.removeEventListener(n,t,e)}function A(l){return function(n){return n.preventDefault(),l.call(this,n)}}function E(l,n,t){null==t?l.removeAttribute(n):l.getAttribute(n)!==t&&l.setAttribute(n,t)}function j(l){return""===l?null:+l}function I(l,n){n=""+n,l.data!==n&&(l.data=n)}function N(l,n){l.value=null==n?"":n}function B(l,n,t,e){null==t?l.style.removeProperty(n):l.style.setProperty(n,t,e?"important":"")}function L(l,n,t){for(let t=0;t<l.options.length;t+=1){const e=l.options[t];if(e.__value===n)return void(e.selected=!0)}t&&void 0===n||(l.selectedIndex=-1)}function H(l,n,t){l.classList[t?"add":"remove"](n)}function O(l,n){return new l(n)}const _=new Map;let R,T=0;function P(l,n,t,e,u,r,o,s=0){const i=16.666/e;let a="{\n";for(let l=0;l<=1;l+=i){const e=n+(t-n)*r(l);a+=100*l+`%{${o(e,1-e)}}\n`}const c=a+`100% {${o(t,1-t)}}\n}`,d=`__svelte_${function(l){let n=5381,t=l.length;for(;t--;)n=(n<<5)-n^l.charCodeAt(t);return n>>>0}(c)}_${s}`,f=v(l),{stylesheet:h,rules:m}=_.get(f)||function(l,n){const t={stylesheet:b(n),rules:{}};return _.set(l,t),t}(f,l);m[d]||(m[d]=!0,h.insertRule(`@keyframes ${d} ${c}`,h.cssRules.length));const p=l.style.animation||"";return l.style.animation=`${p?`${p}, `:""}${d} ${e}ms linear ${u}ms 1 both`,T+=1,d}function G(l,n){const t=(l.style.animation||"").split(", "),e=t.filter(n?l=>l.indexOf(n)<0:l=>-1===l.indexOf("__svelte")),u=t.length-e.length;u&&(l.style.animation=e.join(", "),T-=u,T||h(()=>{T||(_.forEach(l=>{const{ownerNode:n}=l.stylesheet;n&&y(n)}),_.clear())}))}function D(l){R=l}function F(){if(!R)throw new Error("Function called outside component initialization");return R}function U(l){F().$$.on_mount.push(l)}function V(l){F().$$.on_destroy.push(l)}const q=[],Y=[];let J=[];const K=[],W=Promise.resolve();let X=!1;function Z(l){J.push(l)}function Q(l){K.push(l)}const ll=new Set;let nl,tl=0;function el(){if(0!==tl)return;const l=R;do{try{for(;tl<q.length;){const l=q[tl];tl++,D(l),ul(l.$$)}}catch(l){throw q.length=0,tl=0,l}for(D(null),q.length=0,tl=0;Y.length;)Y.pop()();for(let l=0;l<J.length;l+=1){const n=J[l];ll.has(n)||(ll.add(n),n())}J.length=0}while(q.length);for(;K.length;)K.pop()();X=!1,ll.clear(),D(l)}function ul(l){if(null!==l.fragment){l.update(),u(l.before_update);const n=l.dirty;l.dirty=[-1],l.fragment&&l.fragment.p(l.ctx,n),l.after_update.forEach(Z)}}function rl(l,n,t){l.dispatchEvent(function(l,n,{bubbles:t=!1,cancelable:e=!1}={}){const u=document.createEvent("CustomEvent");return u.initCustomEvent(l,t,e,n),u}(`${n?"intro":"outro"}${t}`))}const ol=new Set;let sl;function il(){sl={r:0,c:[],p:sl}}function al(){sl.r||u(sl.c),sl=sl.p}function cl(l,n){l&&l.i&&(ol.delete(l),l.i(n))}function dl(l,n,t,e){if(l&&l.o){if(ol.has(l))return;ol.add(l),sl.c.push(()=>{ol.delete(l),e&&(t&&l.d(1),e())}),l.o(n)}else e&&e()}const fl={duration:0};function hl(t,e,o,s){const i={direction:"both"};let a=e(t,o,i),c=s?0:1,d=null,g=null,v=null;function b(){v&&G(t,v)}function w(l,n){const t=l.b-c;return n*=Math.abs(t),{a:c,b:l.b,d:t,duration:n,start:l.start,end:l.start+n,group:l.group}}function y(e){const{delay:r=0,duration:o=300,easing:s=n,tick:i=l,css:y}=a||fl,x={start:f()+r,b:e};e||(x.group=sl,sl.r+=1),d||g?g=x:(y&&(b(),v=P(t,c,e,o,r,s,y)),e&&i(0,1),d=w(x,o),Z(()=>rl(t,e,"start")),function(l){let n;0===m.size&&h(p),new Promise(t=>{m.add(n={c:l,f:t})})}(l=>{if(g&&l>g.start&&(d=w(g,o),g=null,rl(t,d.b,"start"),y&&(b(),v=P(t,c,d.b,d.duration,0,s,a.css))),d)if(l>=d.end)i(c=d.b,1-c),rl(t,d.b,"end"),g||(d.b?b():--d.group.r||u(d.group.c)),d=null;else if(l>=d.start){const n=l-d.start;c=d.a+d.d*s(n/d.duration),i(c,1-c)}return!(!d&&!g)}))}return{run(l){r(a)?(nl||(nl=Promise.resolve(),nl.then(()=>{nl=null})),nl).then(()=>{a=a(i),y(l)}):y(l)},end(){b(),d=g=null}}}function ml(l,n,t){const e=l.$$.props[n];void 0!==e&&(l.$$.bound[e]=t,t(l.$$.ctx[e]))}function pl(l){l&&l.c()}function gl(l,n,e,o){const{fragment:s,after_update:i}=l.$$;s&&s.m(n,e),o||Z(()=>{const n=l.$$.on_mount.map(t).filter(r);l.$$.on_destroy?l.$$.on_destroy.push(...n):u(n),l.$$.on_mount=[]}),i.forEach(Z)}function vl(l,n){const t=l.$$;null!==t.fragment&&(!function(l){const n=[],t=[];J.forEach(e=>-1===l.indexOf(e)?n.push(e):t.push(e)),t.forEach(l=>l()),J=n}(t.after_update),u(t.on_destroy),t.fragment&&t.fragment.d(n),t.on_destroy=t.fragment=null,t.ctx=[])}function bl(l,n){-1===l.$$.dirty[0]&&(q.push(l),X||(X=!0,W.then(el)),l.$$.dirty.fill(0)),l.$$.dirty[n/31|0]|=1<<n%31}function wl(n,t,r,o,s,i,a,c=[-1]){const d=R;D(n);const f=n.$$={fragment:null,ctx:[],props:i,update:l,not_equal:s,bound:e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(d?d.$$.context:[])),callbacks:e(),dirty:c,skip_bound:!1,root:t.target||d.$$.root};a&&a(f.root);let h=!1;if(f.ctx=r?r(n,t.props||{},(l,t,...e)=>{const u=e.length?e[0]:t;return f.ctx&&s(f.ctx[l],f.ctx[l]=u)&&(!f.skip_bound&&f.bound[l]&&f.bound[l](u),h&&bl(n,l)),t}):[],f.update(),h=!0,u(f.before_update),f.fragment=!!o&&o(f.ctx),t.target){if(t.hydrate){const l=function(l){return Array.from(l.childNodes)}(t.target);f.fragment&&f.fragment.l(l),l.forEach(y)}else f.fragment&&f.fragment.c();t.intro&&cl(n.$$.fragment),gl(n,t.target,t.anchor,t.customElement),el()}D(d)}class yl{$destroy(){vl(this,1),this.$destroy=l}$on(n,t){if(!r(t))return l;const e=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return e.push(t),()=>{const l=e.indexOf(t);-1!==l&&e.splice(l,1)}}$set(l){var n;this.$$set&&(n=l,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(l),this.$$.skip_bound=!1)}}class xl{validate(l){throw new Error("子类必须实现validate方法")}parse(l){throw new Error("子类必须实现parse方法")}}const $l="https://sudoku.jonasgeiler.com/",kl="custom",Ml={veryeasy:"Very Easy",easy:"Easy",medium:"Medium",hard:"Hard"},Cl={darkTheme:!1,displayTimer:!0,hintsLimited:!0,hints:5,highlightCells:!0,highlightSame:!0,highlightConflicting:!0},Sl=99999,zl=81,Al=[[0,0],[0,1],[0,2],[0,3],[0,4],[0,5],[0,6],[0,7],[0,8],[1,0],[1,1],[1,2],[1,3],[1,4],[1,5],[1,6],[1,7],[1,8],[2,0],[2,1],[2,2],[2,3],[2,4],[2,5],[2,6],[2,7],[2,8],[3,0],[3,1],[3,2],[3,3],[3,4],[3,5],[3,6],[3,7],[3,8],[4,0],[4,1],[4,2],[4,3],[4,4],[4,5],[4,6],[4,7],[4,8],[5,0],[5,1],[5,2],[5,3],[5,4],[5,5],[5,6],[5,7],[5,8],[6,0],[6,1],[6,2],[6,3],[6,4],[6,5],[6,6],[6,7],[6,8],[7,0],[7,1],[7,2],[7,3],[7,4],[7,5],[7,6],[7,7],[7,8],[8,0],[8,1],[8,2],[8,3],[8,4],[8,5],[8,6],[8,7],[8,8]],El=[[1,1],[1,2],[1,3],[2,1],[2,2],[2,3],[3,1],[3,2],[3,3]],jl="-",Il="_",Nl=new RegExp("^[a-zA-Z0-9]+[-_][a-zA-Z0-9]+$"),Bl="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",Ll="none",Hl=400,Ol=Hl,_l=["Excellent!","Wow!","Congratulations!","Oh yeah!","Impressive!","Good work!","You did great!","Applause!","Great!"];class Rl{static encode(l){let n=BigInt(62),t="";for(;0<l;)t=Bl.charAt(Number(l%n))+t,l/=n;return t||"0"}static decode(l){let n=BigInt(62),t=0n;for(let e=0;e<l.length;e++)t=t*n+BigInt(Bl.indexOf(l[e]));return t}}class Tl extends xl{static#l="bd";static#n(l){try{const n=decodeURIComponent(l);return new URL(n).searchParams.get(Tl.#l)||null}catch(l){return null}}validate(l){const n=Tl.#n(l);return!!n&&n.length===zl}parse(l){if(!this.validate(l))return null;const n=Tl.#n(l),t=Array(9).fill(0).map(()=>Array(9).fill(0));let e=0;for(let l=0;l<9;l++)for(let u=0;u<9;u++){const r=Number(n[e]);t[l][u]=isNaN(r)?0:r,e++}return t}}class Pl{constructor(){this.strategies=[]}registerStrategy(l){if(!(l instanceof xl))throw new Error("必须传入ParseStrategy的子类实例");return this.strategies.push(l),this}parse(l){for(const n of this.strategies)if(n.validate(l)){const t=n.parse(l);if(t)return t}throw new Error(`无法解析输入内容：${l}，未匹配到任何解析策略`)}validate(l){for(const n of this.strategies)if(n.validate(l))return!0;return!1}static#t(l){for(let n=0;n<zl;n++){if(0!==l[80-n])return!1;if(0!==l[n])return!0}return!1}encode(l){const n=l.flat(),t=Pl.#t(n);t&&n.reverse();let e="",u="";for(let l=0;l<zl;l++)e+=0===n[l]?"0":"1",n[l]>0&&(u+=n[l]-1);return Rl.encode(BigInt("0b"+e))+(t?Il:jl)+Rl.encode(BigInt(u))}clearStrategies(){this.strategies=[]}}const Gl=(new Pl).registerStrategy(new class extends xl{validate(l){return l&&0!==l.trim().length&&Nl.test(l)}parse(l){let n=Array(9).fill(0).map(()=>Array(9).fill(0));const t=-1!==l.indexOf(Il),e=t?Il:jl,[u,r]=l.split(e),o=Rl.decode(u).toString(2).padStart(zl,"0");let s=0;for(let l=0;l<zl;l++)"1"===o[l]&&s++;let i=Rl.decode(r).toString().padStart(s,"0").split("");for(let l=0;l<zl;l++)if("1"===o[l]){const[t,e]=Al[l];n[t][e]=Number(i.shift())+1}return t&&(n=n.reverse().map(l=>l.reverse())),n}}).registerStrategy(new Tl);function Dl(l){return Gl.validate(l)}const Fl=[];function Ul(n,t=l){let e;const u=new Set;function r(l){if(o(n,l)&&(n=l,e)){const l=!Fl.length;for(const l of u)l[1](),Fl.push(l,n);if(l){for(let l=0;l<Fl.length;l+=2)Fl[l][0](Fl[l+1]);Fl.length=0}}}return{set:r,update:function(l){r(l(n))},subscribe:function(o,s=l){const i=[o,s];return u.add(i),1===u.size&&(e=t(r)||l),o(n),()=>{u.delete(i),0===u.size&&e&&(e(),e=null)}}}}function Vl(n,t,e){const o=!Array.isArray(n),s=o?[n]:n,a=t.length<2;return c=n=>{let e=!1;const c=[];let d=0,f=l;const h=()=>{if(d)return;f();const e=t(o?c[0]:c,n);a?n(e):f=r(e)?e:l},m=s.map((l,n)=>i(l,l=>{c[n]=l,d&=~(1<<n),e&&h()},()=>{d|=1<<n}));return e=!0,h(),function(){u(m),f(),e=!1}},{subscribe:Ul(e,c).subscribe};var c}const ql=function(){const l=Ul({x:null,y:null});return{subscribe:l.subscribe,set(n,t){l.set({x:n,y:t})},move(n=0,t=0){l.update(l=>{let e=l.x+n,u=l.y+t;return e<0&&(e=8),e>=9&&(e=0),u<0&&(u=8),u>=9&&(u=0),{x:e,y:u}})},reset(){this.set(null,null)}}}();const Yl=function(){const l=Ul((()=>{const l=localStorage.getItem("difficulty");return Ml.hasOwnProperty(l)?l:Object.keys(Ml)[0]})());return{subscribe:l.subscribe,set(n){Ml.hasOwnProperty(n)&&(l.set(n),localStorage.setItem("difficulty",n))},setCustom(){l.set(kl)}}}();function Jl(l,n,t){return function(l,n,t){for(var e=9*Math.floor(t/9),u=0;u<9;u+=1)if(l[e+u]===n)return!1;return!0}(l,n,t)&&function(l,n,t){for(var e=t%9,u=0;u<9;u+=1)if(l[e+9*u]===n)return!1;return!0}(l,n,t)&&function(l,n,t){for(var e=t-t%9%3-Math.floor(t/9)%3*9,u=0;u<9;u+=1)if(l[e+9*Math.floor(u/3)+u%3]===n)return!1;return!0}(l,n,t)}var Kl=0;function Wl(l,n,t){if(0!==t&&++Kl>t)throw new Error("Max iterations reached. No solution found.");if(n>=81)return!0;if(0!==l[n])return Wl(l,n+1,t);for(var e=1;e<=9;e+=1)if(Jl(l,e,n)&&(l[n]=e,Wl(l,n+1,t)))return!0;return l[n]=0,!1}var Xl=function(l,n){var t={emptyValue:"0",hintCheck:!0,outputArray:!1,maxIterations:1<<20};if(void 0!==n&&Object.assign(t,n),"string"==typeof l&&(l=l.split("")),!Array.isArray(l))throw new TypeError("Puzzle must be string or array.");if(81!==l.length)throw new Error("Puzzle is an invalid size.");var e=0;if(l=l.map(function(l){if(l===t.emptyValue||l===parseInt(t.emptyValue,10))return 0;e++;var n=parseInt(l,10);if(isNaN(n)||n>9||n<1)throw new TypeError("Invalid puzzle value: "+l);return n}),t.hintCheck&&e<17)throw new Error("A valid puzzle must have at least 17 hints.");if(!Wl(l,0,t.maxIterations))throw new Error("Puzzle could not be solved.");return t.outputArray?l:l.join("")};function Zl(l,n,t){return l(t={path:n,exports:{},require:function(l,n){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==n&&t.path)}},t.exports),t.exports}var Ql=Zl(function(l,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getRandomIntBetween=function(l,n){return Math.floor(Math.random()*(n-l))+l}}),ln=Zl(function(l,n){Object.defineProperty(n,"__esModule",{value:!0});var t=[[[null,8,null,null,null,null,null,null,null],[null,6,null,null,1,null,null,null,5],[null,null,5,8,null,2,null,4,7],[null,null,8,4,null,null,null,9,1],[null,9,null,null,null,null,null,8,null],[null,null,null,6,null,null,7,null,null],[null,null,null,null,5,null,null,3,null],[null,null,null,null,null,null,null,null,null],[2,1,null,null,6,null,null,null,9]],[[5,null,2,null,null,null,null,1,null],[null,null,7,null,8,4,6,null,null],[null,null,null,3,null,null,null,2,null],[null,3,null,null,null,7,null,null,null],[8,null,5,null,null,6,2,null,null],[null,null,null,1,4,null,null,null,null],[null,9,8,null,null,null,5,null,null],[1,null,null,6,null,null,4,null,null],[null,4,null,null,5,null,null,null,null]],[[null,null,null,null,null,null,1,null,null],[null,2,null,1,7,null,null,null,4],[null,7,null,null,null,null,8,null,9],[5,null,null,null,null,3,null,null,7],[null,null,null,8,4,null,null,null,null],[7,null,2,null,null,9,4,null,null],[null,null,8,null,3,null,null,null,null],[4,null,null,5,null,null,9,null,3],[null,1,null,null,null,8,null,null,null]],[[null,4,null,null,6,null,null,9,null],[null,null,null,null,7,null,8,null,1],[null,null,null,5,null,8,2,null,null],[2,null,null,null,8,null,null,null,5],[null,null,8,null,null,null,null,1,2],[7,null,null,9,null,3,null,null,null],[null,null,null,null,5,4,6,null,null],[null,null,null,null,null,null,null,null,3],[null,null,null,7,null,null,null,null,4]],[[null,null,null,null,null,null,null,7,2],[null,null,null,null,4,null,6,null,null],[null,null,null,null,null,null,5,null,null],[null,null,6,4,null,3,null,5,null],[null,8,null,null,null,6,1,null,null],[3,9,1,2,null,null,null,4,null],[7,null,null,null,8,null,null,null,null],[null,null,null,1,null,null,null,null,null],[null,null,4,9,6,null,null,null,8]],[[null,null,9,null,1,4,null,null,null],[null,null,null,null,null,null,null,null,null],[3,6,null,null,null,null,7,null,4],[8,null,1,null,null,5,9,null,null],[4,2,7,null,null,null,6,null,null],[null,null,null,null,7,null,null,null,null],[null,null,4,null,9,1,null,8,null],[7,null,null,null,null,null,null,null,6],[null,null,null,5,null,null,null,3,null]],[[null,6,null,null,null,5,null,3,2],[null,5,null,null,4,null,1,null,null],[null,null,null,null,7,null,null,6,null],[null,1,3,null,null,null,null,null,null],[5,null,null,null,null,4,null,null,3],[2,null,null,null,null,null,null,null,null],[null,8,null,null,1,2,4,7,null],[null,4,null,7,null,null,null,null,6],[null,null,null,null,6,null,8,9,null]],[[null,1,null,null,null,null,3,4,null],[null,null,2,null,4,null,null,null,null],[null,null,null,null,null,1,7,null,2],[9,null,null,1,null,null,null,null,5],[null,null,null,6,null,2,null,3,9],[1,null,null,3,null,null,null,null,4],[null,null,null,5,2,7,null,null,null],[null,9,null,null,8,6,null,null,null],[null,null,null,null,null,null,2,null,null]],[[3,null,null,null,null,null,5,null,null],[8,null,2,null,null,null,null,7,null],[7,9,null,null,null,5,null,null,2],[null,null,null,3,null,4,7,null,null],[null,null,null,null,null,6,null,4,3],[null,1,null,null,5,8,null,9,null],[null,null,null,6,2,null,null,5,null],[null,3,null,null,null,null,8,null,null],[null,null,null,null,null,null,null,1,null]]],e=[[[null,null,null,null,null,null,2,null,null],[9,7,6,null,null,null,null,5,null],[null,null,null,null,8,3,null,null,null],[8,null,1,null,null,null,null,null,null],[5,null,7,null,null,null,6,4,1],[null,null,null,2,null,null,null,null,null],[null,null,null,8,null,null,null,null,4],[null,4,null,null,9,5,3,null,2],[7,null,5,null,null,null,null,null,null]],[[6,null,null,null,null,null,3,null,null],[null,null,5,null,3,7,null,null,null],[null,null,null,5,null,null,null,null,null],[null,7,null,3,8,null,null,4,null],[null,2,null,null,1,null,null,null,null],[null,null,8,null,null,6,null,9,null],[8,null,null,6,null,9,null,null,null],[null,null,4,null,null,8,7,null,null],[null,9,2,7,null,null,null,null,6]],[[null,null,1,null,null,9,null,4,null],[6,null,null,null,4,null,null,null,null],[null,2,8,null,null,null,9,3,null],[null,null,null,null,null,null,6,7,null],[null,null,null,8,null,null,null,null,4],[null,null,null,5,2,4,3,null,null],[null,null,null,1,null,null,5,6,null],[null,null,6,null,null,null,null,null,2],[1,null,5,9,null,null,null,null,null]],[[8,7,null,null,null,null,null,null,null],[9,null,null,null,4,null,null,5,null],[4,null,null,null,2,9,7,null,null],[null,6,null,null,7,5,null,null,3],[null,null,null,null,3,null,null,null,9],[null,null,null,null,null,null,2,null,null],[null,null,null,null,null,7,null,null,null],[null,null,3,4,null,null,9,null,null],[2,8,5,null,null,null,null,null,null]],[[null,null,null,null,null,null,7,null,null],[null,4,null,null,5,null,1,null,null],[6,9,2,null,null,null,null,3,null],[null,null,1,null,null,9,null,null,null],[null,5,null,null,null,6,null,8,null],[null,2,null,7,null,4,null,9,null],[7,null,9,null,null,null,null,null,3],[null,null,null,null,null,null,null,7,null],[null,8,null,null,6,null,null,null,null]],[[5,null,null,null,1,null,9,null,4],[null,9,null,6,null,null,7,null,null],[6,null,null,null,null,null,null,1,null],[null,null,null,null,null,3,5,null,null],[2,null,null,null,null,null,null,null,3],[null,5,9,8,null,null,null,null,null],[null,null,null,null,null,null,1,null,null],[null,4,null,3,null,8,null,null,6],[null,3,null,9,null,null,null,4,null]],[[null,3,null,null,null,null,null,null,4],[null,null,null,6,null,null,1,null,null],[4,null,null,null,2,7,null,null,null],[null,null,null,null,4,null,null,2,5],[null,null,7,null,null,null,null,null,null],[6,null,8,null,null,1,null,null,null],[null,null,null,null,8,null,7,null,null],[null,1,null,null,null,null,null,6,null],[null,null,3,null,null,5,null,null,8]],[[null,null,3,6,null,2,null,9,null],[null,null,null,9,null,null,null,null,null],[null,null,6,1,7,null,2,null,null],[7,null,null,null,null,null,null,8,null],[null,null,null,null,8,5,3,null,null],[null,null,9,null,null,null,null,null,null],[4,null,null,7,null,9,1,null,null],[null,null,null,null,4,null,null,null,2],[null,null,null,null,null,1,7,5,null]],[[8,null,4,1,null,null,null,null,null],[null,null,1,9,3,2,null,null,4],[null,null,null,null,null,null,1,null,null],[1,5,null,null,null,null,null,7,null],[null,null,null,null,null,7,null,1,6],[2,null,null,null,null,5,null,null,null],[6,null,null,null,null,1,null,5,null],[null,null,null,3,null,null,2,null,null],[null,null,null,4,null,null,null,null,7]],[[4,null,null,null,null,1,8,null,null],[null,null,null,null,6,null,null,null,5],[null,5,1,null,null,null,null,null,null],[9,null,3,8,5,null,null,2,null],[null,null,null,null,null,7,null,6,null],[null,null,null,null,null,null,null,null,9],[6,7,null,null,null,3,null,4,null],[null,null,null,4,null,8,2,null,null],[null,3,null,null,null,null,null,null,null]]],u=[[[null,null,null,null,null,null,null,null,null],[null,null,8,null,2,6,null,null,null],[3,null,null,null,null,null,1,8,9],[null,null,null,9,5,null,null,null,3],[7,null,9,null,null,null,null,null,null],[4,null,null,null,6,1,5,null,null],[1,null,null,3,null,null,2,null,5],[null,null,null,null,null,null,null,null,null],[null,null,null,5,8,null,null,null,null]],[[null,null,9,null,5,null,2,null,7],[null,null,null,1,null,null,null,null,null],[2,1,null,null,6,null,4,null,5],[1,4,null,null,7,null,null,null,null],[null,6,2,null,null,null,null,null,null],[null,null,null,5,2,9,null,null,null],[null,null,null,7,null,null,null,null,8],[null,null,1,null,null,null,null,3,null],[5,8,null,null,null,null,null,null,null]],[[1,null,null,null,7,null,null,2,null],[null,null,5,null,null,null,null,null,null],[null,8,null,null,null,3,6,null,null],[6,5,null,null,3,1,null,null,null],[null,null,null,5,null,null,null,6,null],[3,null,9,null,6,null,7,null,1],[5,null,2,null,null,4,null,null,null],[null,null,null,null,null,null,null,9,null],[9,null,4,null,null,null,8,null,null]],[[9,5,null,1,null,null,2,null,null],[null,7,null,3,null,null,null,null,null],[null,null,null,null,null,2,null,6,9],[null,null,null,null,null,null,null,null,null],[null,null,null,5,null,null,null,null,null],[null,null,4,null,3,9,null,null,8],[7,null,6,null,null,null,null,null,3],[8,null,null,null,null,null,1,4,6],[3,null,null,null,null,null,null,9,5]],[[null,4,null,null,8,null,null,null,null],[null,null,null,null,9,1,6,null,null],[null,null,null,null,null,null,3,5,null],[5,null,null,null,null,null,null,null,null],[null,null,6,3,null,8,null,null,1],[null,null,7,9,null,null,null,null,null],[7,3,9,1,null,4,null,8,null],[2,8,null,null,null,null,null,null,null],[null,null,null,null,null,null,1,2,null]],[[null,8,null,5,4,null,null,null,null],[null,null,null,null,null,6,null,1,3],[null,null,null,null,null,null,8,6,null],[null,2,null,null,null,null,null,null,7],[null,null,4,null,null,null,9,null,null],[9,3,null,null,6,null,null,null,null],[null,6,null,2,null,null,7,null,null],[5,null,null,3,null,null,4,2,null],[null,null,7,null,5,1,null,null,null]],[[null,null,null,null,null,null,null,null,null],[null,8,null,7,9,1,null,null,null],[1,null,null,null,null,null,7,5,null],[null,null,null,null,3,null,null,null,null],[9,null,7,5,null,null,null,4,2],[5,null,2,9,7,4,null,null,null],[8,null,null,1,null,null,null,null,null],[null,null,null,null,2,null,null,null,9],[null,null,4,null,5,9,null,2,null]],[[null,null,null,null,null,null,null,null,null],[1,null,5,null,null,null,2,8,null],[null,null,6,null,7,8,null,null,null],[3,null,null,null,null,null,7,null,null],[null,null,8,7,1,3,null,null,4],[null,null,null,8,null,null,null,null,null],[8,null,3,null,null,null,null,4,null],[2,null,null,6,null,null,5,1,null],[null,null,null,null,null,4,null,null,7]],[[6,9,null,1,null,null,null,null,null],[null,null,null,null,3,null,null,8,null],[3,null,null,2,null,9,null,null,null],[null,null,8,null,1,null,null,3,null],[4,null,null,null,null,null,null,null,null],[5,null,null,null,null,6,8,null,null],[null,null,2,3,null,8,4,null,null],[null,null,7,null,9,4,2,null,null],[null,null,null,null,null,null,null,5,null]],[[null,null,null,null,7,null,null,1,null],[4,6,null,null,1,null,3,null,null],[null,null,5,4,null,null,null,7,null],[7,null,null,null,null,3,4,null,null],[null,null,null,null,null,null,null,null,9],[6,null,2,9,null,null,null,null,5],[null,8,null,null,2,null,5,null,null],[null,null,null,null,null,null,null,2,null],[null,5,null,null,null,null,null,9,1]]],r=[[[null,null,null,null,null,9,5,null,null],[null,4,null,null,null,2,null,null,8],[null,null,null,1,null,3,null,null,9],[null,null,6,null,null,5,null,null,null],[null,null,4,9,null,null,null,null,null],[null,null,null,2,7,6,null,3,null],[5,3,null,null,null,null,1,null,null],[null,1,null,null,null,null,null,4,5],[null,null,null,6,null,null,8,null,null]],[[null,null,3,2,null,9,5,null,null],[8,null,null,null,5,null,null,null,null],[null,null,null,null,null,null,null,null,2],[null,3,null,null,null,8,null,null,null],[null,null,null,null,null,null,6,1,null],[null,9,null,1,null,null,null,null,7],[null,null,null,null,null,6,null,null,9],[null,6,1,3,null,null,null,8,null],[null,8,5,7,null,null,3,null,null]],[[5,null,null,null,null,null,null,null,null],[null,3,null,9,6,null,null,7,null],[2,null,null,null,null,4,8,null,null],[null,null,5,null,null,null,null,8,1],[null,null,9,null,7,null,null,null,null],[1,6,null,5,null,null,null,null,7],[3,8,7,null,2,5,null,null,null],[null,null,null,null,null,null,null,null,null],[null,null,null,null,null,8,null,6,null]],[[2,null,null,null,8,null,null,null,null],[null,4,null,null,null,9,6,null,null],[null,null,6,2,null,null,null,null,null],[5,null,null,1,null,null,null,6,null],[6,null,null,null,null,null,3,null,null],[1,null,9,7,null,8,null,null,2],[null,null,8,null,null,null,4,3,null],[3,null,null,null,7,null,null,null,null],[null,1,null,3,null,5,null,null,null]],[[3,null,null,null,null,9,1,null,2],[null,5,8,null,null,null,9,7,null],[7,null,null,null,null,null,null,null,null],[null,null,null,null,4,3,null,null,null],[null,null,3,9,null,null,null,null,null],[9,null,null,7,null,null,null,null,null],[null,9,null,null,6,null,5,1,3],[null,null,2,null,8,null,4,null,null],[null,null,5,null,null,4,2,null,null]],[[null,null,null,1,5,null,8,3,null],[null,null,9,null,7,4,null,null,null],[null,null,null,null,null,null,null,null,6],[null,9,null,null,4,1,null,null,2],[null,null,null,null,null,3,6,5,null],[3,null,2,null,null,null,null,null,4],[null,5,null,9,null,null,null,8,3],[6,null,null,null,null,null,4,null,null],[null,2,null,null,null,null,null,null,null]],[[null,null,5,null,null,4,8,null,null],[null,1,null,null,9,2,null,null,3],[9,null,2,null,null,null,null,5,null],[null,6,null,null,null,null,null,3,9],[null,null,3,null,null,1,7,null,null],[null,null,null,null,null,null,null,null,null],[5,null,null,4,null,null,null,8,null],[6,null,null,null,3,5,null,null,null],[null,null,9,1,null,null,null,null,7]],[[8,null,null,7,null,5,9,null,null],[7,null,6,2,null,null,null,null,null],[null,9,null,null,null,null,null,7,null],[null,null,null,null,null,null,null,null,null],[null,null,null,6,null,4,null,null,3],[null,null,null,5,2,null,null,1,4],[null,null,null,null,8,null,null,null,1],[4,null,null,null,null,1,null,3,6],[null,3,8,null,null,null,2,null,null]],[[null,null,null,null,9,null,null,null,4],[null,4,null,1,null,null,null,6,null],[null,2,7,null,null,null,null,null,5],[null,9,null,null,null,null,null,null,null],[null,null,null,8,null,3,6,null,null],[null,null,6,null,null,4,1,5,null],[null,5,2,null,null,null,null,7,null],[null,null,null,4,null,8,null,null,null],[null,null,3,null,null,5,null,4,null]],[[null,null,null,null,null,null,9,null,2],[null,null,3,null,null,null,null,7,null],[null,null,2,4,8,null,null,null,null],[null,9,null,2,null,6,5,null,3],[null,null,null,null,null,1,4,null,6],[8,null,null,5,null,null,null,null,null],[null,7,null,null,null,null,null,null,null],[null,2,null,9,1,8,null,null,null],[1,6,null,null,2,null,null,null,null]]];n.getRandomVeryEasy=function(){var l=[];return t[Ql.getRandomIntBetween(0,t.length)].forEach(function(n){return l.push(n.slice())}),l},n.getRandomEasy=function(){var l=[];return e[Ql.getRandomIntBetween(0,e.length)].forEach(function(n){return l.push(n.slice())}),l},n.getRandomMedium=function(){var l=[];return u[Ql.getRandomIntBetween(0,u.length)].forEach(function(n){return l.push(n.slice())}),l},n.getRandomHard=function(){var l=[];return r[Ql.getRandomIntBetween(0,r.length)].forEach(function(n){return l.push(n.slice())}),l}}),nn=Zl(function(l,n){Object.defineProperty(n,"__esModule",{value:!0}),n.shuffleColumns=function(l){return l=u(l),l=t(l),l=u(l)};var t=function(l){var n=[],t=[],u=[];l.forEach(function(l,e){e<3?n.push(l.slice()):e<6?t.push(l.slice()):u.push(l.slice())}),n=e(n),t=e(t),u=e(u);var r=[n,t,u],o=r.splice(Ql.getRandomIntBetween(0,r.length),1)[0],s=r.splice(Ql.getRandomIntBetween(0,r.length),1)[0],i=r[0];return l=o.concat(s,i)};n.shuffleRows=function(l){return t(l)};var e=function(l){var n=[l[0],l[1],l[2]];return l=[n.splice(Ql.getRandomIntBetween(0,n.length),1)[0],n.splice(Ql.getRandomIntBetween(0,n.length),1)[0],n[0]]},u=function(l){var n=[];l.forEach(function(l){return n.push(l.slice())});for(var t=0;t<9;t++)for(var e=0;e<9;e++)l[e][t]=n[t][e];return l};n.transponseTable=function(l){return u(l)};var r=function(l){var n=[];l.forEach(function(l){return n.push(l.slice())});for(var t=0;t<9;t++)for(var e=0;e<9;e++)l[e][t]=n[t][8-e];return l};n.rotateTable=function(l,n){for(var t=null!=n?n%4:1,e=0;e<t;e++)l=r(l);return l};var o=function(l){var n=[];l.forEach(function(l){return n.push(l.slice())});for(var t=0;t<4;t++)l[t]=n[8-t],l[8-t]=n[t];return l};n.horizontallyMirrorTable=function(l){return l=o(l)},n.verticallyMirrorTable=function(l){return l=u(l),l=o(l),l=u(l)},n.randomizeTableNumbers=function(l){var n=[1,2,3,4,5,6,7,8,9],t={1:n.splice(Ql.getRandomIntBetween(0,n.length),1)[0],2:n.splice(Ql.getRandomIntBetween(0,n.length),1)[0],3:n.splice(Ql.getRandomIntBetween(0,n.length),1)[0],4:n.splice(Ql.getRandomIntBetween(0,n.length),1)[0],5:n.splice(Ql.getRandomIntBetween(0,n.length),1)[0],6:n.splice(Ql.getRandomIntBetween(0,n.length),1)[0],7:n.splice(Ql.getRandomIntBetween(0,n.length),1)[0],8:n.splice(Ql.getRandomIntBetween(0,n.length),1)[0],9:n[0]};return l.forEach(function(n,e){n.forEach(function(n,u){n&&(l[e][u]=t[n])})}),l}}),tn=Zl(function(l,n){Object.defineProperty(n,"__esModule",{value:!0});var t=function(l){return l=nn.shuffleColumns(l),l=nn.shuffleRows(l),l=nn.rotateTable(l,Ql.getRandomIntBetween(0,4)),Ql.getRandomIntBetween(0,2)&&(l=nn.transponseTable(l)),Ql.getRandomIntBetween(0,2)&&(l=nn.horizontallyMirrorTable(l)),Ql.getRandomIntBetween(0,2)&&(l=nn.verticallyMirrorTable(l)),l=nn.randomizeTableNumbers(l)};n.getVeryEasySudoku=function(){var l=ln.getRandomVeryEasy();return l=t(l)},n.getEasySudoku=function(){var l=ln.getRandomEasy();return l=t(l)},n.getMediumSudoku=function(){var l=ln.getRandomMedium();return l=t(l)},n.getHardSudoku=function(){var l=ln.getRandomHard();return l=t(l)},n.getSudoku=function(l){switch(l+"".toLowerCase()){case"veryeasy":default:return n.getVeryEasySudoku();case"easy":return n.getEasySudoku();case"medium":return n.getMediumSudoku();case"hard":return n.getHardSudoku()}}});const en=function(){const l=Ul((()=>{const l=localStorage.getItem("settings");return l?JSON.parse(l):Cl})());return{subscribe:l.subscribe,set(n){l.set(n),localStorage.setItem("settings",JSON.stringify(n))}}}(),un=Ul(0);const rn=function(){let l=1/0;const n=Ul(1/0);return en.subscribe(t=>{t.hintsLimited?(l=t.hints,n.update(l=>l>t.hints?t.hints:l)):(l=1/0,n.set(1/0))}),{subscribe:n.subscribe,useHint(){n.update(l=>l>0?(un.update(l=>l+1),l-1):0)},reset(){n.set(l),un.set(0)}}}();const on=function(){const l=Ul([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]);return{subscribe:l.subscribe,generate(n){l.set(function(l="easy"){const n=tn.getSudoku(l);for(let l=0;l<9;l++)for(let t=0;t<9;t++)null===n[l][t]&&(n[l][t]=0);return n}(n))},parseSudoku(n){l.set(Gl.parse(n))},get:(l,n,t)=>l[t][n],getSencode:l=>Gl.encode(l)}}();const sn=function(){const l=Ul([[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]]);return on.subscribe(n=>{let t=[];for(let l=0;l<9;l++){t[l]=[];for(let e=0;e<9;e++)t[l][e]=n[l][e]}l.set(t)}),{subscribe:l.subscribe,set:(n,t)=>{l.update(l=>(l[n.y][n.x]=t,l))},applyHint:n=>{rn.useHint(),l.update(l=>{const t=function(l){let n=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];const t=Xl(l.flat().join(""),{outputArray:!0,hintCheck:!1});for(let l=0;l<zl;l++){const[e,u]=Al[l];n[e][u]=t[l]}return n}(l);return l[n.y][n.x]=t[n.y][n.x],l})}}}(),an=Vl(sn,l=>{const n=[],t=(l,t)=>{const e=l+","+t;n.includes(e)||n.push(e)};for(let n=0;n<9;n++)for(let e=0;e<9;e++){const u=l[n][e];if(u){for(let r=0;r<9;r++)r!==e&&l[n][r]===u&&t(e,n),r!==n&&l[r][e]===u&&t(e,r);const r=3*Math.floor(n/3),o=r+3,s=3*Math.floor(e/3),i=s+3;for(let a=r;a<o;a++)for(let r=s;r<i;r++)a!==n&&r!==e&&l[a][r]===u&&t(r,a)}}return n},[]),cn=Ul(!0),dn=Vl([sn,an],([l,n])=>{for(let n=0;n<9;n++)for(let t=0;t<9;t++)if(0===l[n][t])return!1;return 0===n.length},!1);const fn=function(){let l=null,n=null,t=null,e=0,u=!1;const r=Ul("00:00");return{subscribe:r.subscribe,start(){u||(null===n&&(this.reset(),n=Date.now()),null!==t&&(e+=Date.now()-t),l=setInterval(()=>{const l=Date.now()-n-e,t=new Date(l).toISOString().substr(11,8);"00"!==t.substr(0,2)?r.set(t):r.set(t.substr(3))},10),u=!0)},stop(){u=!1,t=Date.now(),clearInterval(l)},reset(){u=!1,clearInterval(l),e=0,n=null,t=null,r.set("00:00")}}}();function hn(l){Yl.set(l),on.generate(l),ql.reset(),fn.reset(),rn.reset(),location.hash=""}function mn(l){Yl.setCustom(),on.parseSudoku(l),ql.reset(),fn.reset(),rn.reset()}function pn(){fn.stop(),cn.set(!0)}function gn(){fn.start(),cn.set(!1)}var vn={startNew:hn,startCustom:mn,pause:pn,resume:gn};const bn=Ul({});const wn=function(){const l=Ul(Ll);let n=!1,t=!1;return{subscribe:l.subscribe,show(e,u={}){l.set(e),bn.set(u),n=u.onHide||!1,t=u.onHideReplace||!1},hide(){t&&n?n():(l.set(Ll),n&&setTimeout(n,Hl))}}}();const yn=function(){const l=Ul({});return{subscribe:l.subscribe,add(n,t){l.update(l=>(l.hasOwnProperty(n.x+","+n.y)?l[n.x+","+n.y].includes(t)?delete l[n.x+","+n.y][l[n.x+","+n.y].indexOf(t)]:l[n.x+","+n.y].push(t):l[n.x+","+n.y]=[t],l))},clear(n){l.update(l=>(delete l[n.x+","+n.y],l))}}}();function xn(l,n,t){const e=l.slice();return e[2]=n[t][0],e[3]=n[t][1],e[5]=t,e}function $n(l){let n,t,e,u=l[5]+1+"";return{c(){n=$("div"),t=M(u),e=C(),E(n,"class","candidate row-start-"+l[2]+" col-start-"+l[3]+" svelte-zlhaz3"),H(n,"invisible",!l[0].includes(l[5]+1)),H(n,"visible",l[0].includes(l[5]+1)),H(n,"tried",l[1]&&l[1].includes(l[5]+1))},m(l,u){w(l,n,u),g(n,t),g(n,e)},p(l,t){1&t&&H(n,"invisible",!l[0].includes(l[5]+1)),1&t&&H(n,"visible",l[0].includes(l[5]+1)),2&t&&H(n,"tried",l[1]&&l[1].includes(l[5]+1))},d(l){l&&y(n)}}}function kn(n){let t,e=El,u=[];for(let l=0;l<e.length;l+=1)u[l]=$n(xn(n,e,l));return{c(){t=$("div");for(let l=0;l<u.length;l+=1)u[l].c();E(t,"class","candidate-grid svelte-zlhaz3")},m(l,n){w(l,t,n);for(let l=0;l<u.length;l+=1)u[l]&&u[l].m(t,null)},p(l,[n]){if(3&n){let r;for(e=El,r=0;r<e.length;r+=1){const o=xn(l,e,r);u[r]?u[r].p(o,n):(u[r]=$n(o),u[r].c(),u[r].m(t,null))}for(;r<u.length;r+=1)u[r].d(1);u.length=e.length}},i:l,o:l,d(l){l&&y(t),x(u,l)}}}function Mn(l,n,t){let{candidates:e=[]}=n,{tried:u=[]}=n;return l.$$set=l=>{"candidates"in l&&t(0,e=l.candidates),"tried"in l&&t(1,u=l.tried)},[e,u]}class Cn extends yl{constructor(l){super(),wl(this,l,Mn,kn,o,{candidates:0,tried:1})}}function Sn(l){const n=l-1;return n*n*n+1}function zn(l,{delay:t=0,duration:e=400,easing:u=n}={}){const r=+getComputedStyle(l).opacity;return{delay:t,duration:e,easing:u,css:l=>"opacity: "+l*r}}function An(l,{delay:n=0,duration:t=400,easing:e=Sn,axis:u="y"}={}){const r=getComputedStyle(l),o=+r.opacity,s="y"===u?"height":"width",i=parseFloat(r[s]),a="y"===u?["top","bottom"]:["left","right"],c=a.map(l=>`${l[0].toUpperCase()}${l.slice(1)}`),d=parseFloat(r[`padding${c[0]}`]),f=parseFloat(r[`padding${c[1]}`]),h=parseFloat(r[`margin${c[0]}`]),m=parseFloat(r[`margin${c[1]}`]),p=parseFloat(r[`border${c[0]}Width`]),g=parseFloat(r[`border${c[1]}Width`]);return{delay:n,duration:t,easing:e,css:l=>`overflow: hidden;opacity: ${Math.min(20*l,1)*o};${s}: ${l*i}px;padding-${a[0]}: ${l*d}px;padding-${a[1]}: ${l*f}px;margin-${a[0]}: ${l*h}px;margin-${a[1]}: ${l*m}px;border-${a[0]}-width: ${l*p}px;border-${a[1]}-width: ${l*g}px;`}}function En(l,{delay:n=0,duration:t=400,easing:e=Sn,start:u=0,opacity:r=0}={}){const o=getComputedStyle(l),s=+o.opacity,i="none"===o.transform?"":o.transform,a=1-u,c=s*(1-r);return{delay:n,duration:t,easing:e,css:(l,n)=>`\n\t\t\ttransform: ${i} scale(${1-a*n});\n\t\t\topacity: ${s-c*n}\n\t\t`}}function jn(l){let n,t,e,u,r,o,s;const i=[Nn,In],a=[];function c(l,n){return l[3]?0:1}return e=c(l),u=a[e]=i[e](l),{c(){n=$("div"),t=$("button"),u.c(),E(t,"class","cell-btn svelte-xhwzrs"),E(n,"class","cell-inner svelte-xhwzrs"),H(n,"is-given",l[5]),H(n,"is-modified-given",l[6]),H(n,"user-number",l[9]&&!l[5]&&!l[6]),H(n,"selected",l[10]),H(n,"same-area",l[11]),H(n,"same-number",l[12]),H(n,"conflicting-number",l[8])},m(u,i){w(u,n,i),g(n,t),a[e].m(t,null),r=!0,o||(s=z(t,"click",l[17]),o=!0)},p(l,o){let s=e;e=c(l),e===s?a[e].p(l,o):(il(),dl(a[s],1,1,()=>{a[s]=null}),al(),u=a[e],u?u.p(l,o):(u=a[e]=i[e](l),u.c()),cl(u,1),u.m(t,null)),(!r||32&o)&&H(n,"is-given",l[5]),(!r||64&o)&&H(n,"is-modified-given",l[6]),(!r||608&o)&&H(n,"user-number",l[9]&&!l[5]&&!l[6]),(!r||1024&o)&&H(n,"selected",l[10]),(!r||2048&o)&&H(n,"same-area",l[11]),(!r||4096&o)&&H(n,"same-number",l[12]),(!r||256&o)&&H(n,"conflicting-number",l[8])},i(l){r||(cl(u),r=!0)},o(l){dl(u),r=!1},d(l){l&&y(n),a[e].d(),o=!1,s()}}}function In(n){let t,e,u=(n[0]||"")+"";return{c(){t=$("span"),e=M(u),E(t,"class","cell-text svelte-xhwzrs")},m(l,n){w(l,t,n),g(t,e)},p(l,n){1&n&&u!==(u=(l[0]||"")+"")&&I(e,u)},i:l,o:l,d(l){l&&y(t)}}}function Nn(l){let n,t;return n=new Cn({props:{candidates:l[3],tried:l[4]}}),{c(){pl(n.$$.fragment)},m(l,e){gl(n,l,e),t=!0},p(l,t){const e={};8&t&&(e.candidates=l[3]),16&t&&(e.tried=l[4]),n.$set(e)},i(l){t||(cl(n.$$.fragment,l),t=!0)},o(l){dl(n.$$.fragment,l),t=!1},d(l){vl(n,l)}}}function Bn(l){let n,t,e,u=!l[7]&&jn(l);return{c(){n=$("div"),u&&u.c(),E(n,"class",t="cell row-start-"+l[2]+" col-start-"+l[1]+" svelte-xhwzrs"),H(n,"border-r",l[13]),H(n,"border-r-4",l[14]),H(n,"border-b",l[15]),H(n,"border-b-4",l[16])},m(l,t){w(l,n,t),u&&u.m(n,null),e=!0},p(l,[r]){l[7]?u&&(il(),dl(u,1,1,()=>{u=null}),al()):u?(u.p(l,r),128&r&&cl(u,1)):(u=jn(l),u.c(),cl(u,1),u.m(n,null)),(!e||6&r&&t!==(t="cell row-start-"+l[2]+" col-start-"+l[1]+" svelte-xhwzrs"))&&E(n,"class",t),(!e||8198&r)&&H(n,"border-r",l[13]),(!e||16390&r)&&H(n,"border-r-4",l[14]),(!e||32774&r)&&H(n,"border-b",l[15]),(!e||65542&r)&&H(n,"border-b-4",l[16])},i(l){e||(cl(u),e=!0)},o(l){dl(u),e=!1},d(l){l&&y(n),u&&u.d()}}}function Ln(l,n,t){let{value:e}=n,{cellX:u}=n,{cellY:r}=n,{candidates:o}=n,{triedCandidates:s}=n,{editable:i=!1}=n,{onEdit:a=null}=n,{isGiven:c=!1}=n,{isModifiedGiven:d=!1}=n,{disabled:f}=n,{conflictingNumber:h}=n,{userNumber:m}=n,{selected:p}=n,{sameArea:g}=n,{sameNumber:v}=n;const b=9!==u&&u%3!=0,w=9!==u&&u%3==0,y=9!==r&&r%3!=0,x=9!==r&&r%3==0;return l.$$set=l=>{"value"in l&&t(0,e=l.value),"cellX"in l&&t(1,u=l.cellX),"cellY"in l&&t(2,r=l.cellY),"candidates"in l&&t(3,o=l.candidates),"triedCandidates"in l&&t(4,s=l.triedCandidates),"editable"in l&&t(18,i=l.editable),"onEdit"in l&&t(19,a=l.onEdit),"isGiven"in l&&t(5,c=l.isGiven),"isModifiedGiven"in l&&t(6,d=l.isModifiedGiven),"disabled"in l&&t(7,f=l.disabled),"conflictingNumber"in l&&t(8,h=l.conflictingNumber),"userNumber"in l&&t(9,m=l.userNumber),"selected"in l&&t(10,p=l.selected),"sameArea"in l&&t(11,g=l.sameArea),"sameNumber"in l&&t(12,v=l.sameNumber)},[e,u,r,o,s,c,d,f,h,m,p,g,v,b,w,y,x,function(){"function"==typeof ql.set&&ql.set(u-1,r-1)},i,a]}class Hn extends yl{constructor(l){super(),wl(this,l,Ln,Bn,o,{value:0,cellX:1,cellY:2,candidates:3,triedCandidates:4,editable:18,onEdit:19,isGiven:5,isModifiedGiven:6,disabled:7,conflictingNumber:8,userNumber:9,selected:10,sameArea:11,sameNumber:12})}}const On=function(){const l=Ul(!1);return{subscribe:l.subscribe,toggle(){l.update(l=>!l)}}}(),_n=Vl([ql,on,cn],([l,n,t])=>null===l.x&&null===l.y||0!==n[l.y][l.x]||t,!1),Rn=[];let Tn=-1;const Pn=Ul({});function Gn(l){return l&&null!=l.x&&null!=l.y?{x:l.x,y:l.y}:null}function Dn(l){return`${l.x},${l.y}`}function Fn(l,n){if(!l||!Object.prototype.hasOwnProperty.call(l,n))return[];const t=l[n];return Array.isArray(t)?[...t]:[]}function Un(l,n,t){sn.set(l,n),yn.clear(l);for(const n of t)yn.add(l,n)}function Vn(l,n,t,e){const u=a(sn),r=a(yn),o=Dn(l),s=u[l.y][l.x],i=Fn(r,o);e({key:o,candidatesBefore:r});const c=a(sn),d=a(yn),f=c[l.y][l.x],h=Fn(d,o);if(s===f&&function(l,n){if(l.length!==n.length)return!1;for(let t=0;t<l.length;t++)if(l[t]!==n[t])return!1;return!0}(i,h))return;Tn<Rn.length-1&&Rn.splice(Tn+1);const m=i.length>1,p="user"===t&&!n&&m,g={action:{type:"input",pos:{x:l.x,y:l.y},prevValue:s,nextValue:f,prevCandidates:i,nextCandidates:h,noteMode:n},branch:{isBranchPoint:p,cellKey:p?o:void 0,candidatesAtBranch:p?[...i]:void 0,triedCandidates:[]}};Rn.push(g),Tn=Rn.length-1}function qn(){if(Tn<0)return;const l=Rn[Tn],{pos:n,prevValue:t,prevCandidates:e}=l.action;Un(n,t,e),Tn-=1}function Yn(){Rn.length=0,Tn=-1,Pn.set({})}function Jn(){qn()}function Kn(){!function(){if(Tn>=Rn.length-1)return;const l=Rn[Tn+1],{pos:n,nextValue:t,nextCandidates:e}=l.action;Un(n,t,e),Tn+=1}()}function Wn(){if(0===Rn.length||Tn<0)return;let l=-1;for(let n=Rn[Tn].branch.isBranchPoint?Tn-1:Tn;n>=0;n--)if(Rn[n].branch.isBranchPoint){l=n;break}if(-1===l){for(;Tn>=0;)qn();return void Pn.set({})}const n=Rn[l],t=n.branch.cellKey,e=n.branch.candidatesAtBranch||[];let u=null;for(let n=l;n<=Tn;n++){const l=Rn[n].action;if(!l.noteMode&&"input"===l.type){Dn(l.pos)===t&&0!==l.nextValue&&e.includes(l.nextValue)&&(u=l.nextValue)}}for(null!==u&&(n.branch.triedCandidates.includes(u)||n.branch.triedCandidates.push(u),Pn.update(l=>{const n=Object.assign({},l),e=n[t]?[...n[t]]:[];return e.includes(u)||e.push(u),n[t]=e,n}));Tn>=l;)qn()}function Xn(l,n,t){const e=l.slice();return e[18]=n[t],e[20]=t,e}function Zn(l,n,t){const e=l.slice();e[21]=n[t],e[24]=t;const u=e[24]+","+e[20];return e[22]=u,e}function Qn(l){let n,t;return n=new Hn({props:{value:l[21],cellY:l[20]+1,cellX:l[24]+1,candidates:l[2]?null:l[8][l[22]],triedCandidates:l[2]?null:l[9][l[22]],disabled:void 0!==l[4]?l[4]:l[7],selected:tt(l[10],l[24],l[20]),userNumber:l[5]?0===l[5][l[20]][l[24]]:0===l[11][l[20]][l[24]],isGiven:l[15](l[24],l[20],l[21]),isModifiedGiven:l[16](l[24],l[20],l[21]),sameArea:l[12].highlightCells&&!tt(l[10],l[24],l[20])&&l[14](l[10],l[24],l[20]),sameNumber:l[12].highlightSame&&l[21]&&!tt(l[10],l[24],l[20])&&et(l[6],l[10])===l[21],conflictingNumber:l[3]?l[3].includes(l[22]):l[12].highlightConflicting&&0===l[11][l[20]][l[24]]&&l[13].includes(l[22]),editable:l[0],onEdit:l[1]}}),{c(){pl(n.$$.fragment)},m(l,e){gl(n,l,e),t=!0},p(l,t){const e={};64&t&&(e.value=l[21]),260&t&&(e.candidates=l[2]?null:l[8][l[22]]),516&t&&(e.triedCandidates=l[2]?null:l[9][l[22]]),144&t&&(e.disabled=void 0!==l[4]?l[4]:l[7]),1024&t&&(e.selected=tt(l[10],l[24],l[20])),2080&t&&(e.userNumber=l[5]?0===l[5][l[20]][l[24]]:0===l[11][l[20]][l[24]]),64&t&&(e.isGiven=l[15](l[24],l[20],l[21])),64&t&&(e.isModifiedGiven=l[16](l[24],l[20],l[21])),5120&t&&(e.sameArea=l[12].highlightCells&&!tt(l[10],l[24],l[20])&&l[14](l[10],l[24],l[20])),5184&t&&(e.sameNumber=l[12].highlightSame&&l[21]&&!tt(l[10],l[24],l[20])&&et(l[6],l[10])===l[21]),14344&t&&(e.conflictingNumber=l[3]?l[3].includes(l[22]):l[12].highlightConflicting&&0===l[11][l[20]][l[24]]&&l[13].includes(l[22])),1&t&&(e.editable=l[0]),2&t&&(e.onEdit=l[1]),n.$set(e)},i(l){t||(cl(n.$$.fragment,l),t=!0)},o(l){dl(n.$$.fragment,l),t=!1},d(l){vl(n,l)}}}function lt(l){let n,t,e=l[18],u=[];for(let n=0;n<e.length;n+=1)u[n]=Qn(Zn(l,e,n));const r=l=>dl(u[l],1,1,()=>{u[l]=null});return{c(){for(let l=0;l<u.length;l+=1)u[l].c();n=S()},m(l,e){for(let n=0;n<u.length;n+=1)u[n]&&u[n].m(l,e);w(l,n,e),t=!0},p(l,t){if(131071&t){let o;for(e=l[18],o=0;o<e.length;o+=1){const r=Zn(l,e,o);u[o]?(u[o].p(r,t),cl(u[o],1)):(u[o]=Qn(r),u[o].c(),cl(u[o],1),u[o].m(n.parentNode,n))}for(il(),o=e.length;o<u.length;o+=1)r(o);al()}},i(l){if(!t){for(let l=0;l<e.length;l+=1)cl(u[l]);t=!0}},o(l){u=u.filter(Boolean);for(let l=0;l<u.length;l+=1)dl(u[l]);t=!1},d(l){x(u,l),l&&y(n)}}}function nt(l){let n,t,e,u,r,o,s=l[6],i=[];for(let n=0;n<s.length;n+=1)i[n]=lt(Xn(l,s,n));const a=l=>dl(i[l],1,1,()=>{i[l]=null});return{c(){n=$("div"),t=$("div"),t.innerHTML='<div class="w-full" style="padding-top: 100%"></div>',e=C(),u=$("div"),r=$("div");for(let l=0;l<i.length;l+=1)i[l].c();E(t,"class","max-w-xl relative"),E(r,"class","bg-white shadow-2xl rounded-xl overflow-hidden w-full h-full max-w-xl grid"),H(r,"bg-gray-200",l[7]),E(u,"class","board-padding absolute inset-0 flex justify-center svelte-yrggow"),E(n,"class","board-padding relative z-10 svelte-yrggow")},m(l,s){w(l,n,s),g(n,t),g(n,e),g(n,u),g(u,r);for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(r,null);o=!0},p(l,[n]){if(131071&n){let t;for(s=l[6],t=0;t<s.length;t+=1){const e=Xn(l,s,t);i[t]?(i[t].p(e,n),cl(i[t],1)):(i[t]=lt(e),i[t].c(),cl(i[t],1),i[t].m(r,null))}for(il(),t=s.length;t<i.length;t+=1)a(t);al()}(!o||128&n)&&H(r,"bg-gray-200",l[7])},i(l){if(!o){for(let l=0;l<s.length;l+=1)cl(i[l]);o=!0}},o(l){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)dl(i[l]);o=!1},d(l){l&&y(n),x(i,l)}}}function tt(l,n,t){return l.x===n&&l.y===t}function et(l,n){return l?null===n.x&&null===n.y?null:l[n.y][n.x]:null}function ut(l,n,t){let e,u,r,o,s,i,a,d,f;c(l,sn,l=>t(17,u=l)),c(l,cn,l=>t(7,r=l)),c(l,yn,l=>t(8,o=l)),c(l,Pn,l=>t(9,s=l)),c(l,ql,l=>t(10,i=l)),c(l,on,l=>t(11,a=l)),c(l,en,l=>t(12,d=l)),c(l,an,l=>t(13,f=l));let{editable:h=!1}=n,{onCellEdit:m=null}=n,{overrideUserGrid:p=null}=n,{invalidCellsOverride:g=null}=n,{disabled:v}=n,{startingGrid:b=null}=n;return l.$$set=l=>{"editable"in l&&t(0,h=l.editable),"onCellEdit"in l&&t(1,m=l.onCellEdit),"overrideUserGrid"in l&&t(2,p=l.overrideUserGrid),"invalidCellsOverride"in l&&t(3,g=l.invalidCellsOverride),"disabled"in l&&t(4,v=l.disabled),"startingGrid"in l&&t(5,b=l.startingGrid)},l.$$.update=()=>{131076&l.$$.dirty&&t(6,e=p||u)},[h,m,p,g,v,b,e,r,o,s,i,a,d,f,function(l,n,t){if(null===l.x&&null===l.y)return!1;if(l.x===n||l.y===t)return!0;const e=Math.floor(l.x/3),u=Math.floor(l.y/3),r=Math.floor(n/3),o=Math.floor(t/3);return e===r&&u===o},function(l,n,t){if(!b)return!1;const e=b[n][l];return 0!==e&&t===e},function(l,n,t){if(!b)return!1;const e=b[n][l];return 0!==e&&t!==e},u]}class rt extends yl{constructor(l){super(),wl(this,l,ut,nt,o,{editable:0,onCellEdit:1,overrideUserGrid:2,invalidCellsOverride:3,disabled:4,startingGrid:5})}}function ot(l){let n;return{c(){n=k("path"),E(n,"stroke-linecap","round"),E(n,"stroke-linejoin","round"),E(n,"stroke-width","2"),E(n,"d","M6 3v18M18 3v18")},m(l,t){w(l,n,t)},d(l){l&&y(n)}}}function st(l){let n;return{c(){n=k("path"),E(n,"stroke-linecap","round"),E(n,"stroke-linejoin","round"),E(n,"stroke-width","2"),E(n,"d","M18.19 9.61L9.01 3.48A2.87 2.87 0 004.54 5.88v12.25a2.87 2.87 0 004.47 2.39l9.18-6.12a2.87 2.87 0 000-4.78v0z")},m(l,t){w(l,n,t)},d(l){l&&y(n)}}}function it(l){let n,t;return{c(){n=$("span"),t=M(l[2]),E(n,"class","timer-text svelte-17abf90"),E(n,"title","Time")},m(l,e){w(l,n,e),g(n,t)},p(l,n){4&n&&I(t,l[2])},d(l){l&&y(n)}}}function at(n){let t,e,u,r,o,s,i;function a(l,n){return l[0]?st:ot}let c=a(n),d=c(n),f=n[1].displayTimer&&it(n);return{c(){t=$("div"),e=$("button"),u=k("svg"),d.c(),o=C(),f&&f.c(),E(u,"class","icon-outline"),E(u,"xmlns","http://www.w3.org/2000/svg"),E(u,"fill","none"),E(u,"viewBox","0 0 24 24"),E(u,"stroke","currentColor"),E(e,"class","btn btn-round"),E(e,"title",r=n[0]?"Resume Game":"Pause Game"),E(t,"class","timer-container svelte-17abf90")},m(l,r){w(l,t,r),g(t,e),g(e,u),d.m(u,null),g(t,o),f&&f.m(t,null),s||(i=z(e,"click",n[3]),s=!0)},p(l,[n]){c!==(c=a(l))&&(d.d(1),d=c(l),d&&(d.c(),d.m(u,null))),1&n&&r!==(r=l[0]?"Resume Game":"Pause Game")&&E(e,"title",r),l[1].displayTimer?f?f.p(l,n):(f=it(l),f.c(),f.m(t,null)):f&&(f.d(1),f=null)},i:l,o:l,d(l){l&&y(t),d.d(),f&&f.d(),s=!1,i()}}}function ct(l,n,t){let e,u,r;c(l,cn,l=>t(0,e=l)),c(l,en,l=>t(1,u=l)),c(l,fn,l=>t(2,r=l));return[e,u,r,()=>e?gn():pn()]}class dt extends yl{constructor(l){super(),wl(this,l,ct,at,o,{})}}function ft(l){let n,t;return{c(){n=$("span"),t=M(l[0]),E(n,"class","badge svelte-1vdx5jr"),H(n,"badge-primary",l[1])},m(l,e){w(l,n,e),g(n,t)},p(l,e){1&e&&I(t,l[0]),2&e&&H(n,"badge-primary",l[1])},d(l){l&&y(n)}}}function ht(n){let t,e,r,o,s,i,a,c,d,f,h,m,p,v,b,x,S,A,j,N,B,L,O,_,R,T,P,G,D,F=n[7]?"ON":"OFF",U=n[6].hintsLimited&&ft(n);return{c(){t=$("div"),e=$("button"),r=k("svg"),o=k("path"),s=C(),i=$("button"),a=k("svg"),c=k("path"),d=C(),f=$("button"),h=k("svg"),m=k("path"),p=C(),v=$("button"),b=k("svg"),x=k("path"),S=C(),U&&U.c(),N=C(),B=$("button"),L=k("svg"),O=k("path"),_=C(),R=$("span"),T=M(F),E(o,"stroke-linecap","round"),E(o,"stroke-linejoin","round"),E(o,"stroke-width","2"),E(o,"d","M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"),E(r,"class","icon-outline"),E(r,"xmlns","http://www.w3.org/2000/svg"),E(r,"fill","none"),E(r,"viewBox","0 0 24 24"),E(r,"stroke","currentColor"),E(e,"class","btn btn-round"),e.disabled=n[3],E(e,"title","Undo"),E(c,"stroke-linecap","round"),E(c,"stroke-linejoin","round"),E(c,"stroke-width","2"),E(c,"d","M21 10h-10a8 8 90 00-8 8v2M21 10l-6 6m6-6l-6-6"),E(a,"class","icon-outline"),E(a,"xmlns","http://www.w3.org/2000/svg"),E(a,"fill","none"),E(a,"viewBox","0 0 24 24"),E(a,"stroke","currentColor"),E(i,"class","btn btn-round"),i.disabled=n[3],E(i,"title","Redo"),E(m,"stroke-linecap","round"),E(m,"stroke-linejoin","round"),E(m,"stroke-width","2"),E(m,"d","M4 4v6h6M4 10a8 8 0 018-8 8 8 0 018 8v2m0 0l-3-3m3 3l3-3"),E(h,"class","icon-outline"),E(h,"xmlns","http://www.w3.org/2000/svg"),E(h,"fill","none"),E(h,"viewBox","0 0 24 24"),E(h,"stroke","currentColor"),E(f,"class","btn btn-round"),f.disabled=n[3],E(f,"title","Restart from last branch"),E(x,"stroke-linecap","round"),E(x,"stroke-linejoin","round"),E(x,"stroke-width","2"),E(x,"d","M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"),E(b,"class","icon-outline"),E(b,"xmlns","http://www.w3.org/2000/svg"),E(b,"fill","none"),E(b,"viewBox","0 0 24 24"),E(b,"stroke","currentColor"),E(v,"class","btn btn-round btn-badge svelte-1vdx5jr"),v.disabled=A=n[4]||!n[1]||0!==n[5][n[2].y][n[2].x],E(v,"title",j="Hints ("+n[0]+")"),E(O,"stroke-linecap","round"),E(O,"stroke-linejoin","round"),E(O,"stroke-width","2"),E(O,"d","M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"),E(L,"class","icon-outline"),E(L,"xmlns","http://www.w3.org/2000/svg"),E(L,"fill","none"),E(L,"viewBox","0 0 24 24"),E(L,"stroke","currentColor"),E(R,"class","badge tracking-tighter svelte-1vdx5jr"),H(R,"badge-primary",n[7]),E(B,"class","btn btn-round btn-badge svelte-1vdx5jr"),E(B,"title",P="Notes ("+(n[7]?"ON":"OFF")+")"),E(t,"class","action-buttons space-x-3 svelte-1vdx5jr")},m(l,u){w(l,t,u),g(t,e),g(e,r),g(r,o),g(t,s),g(t,i),g(i,a),g(a,c),g(t,d),g(t,f),g(f,h),g(h,m),g(t,p),g(t,v),g(v,b),g(b,x),g(v,S),U&&U.m(v,null),g(t,N),g(t,B),g(B,L),g(L,O),g(B,_),g(B,R),g(R,T),G||(D=[z(e,"click",Jn),z(i,"click",Kn),z(f,"click",Wn),z(v,"click",n[8]),z(B,"click",On.toggle)],G=!0)},p(l,[n]){8&n&&(e.disabled=l[3]),8&n&&(i.disabled=l[3]),8&n&&(f.disabled=l[3]),l[6].hintsLimited?U?U.p(l,n):(U=ft(l),U.c(),U.m(v,null)):U&&(U.d(1),U=null),54&n&&A!==(A=l[4]||!l[1]||0!==l[5][l[2].y][l[2].x])&&(v.disabled=A),1&n&&j!==(j="Hints ("+l[0]+")")&&E(v,"title",j),128&n&&F!==(F=l[7]?"ON":"OFF")&&I(T,F),128&n&&H(R,"badge-primary",l[7]),128&n&&P!==(P="Notes ("+(l[7]?"ON":"OFF")+")")&&E(B,"title",P)},i:l,o:l,d(l){l&&y(t),U&&U.d(),G=!1,u(D)}}}function mt(l,n,t){let e,u,r,o,s,i,a,d,f;return c(l,yn,l=>t(9,u=l)),c(l,ql,l=>t(2,r=l)),c(l,rn,l=>t(0,o=l)),c(l,cn,l=>t(3,s=l)),c(l,_n,l=>t(4,i=l)),c(l,sn,l=>t(5,a=l)),c(l,en,l=>t(6,d=l)),c(l,On,l=>t(7,f=l)),l.$$.update=()=>{1&l.$$.dirty&&t(1,e=o>0)},[o,e,r,s,i,a,d,f,function(){e&&function(l,n){const t=Gn(l);t&&Vn(t,!1,"hint",()=>{n(t)})}({x:r.x,y:r.y},l=>{u.hasOwnProperty(l.x+","+l.y)&&yn.clear(l),sn.applyHint(l)})}]}class pt extends yl{constructor(l){super(),wl(this,l,mt,ht,o,{})}}function gt(n){let t,e,u,r,o;return e=new dt({}),r=new pt({}),{c(){t=$("div"),pl(e.$$.fragment),u=C(),pl(r.$$.fragment),E(t,"class","action-bar space-y-3 xs:space-y-0 svelte-16dc50t")},m(l,n){w(l,t,n),gl(e,t,null),g(t,u),gl(r,t,null),o=!0},p:l,i(l){o||(cl(e.$$.fragment,l),cl(r.$$.fragment,l),o=!0)},o(l){dl(e.$$.fragment,l),dl(r.$$.fragment,l),o=!1},d(l){l&&y(t),vl(e),vl(r)}}}class vt extends yl{constructor(l){super(),wl(this,l,null,gt,o,{})}}function bt(l,n,t){const e=l.slice();return e[5]=n[t],e[7]=t,e}function wt(l){let n,t,e,u,r,o=l[7]+1+"";function s(){return l[4](l[7])}return{c(){n=$("button"),t=M(o),e=C(),E(n,"class","btn btn-key svelte-vy4ayf"),n.disabled=l[0],E(n,"title","Insert "+(l[7]+1))},m(l,o){w(l,n,o),g(n,t),g(n,e),u||(r=z(n,"click",s),u=!0)},p(t,e){l=t,1&e&&(n.disabled=l[0])},d(l){l&&y(n),u=!1,r()}}}function yt(l){let n,t,e,u,r,o;return{c(){n=$("button"),t=k("svg"),e=k("path"),u=C(),E(e,"stroke-linecap","round"),E(e,"stroke-linejoin","round"),E(e,"stroke-width","2"),E(e,"d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"),E(t,"class","icon-outline"),E(t,"xmlns","http://www.w3.org/2000/svg"),E(t,"fill","none"),E(t,"viewBox","0 0 24 24"),E(t,"stroke","currentColor"),E(n,"class","btn btn-key svelte-vy4ayf"),n.disabled=l[0],E(n,"title","Erase Field")},m(s,i){w(s,n,i),g(n,t),g(t,e),g(n,u),r||(o=z(n,"click",l[3]),r=!0)},p(l,t){1&t&&(n.disabled=l[0])},d(l){l&&y(n),r=!1,o()}}}function xt(l){let n;let t=function(l){return 9===l[7]?yt:wt}(l),e=t(l);return{c(){e.c(),n=S()},m(l,t){e.m(l,t),w(l,n,t)},p(l,n){e.p(l,n)},d(l){e.d(l),l&&y(n)}}}function $t(n){let t,e,u,r=Array(10),o=[];for(let l=0;l<r.length;l+=1)o[l]=xt(bt(n,r,l));return{c(){t=$("div");for(let l=0;l<o.length;l+=1)o[l].c();E(t,"class","keyboard-grid svelte-vy4ayf")},m(l,r){w(l,t,r);for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(t,null);e||(u=z(window,"keydown",n[2]),e=!0)},p(l,[n]){if(3&n){let e;for(r=Array(10),e=0;e<r.length;e+=1){const u=bt(l,r,e);o[e]?o[e].p(u,n):(o[e]=xt(u),o[e].c(),o[e].m(t,null))}for(;e<o.length;e+=1)o[e].d(1);o.length=r.length}},i:l,o:l,d(l){l&&y(t),x(o,l),e=!1,u()}}}function kt(l,n,t){let e;function u(l){!function(l){if(a(_n))return;const n=Gn(a(ql));if(!n)return;const t=!!a(On);Vn(n,t,"user",({key:e,candidatesBefore:u})=>{t?(0===l?yn.clear(n):yn.add(n,l),sn.set(n,0)):(u&&Object.prototype.hasOwnProperty.call(u,e)&&yn.clear(n),sn.set(n,l))})}(l)}c(l,_n,l=>t(0,e=l));return[e,u,function(l){switch(l.key||l.keyCode){case"ArrowUp":case 38:case"w":case 87:ql.move(0,-1);break;case"ArrowDown":case 40:case"s":case 83:ql.move(0,1);break;case"ArrowLeft":case 37:case"a":case 65:ql.move(-1);break;case"ArrowRight":case 39:case"d":case 68:ql.move(1);break;case"Backspace":case 8:case"Delete":case 46:u(0);break;default:l.key&&1*l.key>=0&&1*l.key<10?u(1*l.key):l.keyCode-48>=0&&l.keyCode-48<10&&u(l.keyCode-48)}},()=>u(0),l=>u(l+1)]}class Mt extends yl{constructor(l){super(),wl(this,l,kt,$t,o,{})}}function Ct(n){let t,e,u,r,o,s;return u=new vt({}),o=new Mt({}),{c(){t=$("div"),e=$("div"),pl(u.$$.fragment),r=C(),pl(o.$$.fragment),E(e,"class","w-full max-w-xl"),E(t,"class","px-4 pb-5 flex justify-center")},m(l,n){w(l,t,n),g(t,e),gl(u,e,null),g(e,r),gl(o,e,null),s=!0},p:l,i(l){s||(cl(u.$$.fragment,l),cl(o.$$.fragment,l),s=!0)},o(l){dl(u.$$.fragment,l),dl(o.$$.fragment,l),s=!1},d(l){l&&y(t),vl(u),vl(o)}}}class St extends yl{constructor(l){super(),wl(this,l,null,Ct,o,{})}}function zt(n){let t,e,r,o,s,i;return{c(){t=$("div"),e=$("button"),e.innerHTML='<svg class="icon-outline" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"></path></svg>',r=C(),o=$("button"),o.innerHTML='<svg class="icon-outline" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>',E(e,"class","btn btn-header svelte-1omcin0"),E(e,"title","Share this Sudoku puzzle"),E(o,"class","btn btn-header svelte-1omcin0"),E(o,"title","Open Settings"),E(t,"class","flex justify-evenly space-x-3")},m(l,u){w(l,t,u),g(t,e),g(t,r),g(t,o),s||(i=[z(e,"click",n[0]),z(o,"click",n[1])],s=!0)},p:l,i:l,o:l,d(l){l&&y(t),s=!1,u(i)}}}function At(l){return[function(){pn(),wn.show("share",{onHide:gn})},function(){pn(),wn.show("settings",{onHide:gn})}]}class Et extends yl{constructor(l){super(),wl(this,l,At,zt,o,{})}}function jt(l,n,t){const e=l.slice();return e[8]=n[t][0],e[9]=n[t][1],e}function It(l){let n,t,e,r,o,s,i,a,c,d,f,h,m,p,v=Object.entries(Ml),b=[];for(let n=0;n<v.length;n+=1)b[n]=Nt(jt(l,v,n));return{c(){n=$("button"),e=C(),r=$("div");for(let l=0;l<b.length;l+=1)b[l].c();o=C(),s=$("hr"),i=C(),a=$("a"),a.innerHTML='<svg class="icon-solid" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z" clip-rule="evenodd"></path></svg> \n\n        <span class="align-middle">Create Own</span>',c=C(),d=$("a"),d.innerHTML='<svg class="icon-solid" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path d="M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"></path><path fill-rule="evenodd" d="M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z" clip-rule="evenodd"></path></svg> \n\n        <span class="align-middle">Enter Code</span>',E(n,"class","dropdown-overlay svelte-a2cpnn"),E(n,"tabindex","-1"),E(s,"class","my-1"),E(a,"class","dropdown-item svelte-a2cpnn"),E(a,"href","/create"),E(a,"title","Create your own Sudoku puzzle"),E(d,"class","dropdown-item svelte-a2cpnn"),E(d,"href","/enter-code"),E(d,"title","Enter a Sudoku puzzle code from a friend"),E(r,"class","dropdown-menu svelte-a2cpnn")},m(t,u){w(t,n,u),w(t,e,u),w(t,r,u);for(let l=0;l<b.length;l+=1)b[l]&&b[l].m(r,null);g(r,o),g(r,s),g(r,i),g(r,a),g(r,c),g(r,d),h=!0,m||(p=[z(n,"click",l[6]),z(a,"click",A(l[3])),z(d,"click",A(l[4]))],m=!0)},p(n,t){if(l=n,4&t){let n;for(v=Object.entries(Ml),n=0;n<v.length;n+=1){const e=jt(l,v,n);b[n]?b[n].p(e,t):(b[n]=Nt(e),b[n].c(),b[n].m(r,o))}for(;n<b.length;n+=1)b[n].d(1);b.length=v.length}},i(l){h||(Z(()=>{h&&(t||(t=hl(n,zn,{duration:Ol},!0)),t.run(1))}),Z(()=>{h&&(f||(f=hl(r,An,{duration:Ol},!0)),f.run(1))}),h=!0)},o(l){t||(t=hl(n,zn,{duration:Ol},!1)),t.run(0),f||(f=hl(r,An,{duration:Ol},!1)),f.run(0),h=!1},d(l){l&&y(n),l&&t&&t.end(),l&&y(e),l&&y(r),x(b,l),l&&f&&f.end(),m=!1,u(p)}}}function Nt(l){let n,t,e,u,r,o,s,i,a=l[9]+"";function c(){return l[7](l[8])}return{c(){n=$("a"),t=k("svg"),e=k("path"),u=C(),r=$("span"),o=M(a),E(e,"fill-rule","evenodd"),E(e,"d","M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"),E(e,"clip-rule","evenodd"),E(t,"class","icon-solid"),E(t,"xmlns","http://www.w3.org/2000/svg"),E(t,"viewBox","0 0 20 20"),E(t,"fill","currentColor"),E(r,"class","align-middle"),E(n,"class","dropdown-item svelte-a2cpnn"),E(n,"href","/difficulty-"+l[8]),E(n,"title","Set difficulty to '"+l[9]+"'")},m(l,a){w(l,n,a),g(n,t),g(t,e),g(n,u),g(n,r),g(r,o),s||(i=z(n,"click",A(c)),s=!0)},p(n,t){l=n},d(l){l&&y(n),s=!1,i()}}}function Bt(l){let n,t,e,u,o,s,i,a,c,d,f,h,m=(l[1]===kl?"Custom":Ml[l[1]])+"",p=l[0]&&It(l);return{c(){n=$("div"),t=$("button"),e=k("svg"),u=k("path"),o=C(),s=$("span"),i=M(m),c=C(),p&&p.c(),E(u,"stroke-linecap","round"),E(u,"stroke-linejoin","round"),E(u,"stroke-width","2"),E(u,"d","M4 8h16M4 16h12"),E(e,"class","icon-outline mr-3"),E(e,"xmlns","http://www.w3.org/2000/svg"),E(e,"fill","none"),E(e,"viewBox","0 0 24 24"),E(e,"stroke","currentColor"),E(s,"class","text-2xl tracking-wider"),E(t,"class","dropdown-button svelte-a2cpnn"),E(t,"title",a=(l[0]?"Close":"Open")+" Menu"),E(n,"class","dropdown svelte-a2cpnn")},m(a,m){w(a,n,m),g(n,t),g(t,e),g(e,u),g(t,o),g(t,s),g(s,i),g(n,c),p&&p.m(n,null),d=!0,f||(h=z(t,"click",function(){r(l[0]?l[6]:l[5])&&(l[0]?l[6]:l[5]).apply(this,arguments)}),f=!0)},p(e,[u]){l=e,(!d||2&u)&&m!==(m=(l[1]===kl?"Custom":Ml[l[1]])+"")&&I(i,m),(!d||1&u&&a!==(a=(l[0]?"Close":"Open")+" Menu"))&&E(t,"title",a),l[0]?p?(p.p(l,u),1&u&&cl(p,1)):(p=It(l),p.c(),cl(p,1),p.m(n,null)):p&&(il(),dl(p,1,1,()=>{p=null}),al())},i(l){d||(cl(p),d=!0)},o(l){dl(p),d=!1},d(l){l&&y(n),p&&p.d(),f=!1,h()}}}function Lt(l,n,t){let e;c(l,Yl,l=>t(1,e=l));let u=!1;function r(l){t(0,u=!1),vn.pause(),wn.show("confirm",{title:"New Game",text:'Start new game with difficulty "'+Ml[l]+'"?',button:"Continue",onHide:vn.resume,callback:()=>{vn.startNew(l),Yn()}})}return[u,e,r,function(){t(0,u=!1),vn.pause(),Promise.resolve().then(function(){return Me}).then(({creator:l})=>{l.enter(),wn.show("creator",{onHide:vn.resume}),Yn()})},function(){t(0,u=!1),vn.pause(),wn.show("prompt",{title:"Enter Code",text:"Please enter the code of the Sudoku puzzle you want to play:",fontMono:!0,button:"Start",onHide:vn.resume,callback:l=>{vn.startCustom(l),Yn()},validate:Dl})},function(){t(0,u=!0),vn.pause()},function(){t(0,u=!1),setTimeout(vn.resume,Ol)},l=>r(l)]}class Ht extends yl{constructor(l){super(),wl(this,l,Lt,Bt,o,{})}}function Ot(n){let t,e,u,r,o,s,i;return r=new Ht({}),s=new Et({}),{c(){t=$("div"),e=$("div"),u=$("nav"),pl(r.$$.fragment),o=C(),pl(s.$$.fragment),E(u,"class","flex flex-wrap items-center justify-between"),E(e,"class","w-full max-w-xl"),E(t,"class","px-4 py-4 flex justify-center text-white")},m(l,n){w(l,t,n),g(t,e),g(e,u),gl(r,u,null),g(u,o),gl(s,u,null),i=!0},p:l,i(l){i||(cl(r.$$.fragment,l),cl(s.$$.fragment,l),i=!0)},o(l){dl(r.$$.fragment,l),dl(s.$$.fragment,l),i=!1},d(l){l&&y(t),vl(r),vl(s)}}}class _t extends yl{constructor(l){super(),wl(this,l,null,Ot,o,{})}}function Rt(n){let t;return{c(){t=$("textarea"),t.readOnly="readonly",B(t,"position","absolute"),B(t,"left","-9999px")},m(l,e){w(l,t,e),n[2](t)},p:l,i:l,o:l,d(l){l&&y(t),n[2](null)}}}function Tt(l,n,t){let e;return[e,function(l){if(navigator.clipboard)return navigator.clipboard.writeText(l);t(0,e.value=l,e);const n=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);e.select();let u=!1;try{u=document.execCommand("copy")}catch(l){}return n&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(n)),u?Promise.resolve():Promise.reject()},function(l){Y[l?"unshift":"push"](()=>{e=l,t(0,e)})}]}class Pt extends yl{constructor(l){super(),wl(this,l,Tt,Rt,o,{copyText:1})}get copyText(){return this.$$.ctx[1]}}function Gt(l){let n,t,e,o,s,i,a,c,d,f,h,m,p,v,b,x,M,S,j,I,N,B,L,H,O,_,R,T,P,G,D,F,U,V,q,J,K,W,X,Z,ll,nl,tl,el;function ul(n){l[11](n)}let rl={};return void 0!==l[2]&&(rl.copyText=l[2]),Z=new Pt({props:rl}),Y.push(()=>ml(Z,"copyText",ul)),{c(){n=$("div"),t=$("h1"),t.textContent="Share Sudoku",e=C(),o=$("div"),o.innerHTML='<svg class="icon-outline" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>',s=C(),i=$("div"),a=$("input"),c=C(),d=$("button"),d.innerHTML='<svg class="icon-outline" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path></svg>',f=C(),h=$("hr"),m=C(),p=$("div"),v=$("a"),b=k("svg"),x=k("path"),M=C(),S=$("span"),S.textContent="Copy Link",j=C(),I=$("a"),N=k("svg"),B=k("path"),L=C(),H=$("span"),H.textContent="Share on Twitter",O=C(),_=$("a"),R=k("svg"),T=k("path"),P=C(),G=$("span"),G.textContent="Share on Facebook",D=C(),F=$("a"),U=k("svg"),V=k("path"),q=C(),J=$("span"),J.textContent="Share by Email",K=C(),W=$("button"),W.innerHTML='<svg class="icon-outline mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"></path></svg> \n\n    <span>Share QR Code</span>',X=C(),pl(Z.$$.fragment),E(t,"class","text-3xl font-semibold leading-none"),E(o,"class","cursor-pointer"),E(n,"class","flex justify-between items-center mb-6"),E(a,"class","input code-field svelte-1feawfh"),E(a,"type","text"),a.readOnly=!0,a.value=l[3],E(d,"class","btn btn-copy svelte-1feawfh"),E(i,"class","code-container svelte-1feawfh"),E(h,"class","my-8"),E(x,"stroke-linecap","round"),E(x,"stroke-linejoin","round"),E(x,"stroke-width","2"),E(x,"d","M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"),E(b,"class","icon-outline mr-2"),E(b,"xmlns","http://www.w3.org/2000/svg"),E(b,"fill","none"),E(b,"viewBox","0 0 24 24"),E(b,"stroke","currentColor"),E(v,"href",l[4]),E(v,"class","btn btn-small"),E(B,"d","M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"),E(N,"class","icon-outline mr-2"),E(N,"xmlns","http://www.w3.org/2000/svg"),E(N,"fill","currentColor"),E(N,"viewBox","0 0 24 24"),E(N,"stroke","none"),E(I,"href",l[7]),E(I,"target","_blank"),E(I,"class","btn btn-share btn-share-twitter btn-small svelte-1feawfh"),E(T,"d","M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"),E(R,"class","icon-outline mr-2"),E(R,"xmlns","http://www.w3.org/2000/svg"),E(R,"fill","currentColor"),E(R,"viewBox","0 0 24 24"),E(R,"stroke","none"),E(_,"href",l[6]),E(_,"target","_blank"),E(_,"class","btn btn-share btn-share-facebook btn-small svelte-1feawfh"),E(V,"stroke-linecap","round"),E(V,"stroke-linejoin","round"),E(V,"stroke-width","2"),E(V,"d","M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"),E(U,"class","icon-outline mr-2"),E(U,"xmlns","http://www.w3.org/2000/svg"),E(U,"fill","none"),E(U,"viewBox","0 0 24 24"),E(U,"stroke","currentColor"),E(F,"href",l[8]),E(F,"target","_blank"),E(F,"class","btn btn-small"),E(W,"class","btn btn-small"),E(p,"class","flex flex-col space-y-2")},m(u,y){w(u,n,y),g(n,t),g(n,e),g(n,o),w(u,s,y),w(u,i,y),g(i,a),g(i,c),g(i,d),w(u,f,y),w(u,h,y),w(u,m,y),w(u,p,y),g(p,v),g(v,b),g(b,x),g(v,M),g(v,S),g(p,j),g(p,I),g(I,N),g(N,B),g(I,L),g(I,H),g(p,O),g(p,_),g(_,R),g(R,T),g(_,P),g(_,G),g(p,D),g(p,F),g(F,U),g(U,V),g(F,q),g(F,J),g(p,K),g(p,W),w(u,X,y),gl(Z,u,y),nl=!0,tl||(el=[z(o,"click",function(){r(l[1])&&l[1].apply(this,arguments)}),z(a,"click",l[9]),z(d,"click",function(){r(l[2](l[3]))&&l[2](l[3]).apply(this,arguments)}),z(v,"click",A(function(){r(l[2](l[4]))&&l[2](l[4]).apply(this,arguments)})),z(W,"click",l[10])],tl=!0)},p(n,[t]){l=n;const e={};!ll&&4&t&&(ll=!0,e.copyText=l[2],Q(()=>ll=!1)),Z.$set(e)},i(l){nl||(cl(Z.$$.fragment,l),nl=!0)},o(l){dl(Z.$$.fragment,l),nl=!1},d(l){l&&y(n),l&&y(s),l&&y(i),l&&y(f),l&&y(h),l&&y(m),l&&y(p),l&&y(X),vl(Z,l),tl=!1,u(el)}}}function Dt(l,n,t){let e;c(l,on,l=>t(12,e=l));let{data:u={}}=n,{hideModal:r}=n;const o=on.getSencode(e),s=$l+"#"+o,i=encodeURIComponent(s),a="https://www.facebook.com/sharer/sharer.php?u="+i,d="https://twitter.com/intent/tweet?text=Check%20out%20this%20Sudoku%20puzzle!&url="+i,f="mailto:?subject=A%20Sudoku%20puzzle%20for%20you&body=Here%27s%20a%20link%20to%20a%20Sudoku%20puzzle%20on%20sudoku.jonasgeiler.com%3A%0A%0A"+i;let h;U(()=>{let l=!1;const n={url:s,title:"Sudoku",text:"Create & play Sudoku puzzles for free online on sudoku.jonasgeiler.com!"};"share"in navigator&&(l=!0),"canShare"in navigator&&(l=navigator.canShare(n)),l&&navigator.share(n)});return l.$$set=l=>{"data"in l&&t(0,u=l.data),"hideModal"in l&&t(1,r=l.hideModal)},[u,r,h,o,s,i,a,d,f,l=>function(l){l.select(),l.setSelectionRange(0,l.value.length)}(l.target),()=>wn.show("qrcode",{...u,encodedLink:i}),function(l){h=l,t(2,h)}]}function Ft(n){let t,e,u,r,o,i,a;return{c(){var l,i;t=$("img"),u=C(),r=$("div"),o=$("button"),o.innerHTML='<svg class="icon-outline mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg> \n\n    <span>Back</span>',E(t,"class","h-full w-full"),l=t.src,i=e=n[1],s||(s=document.createElement("a")),s.href=i,l!==s.href&&E(t,"src",e),E(o,"class","btn btn-small w-full"),E(r,"class","mt-3")},m(l,e){w(l,t,e),w(l,u,e),w(l,r,e),g(r,o),i||(a=z(o,"click",n[2]),i=!0)},p:l,i:l,o:l,d(l){l&&y(t),l&&y(u),l&&y(r),i=!1,a()}}}function Ut(l,n,t){let{data:e={}}=n;const u="https://api.qrserver.com/v1/create-qr-code/?size=500x500&charset-source=UTF-8&charset-target=UTF-8&ecc=L&color=000&bgcolor=f7f9fc&margin=8&qzone=0&format=png&data="+e.encodedLink;return l.$$set=l=>{"data"in l&&t(0,e=l.data)},[e,u,()=>wn.show("share",e)]}function Vt(n){let t,e,u,r,o,s,i,a,c,d,f,h;return{c(){t=$("label"),e=$("span"),u=M(n[2]),r=C(),o=$("span"),s=$("input"),i=C(),a=$("span"),c=C(),d=$("span"),E(e,"class","flex-grow cursor-pointer text-lg"),E(s,"id",n[1]),E(s,"name",n[1]),E(s,"type","checkbox"),E(s,"class","sr-only svelte-1h6o1gh"),s.disabled=n[3],E(a,"class","track svelte-1h6o1gh"),E(d,"class","thumb svelte-1h6o1gh"),E(o,"class","switch svelte-1h6o1gh"),E(t,"for",n[1]),E(t,"class","inline-flex items-center")},m(l,m){w(l,t,m),g(t,e),g(e,u),g(t,r),g(t,o),g(o,s),s.checked=n[0],g(o,i),g(o,a),g(o,c),g(o,d),f||(h=z(s,"change",n[4]),f=!0)},p(l,[n]){4&n&&I(u,l[2]),2&n&&E(s,"id",l[1]),2&n&&E(s,"name",l[1]),8&n&&(s.disabled=l[3]),1&n&&(s.checked=l[0]),2&n&&E(t,"for",l[1])},i:l,o:l,d(l){l&&y(t),f=!1,h()}}}function qt(l,n,t){let{id:e=""}=n,{text:u=""}=n,{checked:r=!1}=n,{disabled:o=!1}=n;return l.$$set=l=>{"id"in l&&t(1,e=l.id),"text"in l&&t(2,u=l.text),"checked"in l&&t(0,r=l.checked),"disabled"in l&&t(3,o=l.disabled)},[r,e,u,o,function(){r=this.checked,t(0,r)}]}class Yt extends yl{constructor(l){super(),wl(this,l,qt,Vt,o,{id:1,text:2,checked:0,disabled:3})}}function Jt(l){let n,t,e,u,r,o,s,i;return{c(){n=$("div"),t=$("label"),t.textContent="Number of available hints",e=C(),u=$("input"),E(t,"for","hints"),E(t,"class","flex-grow text-lg"),E(u,"class","number-input svelte-1clvsni"),E(u,"id","hints"),E(u,"name","hints"),E(u,"type","number"),E(u,"min","0"),E(u,"max","81"),E(n,"class","inline-flex items-center")},m(r,a){w(r,n,a),g(n,t),g(n,e),g(n,u),N(u,l[1].hints),o=!0,s||(i=z(u,"input",l[7]),s=!0)},p(l,n){2&n&&j(u.value)!==l[1].hints&&N(u,l[1].hints)},i(l){o||(Z(()=>{o&&(r||(r=hl(n,An,{},!0)),r.run(1))}),o=!0)},o(l){r||(r=hl(n,An,{},!1)),r.run(0),o=!1},d(l){l&&y(n),l&&r&&r.end(),s=!1,i()}}}function Kt(l){let n,t,e,o,s,i,a,c,d,f,h,m,p,v,b,x,k,M,S,A,j,I,N,B,L,H;function O(n){l[5](n)}let _={text:"Display timer while playing",id:"display-timer"};function R(n){l[6](n)}void 0!==l[1].displayTimer&&(_.checked=l[1].displayTimer),o=new Yt({props:_}),Y.push(()=>ml(o,"checked",O));let T={text:"Limit the number of hints available",id:"hints-limited"};void 0!==l[2]&&(T.checked=l[2]),a=new Yt({props:T}),Y.push(()=>ml(a,"checked",R));let P=l[2]&&Jt(l);function G(n){l[8](n)}let D={text:"Highlight cells in same row/column/box",id:"highlight-cells"};function F(n){l[9](n)}void 0!==l[1].highlightCells&&(D.checked=l[1].highlightCells),h=new Yt({props:D}),Y.push(()=>ml(h,"checked",G));let U={text:"Highlight cells with the same number",id:"highlight-matching"};function V(n){l[10](n)}void 0!==l[1].highlightSame&&(U.checked=l[1].highlightSame),v=new Yt({props:U}),Y.push(()=>ml(v,"checked",F));let q={text:"Highlight conflicting numbers",id:"highlight-conflicting"};return void 0!==l[1].highlightConflicting&&(q.checked=l[1].highlightConflicting),k=new Yt({props:q}),Y.push(()=>ml(k,"checked",V)),{c(){n=$("h1"),n.textContent="Settings",t=C(),e=$("div"),pl(o.$$.fragment),i=C(),pl(a.$$.fragment),d=C(),P&&P.c(),f=C(),pl(h.$$.fragment),p=C(),pl(v.$$.fragment),x=C(),pl(k.$$.fragment),S=C(),A=$("div"),j=$("button"),j.textContent="Cancel",I=C(),N=$("button"),N.textContent="Save",E(n,"class","text-3xl font-semibold mb-6 leading-none"),E(e,"class","flex flex-col mb-6 space-y-3"),E(j,"class","btn btn-small mr-3"),E(N,"class","btn btn-small btn-primary"),E(A,"class","flex justify-end")},m(u,s){w(u,n,s),w(u,t,s),w(u,e,s),gl(o,e,null),g(e,i),gl(a,e,null),g(e,d),P&&P.m(e,null),g(e,f),gl(h,e,null),g(e,p),gl(v,e,null),g(e,x),gl(k,e,null),w(u,S,s),w(u,A,s),g(A,j),g(A,I),g(A,N),B=!0,L||(H=[z(j,"click",function(){r(l[0])&&l[0].apply(this,arguments)}),z(N,"click",l[3])],L=!0)},p(n,[t]){l=n;const u={};!s&&2&t&&(s=!0,u.checked=l[1].displayTimer,Q(()=>s=!1)),o.$set(u);const r={};!c&&4&t&&(c=!0,r.checked=l[2],Q(()=>c=!1)),a.$set(r),l[2]?P?(P.p(l,t),4&t&&cl(P,1)):(P=Jt(l),P.c(),cl(P,1),P.m(e,f)):P&&(il(),dl(P,1,1,()=>{P=null}),al());const i={};!m&&2&t&&(m=!0,i.checked=l[1].highlightCells,Q(()=>m=!1)),h.$set(i);const d={};!b&&2&t&&(b=!0,d.checked=l[1].highlightSame,Q(()=>b=!1)),v.$set(d);const p={};!M&&2&t&&(M=!0,p.checked=l[1].highlightConflicting,Q(()=>M=!1)),k.$set(p)},i(l){B||(cl(o.$$.fragment,l),cl(a.$$.fragment,l),cl(P),cl(h.$$.fragment,l),cl(v.$$.fragment,l),cl(k.$$.fragment,l),B=!0)},o(l){dl(o.$$.fragment,l),dl(a.$$.fragment,l),dl(P),dl(h.$$.fragment,l),dl(v.$$.fragment,l),dl(k.$$.fragment,l),B=!1},d(l){l&&y(n),l&&y(t),l&&y(e),vl(o),vl(a),P&&P.d(),vl(h),vl(v),vl(k),l&&y(S),l&&y(A),L=!1,u(H)}}}function Wt(l,n,t){let e;c(l,en,l=>t(11,e=l));let{data:u={}}=n,{hideModal:r}=n,o={...e},s=o.hintsLimited;return l.$$set=l=>{"data"in l&&t(4,u=l.data),"hideModal"in l&&t(0,r=l.hideModal)},[r,o,s,function(){t(1,o.hintsLimited=s,o),o.hints<0&&t(1,o.hints=0,o),o.hints>Sl&&t(1,o.hints=Sl,o),en.set(o),r()},u,function(n){l.$$.not_equal(o.displayTimer,n)&&(o.displayTimer=n,t(1,o))},function(l){s=l,t(2,s)},function(){o.hints=j(this.value),t(1,o)},function(n){l.$$.not_equal(o.highlightCells,n)&&(o.highlightCells=n,t(1,o))},function(n){l.$$.not_equal(o.highlightSame,n)&&(o.highlightSame=n,t(1,o))},function(n){l.$$.not_equal(o.highlightConflicting,n)&&(o.highlightConflicting=n,t(1,o))}]}function Xt(l){let n,t,e=l[0].text+"";return{c(){n=$("p"),t=M(e),E(n,"class","text-lg mb-5")},m(l,e){w(l,n,e),g(n,t)},p(l,n){1&n&&e!==(e=l[0].text+"")&&I(t,e)},d(l){l&&y(n)}}}function Zt(n){let t,e,o,s,i,a,c,d,f,h,m,p=(n[0].title||"Confirm")+"",v=(n[0].button||"Okay")+"",b=n[0].text&&Xt(n);return{c(){t=$("h1"),e=M(p),o=C(),b&&b.c(),s=C(),i=$("div"),a=$("button"),a.textContent="Cancel",c=C(),d=$("button"),f=M(v),E(t,"class","text-3xl font-semibold mb-5 leading-none"),E(a,"class","btn btn-small mr-3"),E(d,"class","btn btn-small btn-primary"),E(i,"class","flex justify-end")},m(l,u){w(l,t,u),g(t,e),w(l,o,u),b&&b.m(l,u),w(l,s,u),w(l,i,u),g(i,a),g(i,c),g(i,d),g(d,f),h||(m=[z(a,"click",function(){r(n[1])&&n[1].apply(this,arguments)}),z(d,"click",n[2])],h=!0)},p(l,[t]){n=l,1&t&&p!==(p=(n[0].title||"Confirm")+"")&&I(e,p),n[0].text?b?b.p(n,t):(b=Xt(n),b.c(),b.m(s.parentNode,s)):b&&(b.d(1),b=null),1&t&&v!==(v=(n[0].button||"Okay")+"")&&I(f,v)},i:l,o:l,d(l){l&&y(t),l&&y(o),b&&b.d(l),l&&y(s),l&&y(i),h=!1,u(m)}}}function Qt(l,n,t){let{data:e={}}=n,{hideModal:u}=n;return l.$$set=l=>{"data"in l&&t(0,e=l.data),"hideModal"in l&&t(1,u=l.hideModal)},[e,u,function(){e.callback&&e.callback(),u()}]}function le(l){let n,t,e=l[0].text+"";return{c(){n=$("label"),t=M(e),E(n,"for","prompt-input"),E(n,"class","text-lg mb-4")},m(l,e){w(l,n,e),g(n,t)},p(l,n){1&n&&e!==(e=l[0].text+"")&&I(t,e)},d(l){l&&y(n)}}}function ne(n){let t,e,o,s,i,a,c,d,f,h,m,p,v,b,x=(n[0].title||"Please enter something")+"",k=(n[0].button||"Okay")+"",S=n[0].text&&le(n);return{c(){t=$("h1"),e=M(x),o=C(),S&&S.c(),s=C(),i=$("input"),a=C(),c=$("div"),d=$("button"),d.textContent="Cancel",f=C(),h=$("button"),m=M(k),E(t,"class","text-3xl font-semibold mb-5 leading-none"),E(i,"class","input mb-5"),E(i,"id","prompt-input"),E(i,"name","prompt-input"),E(i,"type","text"),H(i,"font-mono",n[0].fontMono),E(d,"class","btn btn-small mr-3"),E(h,"class","btn btn-small btn-primary"),h.disabled=p=!!n[0].validate&&!n[0].validate(n[2]),E(c,"class","flex justify-end")},m(l,u){w(l,t,u),g(t,e),w(l,o,u),S&&S.m(l,u),w(l,s,u),w(l,i,u),N(i,n[2]),w(l,a,u),w(l,c,u),g(c,d),g(c,f),g(c,h),g(h,m),v||(b=[z(i,"input",n[4]),z(d,"click",function(){r(n[1])&&n[1].apply(this,arguments)}),z(h,"click",n[3])],v=!0)},p(l,[t]){n=l,1&t&&x!==(x=(n[0].title||"Please enter something")+"")&&I(e,x),n[0].text?S?S.p(n,t):(S=le(n),S.c(),S.m(s.parentNode,s)):S&&(S.d(1),S=null),4&t&&i.value!==n[2]&&N(i,n[2]),1&t&&H(i,"font-mono",n[0].fontMono),1&t&&k!==(k=(n[0].button||"Okay")+"")&&I(m,k),5&t&&p!==(p=!!n[0].validate&&!n[0].validate(n[2]))&&(h.disabled=p)},i:l,o:l,d(l){l&&y(t),l&&y(o),S&&S.d(l),l&&y(s),l&&y(i),l&&y(a),l&&y(c),v=!1,u(b)}}}function te(l,n,t){let{data:e={}}=n,{hideModal:u}=n,r="";return l.$$set=l=>{"data"in l&&t(0,e=l.data),"hideModal"in l&&t(1,u=l.hideModal)},[e,u,r,function(){e.callback&&e.callback(r),u()},function(){r=this.value,t(2,r)}]}function ee(l,n,t){const e=l.slice();return e[10]=n[t][0],e[11]=n[t][1],e}function ue(l){let n;return{c(){n=$("div"),n.innerHTML="Someone shared a Sudoku puzzle with you!<br/>Just click start if you want to play it",E(n,"class","p-3 text-lg rounded bg-primary bg-opacity-25 border-l-8 border-primary border-opacity-75 mb-4")},m(l,t){w(l,n,t)},d(l){l&&y(n)}}}function re(n){let t,e,u=n[11]+"";return{c(){t=$("option"),e=M(u),t.__value=n[10],t.value=t.__value},m(l,n){w(l,t,n),g(t,e)},p:l,d(l){l&&y(t)}}}function oe(n){let t,e,r,o,s,i,a,c,d,f,h,m,p,v,b,k,S,A,j,I=n[0].sencode&&ue(),B=Object.entries(Ml),H=[];for(let l=0;l<B.length;l+=1)H[l]=re(ee(n,B,l));return{c(){t=$("h1"),t.textContent="Welcome!",e=C(),I&&I.c(),r=C(),o=$("label"),o.textContent="To start a game, choose a difficulty:",s=C(),i=$("div"),a=$("select");for(let l=0;l<H.length;l+=1)H[l].c();c=C(),d=$("div"),d.innerHTML='<svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"></path></svg>',f=C(),h=$("label"),h.textContent="Or, if you have a code for a custom Sudoku puzzle, enter it here:",m=C(),p=$("input"),v=C(),b=$("div"),k=$("button"),S=M("Start"),E(t,"class","text-3xl font-semibold mb-6 leading-none"),E(o,"for","difficulty"),E(o,"class","text-lg mb-3"),E(a,"id","difficulty"),E(a,"class","btn btn-small w-full appearance-none leading-normal"),a.disabled=n[3],void 0===n[1]&&Z(()=>n[7].call(a)),E(d,"class","pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"),E(i,"class","inline-block relative mb-6"),E(h,"for","sencode"),E(h,"class","text-lg mb-3"),E(p,"id","sencode"),E(p,"class","input font-mono mb-5"),E(p,"type","text"),E(k,"class","btn btn-small btn-primary"),k.disabled=n[4],E(b,"class","flex justify-end")},m(l,u){w(l,t,u),w(l,e,u),I&&I.m(l,u),w(l,r,u),w(l,o,u),w(l,s,u),w(l,i,u),g(i,a);for(let l=0;l<H.length;l+=1)H[l]&&H[l].m(a,null);L(a,n[1],!0),g(i,c),g(i,d),w(l,f,u),w(l,h,u),w(l,m,u),w(l,p,u),N(p,n[2]),w(l,v,u),w(l,b,u),g(b,k),g(k,S),A||(j=[z(a,"change",n[7]),z(p,"input",n[8]),z(k,"click",n[5])],A=!0)},p(l,[n]){if(l[0].sencode?I||(I=ue(),I.c(),I.m(r.parentNode,r)):I&&(I.d(1),I=null),0&n){let t;for(B=Object.entries(Ml),t=0;t<B.length;t+=1){const e=ee(l,B,t);H[t]?H[t].p(e,n):(H[t]=re(e),H[t].c(),H[t].m(a,null))}for(;t<H.length;t+=1)H[t].d(1);H.length=B.length}8&n&&(a.disabled=l[3]),2&n&&L(a,l[1]),4&n&&p.value!==l[2]&&N(p,l[2]),16&n&&(k.disabled=l[4])},i:l,o:l,d(l){l&&y(t),l&&y(e),I&&I.d(l),l&&y(r),l&&y(o),l&&y(s),l&&y(i),x(H,l),l&&y(f),l&&y(h),l&&y(m),l&&y(p),l&&y(v),l&&y(b),A=!1,u(j)}}}function se(l,n,t){let e,u,r;c(l,Yl,l=>t(9,r=l));let{data:o={}}=n,{hideModal:s}=n,i=r,a=o.sencode||"";return l.$$set=l=>{"data"in l&&t(0,o=l.data),"hideModal"in l&&t(6,s=l.hideModal)},l.$$.update=()=>{4&l.$$.dirty&&t(3,e=0!==a.trim().length),14&l.$$.dirty&&t(4,u=e?!Gl.validate(a):!Ml.hasOwnProperty(i))},[o,i,a,e,u,function(){Gl.validate(a)?mn(a):hn(i),Yn(),s()},s,function(){i=function(l){const n=l.querySelector(":checked");return n&&n.__value}(this),t(1,i)},function(){a=this.value,t(2,a)}]}function ie(n){let t,e,r,o,s,i,a,c,d,f,h,m,p,v,b,x,S,A,j,N,B,L,H,O,_,R,T,P,G,D,F,U,V,q,Y,J,K,W,X,Z=(n[1]===kl?"Custom":Ml[n[1]])+"";return{c(){t=$("div"),e=k("svg"),r=k("path"),o=C(),s=$("h1"),s.textContent=`${n[3]}`,i=C(),a=$("div"),c=$("div"),d=$("div"),d.innerHTML='<svg class="icon-outline" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>',f=C(),h=$("div"),m=$("div"),m.textContent="Time:",p=C(),v=$("div"),b=M(n[0]),x=C(),S=$("div"),A=$("div"),A.innerHTML='<svg class="icon-outline" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg>',j=C(),N=$("div"),B=$("div"),B.textContent="Difficulty:",L=C(),H=$("div"),O=M(Z),_=C(),R=$("div"),T=$("div"),T.innerHTML='<svg class="icon-outline" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg>',P=C(),G=$("div"),D=$("div"),D.textContent="Hints used:",F=C(),U=$("div"),V=M(n[2]),q=C(),Y=$("button"),Y.textContent="Share this Sudoku puzzle",J=C(),K=$("button"),K.textContent="New Game",E(r,"d","M1 6.417c0-1.013.822-1.833 1.834-1.833 1.215 0 2.104 1.167 1.763 2.329-.559 1.915 5.827 3.731 6.771-1.471.239-1.323-.021-1.67-.668-2.321-.329-.329-.534-.783-.534-1.287 0-1.013.822-1.834 1.834-1.834 1.014 0 1.833.821 1.833 1.833 0 .504-.204.958-.533 1.287-.646.65-.905.998-.666 2.321.941 5.2 7.33 3.387 6.77 1.471-.339-1.162.548-2.329 1.764-2.329 1.012 0 1.832.821 1.832 1.834 0 1.118-.992 1.97-2.084 1.816-1.32-.187-3.03 4.554-3.417 6.716-1.765-.615-3.618-.942-5.493-.949-1.875.006-3.74.334-5.504.949-.388-2.162-2.098-6.903-3.418-6.717-1.092.155-2.084-.697-2.084-1.815zm-1 14.583h2.359l.566 3c.613-1.012 1.388-1.912 2.277-2.68l-2.342-3.335c-1.089.879-2.053 1.848-2.86 3.015zm24 0h-2.359l-.566 3c-.613-1.012-1.388-1.912-2.277-2.68l2.343-3.335c1.088.879 2.052 1.848 2.859 3.015zm-12-4.998c-2.845.009-5.491.825-7.757 2.211l2.334 3.322c1.603-.924 3.448-1.464 5.423-1.473 1.975.009 3.82.549 5.423 1.473l2.334-3.322c-2.266-1.386-4.912-2.202-7.757-2.211zm-3.022 3.498l-.65-.348-.651.348.131-.726-.531-.511.729-.101.321-.662.322.663.729.101-.53.511.13.725zm3.672-.5l-.65-.348-.65.348.131-.726-.531-.511.729-.101.321-.662.322.663.729.101-.53.511.129.725zm3.718.5l-.65-.348-.65.348.131-.726-.531-.511.729-.101.322-.663.322.663.729.101-.53.511.128.726z"),E(e,"class","h-32 w-32 fill-current"),E(e,"xmlns","http://www.w3.org/2000/svg"),E(e,"viewBox","0 0 24 24"),E(s,"class","text-4xl font-semibold"),E(t,"class","flex flex-col text-center items-center"),E(d,"class","item-icon svelte-1yhhj2a"),E(m,"class","item-data-label svelte-1yhhj2a"),E(v,"class","item-data-value svelte-1yhhj2a"),E(h,"class","item-data svelte-1yhhj2a"),E(c,"class","game-data-item svelte-1yhhj2a"),E(A,"class","item-icon svelte-1yhhj2a"),E(B,"class","item-data-label svelte-1yhhj2a"),E(H,"class","item-data-value svelte-1yhhj2a"),E(N,"class","item-data svelte-1yhhj2a"),E(S,"class","game-data-item svelte-1yhhj2a"),E(T,"class","item-icon svelte-1yhhj2a"),E(D,"class","item-data-label svelte-1yhhj2a"),E(U,"class","item-data-value svelte-1yhhj2a"),E(G,"class","item-data svelte-1yhhj2a"),E(R,"class","game-data-item svelte-1yhhj2a"),E(a,"class","game-data space-y-2 svelte-1yhhj2a"),E(Y,"class","btn btn-small w-full mb-2"),E(K,"class","btn btn-small btn-primary w-full")},m(l,u){w(l,t,u),g(t,e),g(e,r),g(t,o),g(t,s),w(l,i,u),w(l,a,u),g(a,c),g(c,d),g(c,f),g(c,h),g(h,m),g(h,p),g(h,v),g(v,b),g(a,x),g(a,S),g(S,A),g(S,j),g(S,N),g(N,B),g(N,L),g(N,H),g(H,O),g(a,_),g(a,R),g(R,T),g(R,P),g(R,G),g(G,D),g(G,F),g(G,U),g(U,V),w(l,q,u),w(l,Y,u),w(l,J,u),w(l,K,u),W||(X=[z(Y,"click",n[4]),z(K,"click",n[5])],W=!0)},p(l,[n]){1&n&&I(b,l[0]),2&n&&Z!==(Z=(l[1]===kl?"Custom":Ml[l[1]])+"")&&I(O,Z),4&n&&I(V,l[2])},i:l,o:l,d(l){l&&y(t),l&&y(i),l&&y(a),l&&y(q),l&&y(Y),l&&y(J),l&&y(K),W=!1,u(X)}}}function ae(l,n,t){let e,u,r;c(l,fn,l=>t(0,e=l)),c(l,Yl,l=>t(1,u=l)),c(l,un,l=>t(2,r=l));const o=_l[Math.floor(Math.random()*_l.length)];return[e,u,r,o,function(){wn.show("share",{onHide:()=>wn.show("gameover"),onHideReplace:!0})},function(){wn.show("welcome",{onHide:gn})}]}class ce{static getPeers(l){const n=Math.floor(l/9),t=l%9,e=3*Math.floor(n/3),u=3*Math.floor(t/3),r=new Set;for(let l=0;l<9;l++)r.add(9*n+l),r.add(9*l+t),r.add(9*e+u+l%3+9*Math.floor(l/3));return r.delete(l),Array.from(r)}static getCandidates(l,n){const t=[];for(let e=0;e<81;e++){if(0!==l[e]){t.push([]);continue}const u=new Set;this.getPeers(e).forEach(n=>{0!==l[n]&&u.add(l[n])});const r=[1,2,3,4,5,6,7,8,9].filter(l=>!u.has(l));if(n&&n[e]&&n[e].length>0){const l=r.filter(l=>n[e].includes(l));0===l.length?t.push(r):t.push(l)}else t.push(r)}return t}static getUnits(){const l=[];for(let n=0;n<9;n++)l.push(Array.from({length:9},(l,t)=>9*n+t));for(let n=0;n<9;n++)l.push(Array.from({length:9},(l,t)=>9*t+n));for(let n=0;n<3;n++)for(let t=0;t<3;t++){const e=[];for(let l=0;l<3;l++)for(let u=0;u<3;u++)e.push(9*(3*n+l)+(3*t+u));l.push(e)}return l}}class de{constructor(){this.name="Naked Single (唯一数)"}solve(l,n){for(let t=0;t<81;t++)if(0===l[t]&&1===n[t].length){const l=n[t][0];return{cellIndex:t,value:l,strategyName:this.name,description:`格子 R${Math.floor(t/9)+1}C${t%9+1} 只有一个候选数 ${l}，因为同行、列或宫已包含其他数字。`,affectedCells:[t],type:"FILL"}}return null}}class fe{constructor(){this.name="Hidden Single (摒除法)"}solve(l,n){const t=ce.getUnits();for(const e of t){const t=new Map;for(const u of e)if(0===l[u])for(const l of n[u])t.has(l)||t.set(l,[]),t.get(l).push(u);for(const[l,n]of t.entries())if(1===n.length){const t=n[0];return{cellIndex:t,value:l,strategyName:this.name,description:`在当前区域内，数字 ${l} 只能填入 R${Math.floor(t/9)+1}C${t%9+1}，因为区域内其他位置不能填入此数。`,affectedCells:e,type:"FILL"}}}return null}}class he{constructor(){this.name="Pointing Pairs (区块摒除)"}solve(l,n){for(let t=0;t<3;t++)for(let e=0;e<3;e++)for(let u=1;u<=9;u++){const r=[];for(let o=0;o<3;o++)for(let s=0;s<3;s++){const i=9*(3*t+o)+(3*e+s);0===l[i]&&n[i].includes(u)&&r.push(i)}if(r.length>=2&&r.length<=3){const o=r.every(l=>Math.floor(l/9)===Math.floor(r[0]/9)),s=r.every(l=>l%9==r[0]%9);if(o){const o=Math.floor(r[0]/9),s=this.findEliminationsInRow(o,u,r,n,l);if(s.length>0)return{cellIndex:s[0],value:u,strategyName:this.name,description:`在第 ${3*t+e+1} 宫中，数字 ${u} 只能出现在第 ${o+1} 行。因此，该行其他位置不能填入 ${u}。这将解锁新的填数机会。`,affectedCells:[...r,...s],type:"ELIMINATE"}}if(s){const o=r[0]%9,s=this.findEliminationsInCol(o,u,r,n,l);if(s.length>0)return{cellIndex:s[0],value:u,strategyName:this.name,description:`在第 ${3*t+e+1} 宫中，数字 ${u} 只能出现在第 ${o+1} 列。因此，该列其他位置不能填入 ${u}。`,affectedCells:[...r,...s],type:"ELIMINATE"}}}}return null}findEliminationsInRow(l,n,t,e,u){const r=[];for(let o=0;o<9;o++){const s=9*l+o;0===u[s]&&e[s].includes(n)&&!t.includes(s)&&r.push(s)}return r}findEliminationsInCol(l,n,t,e,u){const r=[];for(let o=0;o<9;o++){const s=9*o+l;0===u[s]&&e[s].includes(n)&&!t.includes(s)&&r.push(s)}return r}}class me{constructor(){this.name="Guesser (试错/探索)"}solve(l,n){let t=10,e=-1;for(let u=0;u<81;u++)0===l[u]&&n[u].length>1&&n[u].length<t&&(t=n[u].length,e=u);if(-1!==e){const l=n[e][0];return{cellIndex:e,value:l,strategyName:this.name,description:`逻辑推演暂时无法找到确定的解。建议尝试在格子上填入 ${l}（基于该格候选数最少原则）。这是一种“探索”策略。`,affectedCells:[e],type:"FILL"}}return null}}class pe{constructor(){this.name="Smart Hidden Single (区域独占法)"}solve(l,n){const t=ce.getUnits();for(const e of t)for(let t=1;t<=9;t++){if(this.isNumberAlreadyInUnit(l,e,t))continue;const u=[];for(const r of e)0===l[r]&&n[r].includes(t)&&u.push(r);if(1===u.length){const l=u[0];return{cellIndex:l,value:t,strategyName:this.name,description:`观察${this.getUnitDescription(e,l)}：数字 ${t} 在该区域内没有其他位置可填，只能填入格子 R${Math.floor(l/9)+1}C${l%9+1}。`,affectedCells:e,type:"FILL"}}0===u.length&&console.warn(`[逻辑错误] 在某个区域中，数字 ${t} 无处可填！此前可能有填错。`)}return null}isNumberAlreadyInUnit(l,n,t){return n.some(n=>l[n]===t)}getUnitDescription(l,n){const t=Math.floor(n/9),e=n%9;return l.every(l=>Math.floor(l/9)===t)?`第 ${t+1} 行`:l.every(l=>l%9===e)?`第 ${e+1} 列`:"当前九宫格"}}class ge{constructor(){this.strategies=[new de,new fe,new pe,new he,new me]}getNextHint(l,n){console.log("Solver 接收到的盘面:",l);const t=this.findConflict(l);if(t)return console.warn("Solver 发现冲突:",t),{cellIndex:-1,value:0,strategyName:"错误警告",description:t,affectedCells:[],type:"ELIMINATE"};const e=ce.getCandidates(l,n);for(const n of this.strategies){const t=n.solve(l,e);if(t)return t}return null}findConflict(l){const n=ce.getUnits();for(const t of n){const n=new Map;for(const e of t){const u=l[e];if("number"==typeof u&&u>=1&&u<=9){if(n.has(u))return`当前盘面存在错误！在 ${this.getUnitName(t)} 中，数字 ${u} 出现了两次。请先修正错误。`;n.set(u,e)}}}return null}getUnitName(l){return"同一行、列或宫"}}const ve="sudoku.creator.v1";function be(){try{const l=localStorage.getItem(ve);return l?JSON.parse(l):[]}catch(l){return console.error("creator.repository: failed to read storage",l),[]}}function we(l){try{localStorage.setItem(ve,JSON.stringify(l))}catch(l){console.error("creator.repository: failed to write storage",l)}}function ye(){const l=new Array(9);for(let n=0;n<9;n++)l[n]=new Array(9).fill(0);return l}function xe(l){return l.map(l=>l.slice())}function $e(){return Date.now().toString(36)+Math.random().toString(36).slice(2,9)}const ke=function(){const l={mode:"off",grid:ye(),startingGrid:ye(),id:null,name:null,meta:{},isModified:!1},{subscribe:n,update:t,set:e}=Ul(l);function u(l){return function(l){const n=be(),t=n.findIndex(n=>n.id===l.id),e=Date.now(),u={id:l.id||(0===l.id?0:void 0),name:l.name||"Untitled",grid:l.grid,givens:l.givens,sencode:l.sencode,createdAt:l.createdAt||e,updatedAt:e,meta:l.meta||{}};return u.id?-1===t?n.push(u):n[t]=u:(u.id=e.toString(36)+Math.random().toString(36).slice(2,9),n.push(u)),we(n),u.id}(l)}function r(l){return function(l){we(be().filter(n=>n.id!==l))}(l)}const o=function(l=500){const n=[],t=[];return{execute:function(e,u){e(),n.push({doFn:e,undoFn:u}),t.length=0,n.length>l&&n.shift()},undo:function(){const l=n.pop();if(l)try{l.undoFn(),t.push(l)}catch(l){console.error("commandManager undo failed",l)}},redo:function(){const l=t.pop();if(l)try{l.doFn(),n.push(l)}catch(l){console.error("commandManager redo failed",l)}},clear:function(){n.length=0,t.length=0}}}(500);function s(l,n){const t=xe(n);l.grid=t,l.startingGrid=xe(t),l.isModified=!1,o.clear()}return{subscribe:n,enter(l){t(n=>(n.mode="creator",s(n,l||ye()),n.id=null,n.name=null,n.meta={},n))},exit({saveDraft:l=!1}={}){t(n=>{if(l&&n.isModified){const l={id:n.id||$e(),name:n.name||"Untitled",grid:xe(n.grid),createdAt:n.meta.createdAt||Date.now(),updatedAt:Date.now()},t=u(l);n.id=t,n.meta.createdAt=l.createdAt,n.meta.updatedAt=l.updatedAt,n.isModified=!1}return n.mode="off",n})},setCell(l,e,u){let r=a({subscribe:n}).grid[e][l];r!==u&&o.execute(()=>{t(n=>(n.grid[e][l]=u,n.isModified=!0,n))},()=>{t(n=>(n.grid[e][l]=r,n.isModified=!0,n))})},clearCell(l,n){this.setCell(l,n,0)},undo(){o.undo()},redo(){o.redo()},save(l){let n;return t(t=>{const e={id:t.id||$e(),name:l||t.name||"Untitled",grid:xe(t.grid),createdAt:t.meta.createdAt||Date.now(),updatedAt:Date.now()},r=u(e);return t.id=r,t.name=e.name,t.meta.createdAt=e.createdAt,t.meta.updatedAt=e.updatedAt,t.isModified=!1,n=t.id,t}),n},load(l){const n=function(l){return be().find(n=>n.id===l)||null}(l);return!!n&&(t(l=>(l.id=n.id,s(l,n.grid),l.name=n.name,l.meta={createdAt:n.createdAt,updatedAt:n.updatedAt},l.mode="creator",l)),!0)},delete(l){r(l)},list:function(){return be()},exportSencode(){let l;return t(n=>(l=function(l){return Gl.encode(l)}(n.grid),n)),l},importSencode(l){try{const e=(n=l,Gl.parse(n));return t(l=>(s(l,e),l)),!0}catch(l){return console.error("creator import failed",l),!1}var n},validate(){const l=a({subscribe:n}).grid.flat().map(l=>l||0),t=(new ge).getNextHint(l);return t&&"错误警告"===t.strategyName?{valid:!1,issues:[{type:"conflict",message:t.description}]}:{valid:!0,issues:[]}},reset(){t(l=>(l.grid=xe(l.startingGrid),l.isModified=!1,o.clear(),l))},_resetStorage(){we([])}}}();var Me=Object.freeze({__proto__:null,creator:ke});function Ce(l,n,t){const e=l.slice();return e[27]=n[t],e}function Se(l,n,t){const e=l.slice();return e[30]=n[t],e[32]=t,e}function ze(l){let n,t,e,u,r=(l[3].issues[0]?.message||"布局冲突")+"";return{c(){n=$("div"),t=$("span"),t.textContent="⚠️ 注意:",e=C(),u=M(r),E(t,"class","font-bold"),E(n,"class","error-toast svelte-ol1yg")},m(l,r){w(l,n,r),g(n,t),g(n,e),g(n,u)},p(l,n){8&n[0]&&r!==(r=(l[3].issues[0]?.message||"布局冲突")+"")&&I(u,r)},d(l){l&&y(n)}}}function Ae(n){let t;return{c(){t=$("div"),t.textContent="Loading Board...",E(t,"class","text-gray-400")},m(l,n){w(l,t,n)},p:l,i:l,o:l,d(l){l&&y(t)}}}function Ee(l){let n,t;return n=new rt({props:{overrideUserGrid:l[4].grid,startingGrid:l[4].startingGrid,invalidCellsOverride:l[16](l[4].grid),editable:!0,disabled:!1,onCellEdit:l[14]}}),{c(){pl(n.$$.fragment)},m(l,e){gl(n,l,e),t=!0},p(l,t){const e={};16&t[0]&&(e.overrideUserGrid=l[4].grid),16&t[0]&&(e.startingGrid=l[4].startingGrid),16&t[0]&&(e.invalidCellsOverride=l[16](l[4].grid)),n.$set(e)},i(l){t||(cl(n.$$.fragment,l),t=!0)},o(l){dl(n.$$.fragment,l),t=!1},d(l){vl(n,l)}}}function je(l){let n,t,e,u,r=l[32]+1+"";function o(){return l[18](l[32])}return{c(){n=$("button"),t=M(r),E(n,"class","key-button svelte-ol1yg")},m(l,r){w(l,n,r),g(n,t),e||(u=z(n,"click",o),e=!0)},p(n,t){l=n},d(l){l&&y(n),e=!1,u()}}}function Ie(n){let t;return{c(){t=$("div"),t.textContent="No puzzles saved yet",E(t,"class","text-center py-4 text-gray-400 text-xs italic")},m(l,n){w(l,t,n)},p:l,d(l){l&&y(t)}}}function Ne(l){let n,t,e,r,o,s,i,a,c,d,f,h,m,p,v,b=l[27].name+"",x=new Date(l[27].updatedAt).toLocaleDateString()+"";function k(){return l[20](l[27])}function S(){return l[21](l[27])}return{c(){n=$("div"),t=$("div"),e=$("div"),r=M(b),o=C(),s=$("div"),i=M(x),a=C(),c=$("div"),d=$("button"),d.innerHTML='<svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"></path></svg>',f=C(),h=$("button"),h.innerHTML='<svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>',m=C(),E(e,"class","font-bold text-gray-700 truncate text-sm"),E(s,"class","text-[10px] text-gray-400"),E(t,"class","truncate leading-tight"),E(d,"class","icon-btn hover:text-blue-600 svelte-ol1yg"),E(h,"class","icon-btn hover:text-red-600 svelte-ol1yg"),E(c,"class","flex gap-1"),E(n,"class","archive-item svelte-ol1yg")},m(l,u){w(l,n,u),g(n,t),g(t,e),g(e,r),g(t,o),g(t,s),g(s,i),g(n,a),g(n,c),g(c,d),g(c,f),g(c,h),g(n,m),p||(v=[z(d,"click",k),z(h,"click",S)],p=!0)},p(n,t){l=n,2&t[0]&&b!==(b=l[27].name+"")&&I(r,b),2&t[0]&&x!==(x=new Date(l[27].updatedAt).toLocaleDateString()+"")&&I(i,x)},d(l){l&&y(n),p=!1,u(v)}}}function Be(l){let n,t,e,o,s,i,a,c,d,f,h,m,p,v,b,k,M,S,A,j,I,B,L,H,O,_,R,T,P,G,D,F,U,V,q,Y,J,K,W,X,Z,Q,ll,nl,tl,el,ul,rl,ol,sl,fl,hl,ml,pl,gl,vl=!l[3].valid&&ze(l);const bl=[Ee,Ae],wl=[];function yl(l,n){return l[4]&&l[4].grid?0:1}h=yl(l),m=wl[h]=bl[h](l);let xl=Array(9),$l=[];for(let n=0;n<xl.length;n+=1)$l[n]=je(Se(l,xl,n));let kl=l[1],Ml=[];for(let n=0;n<kl.length;n+=1)Ml[n]=Ne(Ce(l,kl,n));let Cl=null;return kl.length||(Cl=Ie()),{c(){n=$("div"),t=$("div"),e=$("h1"),e.textContent="Create Your Own Sudoku",o=C(),s=$("button"),s.innerHTML='<svg class="w-6 h-6 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>',i=C(),a=$("div"),c=$("div"),vl&&vl.c(),d=C(),f=$("div"),m.c(),p=C(),v=$("div"),b=$("div"),k=$("label"),k.textContent="Puzzle Name",M=C(),S=$("div"),A=$("input"),j=C(),I=$("button"),I.textContent="Save",B=C(),L=$("div"),H=$("button"),H.textContent="New",O=C(),_=$("button"),_.textContent="Undo",R=C(),T=$("button"),T.textContent="Redo",P=C(),G=$("div"),D=$("button"),D.textContent="Import",F=C(),U=$("button"),U.textContent="Export",V=C(),q=$("div"),Y=C(),J=$("div"),K=$("h2"),K.textContent="Input Keypad",W=C(),X=$("div");for(let l=0;l<$l.length;l+=1)$l[l].c();Z=C(),Q=$("div"),ll=$("button"),ll.innerHTML='<svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2M3 12l6.414 6.414a2 2 0 001.414.586H19a2 2 0 002-2V7a2 2 0 00-2-2h-8.172a2 2 0 00-1.414.586L3 12z"></path></svg>\n            Clear Cell',nl=C(),tl=$("button"),tl.innerHTML='<svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>\n            Reset Board',el=C(),ul=$("div"),rl=C(),ol=$("div"),sl=$("h2"),sl.textContent="Saved Puzzles",fl=C(),hl=$("div");for(let l=0;l<Ml.length;l+=1)Ml[l].c();Cl&&Cl.c(),E(e,"class","text-2xl font-bold text-gray-800"),E(s,"class","p-2 hover:bg-gray-100 rounded-full transition-colors"),E(t,"class","flex justify-between items-center mb-6 shrink-0"),E(f,"class","board-container-fixed svelte-ol1yg"),E(c,"class","board-section svelte-ol1yg"),E(k,"class","block text-sm font-medium text-gray-600 mb-1"),E(A,"class","custom-input svelte-ol1yg"),E(A,"placeholder","Untitled..."),E(I,"class","btn-primary svelte-ol1yg"),E(S,"class","flex gap-2"),E(b,"class","tool-group"),E(H,"class","btn-outline svelte-ol1yg"),E(_,"class","btn-outline svelte-ol1yg"),E(T,"class","btn-outline svelte-ol1yg"),E(L,"class","grid grid-cols-3 gap-2"),E(D,"class","btn-secondary svelte-ol1yg"),E(U,"class","btn-secondary svelte-ol1yg"),E(G,"class","grid grid-cols-2 gap-2"),E(q,"class","separator svelte-ol1yg"),E(K,"class","text-[11px] font-bold text-gray-400 uppercase tracking-widest mb-3"),E(X,"class","grid grid-cols-3 gap-2 mb-3"),E(ll,"class","action-btn clear-cell"),E(tl,"class","action-btn clear-all"),E(Q,"class","grid grid-cols-2 gap-2"),E(J,"class","keypad-area"),E(ul,"class","separator svelte-ol1yg"),E(sl,"class","text-[11px] font-bold text-gray-400 uppercase tracking-widest mb-3"),E(hl,"class","archives-list svelte-ol1yg"),E(ol,"class","archives-area"),E(v,"class","tools-section svelte-ol1yg"),E(a,"class","creator-container svelte-ol1yg"),E(n,"class","creator-wrapper svelte-ol1yg")},m(u,m){w(u,n,m),g(n,t),g(t,e),g(t,o),g(t,s),g(n,i),g(n,a),g(a,c),vl&&vl.m(c,null),g(c,d),g(c,f),wl[h].m(f,null),g(a,p),g(a,v),g(v,b),g(b,k),g(b,M),g(b,S),g(S,A),N(A,l[2]),g(S,j),g(S,I),g(v,B),g(v,L),g(L,H),g(L,O),g(L,_),g(L,R),g(L,T),g(v,P),g(v,G),g(G,D),g(G,F),g(G,U),g(v,V),g(v,q),g(v,Y),g(v,J),g(J,K),g(J,W),g(J,X);for(let l=0;l<$l.length;l+=1)$l[l]&&$l[l].m(X,null);g(J,Z),g(J,Q),g(Q,ll),g(Q,nl),g(Q,tl),g(v,el),g(v,ul),g(v,rl),g(v,ol),g(ol,sl),g(ol,fl),g(ol,hl);for(let l=0;l<Ml.length;l+=1)Ml[l]&&Ml[l].m(hl,null);Cl&&Cl.m(hl,null),ml=!0,pl||(gl=[z(s,"click",function(){r(l[0])&&l[0].apply(this,arguments)}),z(A,"input",l[17]),z(I,"click",l[5]),z(H,"click",l[10]),z(_,"click",l[6]),z(T,"click",l[7]),z(D,"click",l[8]),z(U,"click",l[9]),z(ll,"click",l[19]),z(tl,"click",l[15])],pl=!0)},p(n,t){(l=n)[3].valid?vl&&(vl.d(1),vl=null):vl?vl.p(l,t):(vl=ze(l),vl.c(),vl.m(c,d));let e=h;if(h=yl(l),h===e?wl[h].p(l,t):(il(),dl(wl[e],1,1,()=>{wl[e]=null}),al(),m=wl[h],m?m.p(l,t):(m=wl[h]=bl[h](l),m.c()),cl(m,1),m.m(f,null)),4&t[0]&&A.value!==l[2]&&N(A,l[2]),8192&t[0]){let n;for(xl=Array(9),n=0;n<xl.length;n+=1){const e=Se(l,xl,n);$l[n]?$l[n].p(e,t):($l[n]=je(e),$l[n].c(),$l[n].m(X,null))}for(;n<$l.length;n+=1)$l[n].d(1);$l.length=xl.length}if(6146&t[0]){let n;for(kl=l[1],n=0;n<kl.length;n+=1){const e=Ce(l,kl,n);Ml[n]?Ml[n].p(e,t):(Ml[n]=Ne(e),Ml[n].c(),Ml[n].m(hl,null))}for(;n<Ml.length;n+=1)Ml[n].d(1);Ml.length=kl.length,!kl.length&&Cl?Cl.p(l,t):kl.length?Cl&&(Cl.d(1),Cl=null):(Cl=Ie(),Cl.c(),Cl.m(hl,null))}},i(l){ml||(cl(m),ml=!0)},o(l){dl(m),ml=!1},d(l){l&&y(n),vl&&vl.d(),wl[h].d(),x($l,l),x(Ml,l),Cl&&Cl.d(),pl=!1,u(gl)}}}function Le(l,n,t){let e,u;c(l,ql,l=>t(24,e=l)),c(l,ke,l=>t(4,u=l));let r,o,{hideModal:s}=n,i=[],a="",d={valid:!0,issues:[]};function f(){t(1,i=ke.list())}function h(){try{const l=ke.validate();t(3,d=l||{valid:!0,issues:[]})}catch(l){console.error("creator validate failed",l),t(3,d={valid:!0,issues:[]})}}function m(l){confirm("Load this puzzle? Current content will be replaced.")&&(ke.load(l),h())}function p(l){confirm("Delete this puzzle?")&&(ke.delete(l),f())}function g(l){const n=e;null!==n.x&&null!==n.y?(ke.setCell(n.x,n.y,l),h()):alert("Select a cell first")}U(()=>{f()}),U(()=>{r=ke.subscribe(()=>{h()})}),V(()=>{r&&r()}),U(()=>{o=document.querySelector(".modal-container:last-of-type"),o&&o.classList.add("creator-modal-container")}),V(()=>{o&&o.classList.remove("creator-modal-container")});return l.$$set=l=>{"hideModal"in l&&t(0,s=l.hideModal)},[s,i,a,d,u,function(){const l=ke.save(a||void 0);f(),l&&!a&&t(2,a="Untitled"),alert("Saved")},function(){ke.undo()},function(){ke.redo()},function(){const l=prompt("Paste puzzle code (sencode):");if(l){ke.importSencode(l)?alert("Imported"):alert("Import failed"),h()}},function(){const l=ke.exportSencode();prompt("Copy this puzzle code:",l)},function(){confirm("Are you sure you want to create a new one? All current content will disappear!")&&ke.enter()},m,p,g,function(l){ke.setCell(l.x,l.y,l.value),h()},function(){confirm("Are you sure you want to reset? This operation is irreversible!")&&(ke.reset(),h())},function(l){const n=[],t=(l,t)=>{const e=l+","+t;n.includes(e)||n.push(e)};for(let n=0;n<9;n++)for(let e=0;e<9;e++){const u=l[n][e];if(u){for(let r=0;r<9;r++)r!==e&&l[n][r]===u&&t(e,n),r!==n&&l[r][e]===u&&t(e,n);const r=3*Math.floor(n/3),o=r+3,s=3*Math.floor(e/3),i=s+3;for(let a=r;a<o;a++)for(let r=s;r<i;r++)a===n&&r===e||l[a][r]!==u||t(e,n)}}return n},function(){a=this.value,t(2,a)},l=>g(l+1),()=>g(0),l=>m(l.id),l=>p(l.id)]}var He={share:class extends yl{constructor(l){super(),wl(this,l,Dt,Gt,o,{data:0,hideModal:1})}},qrcode:class extends yl{constructor(l){super(),wl(this,l,Ut,Ft,o,{data:0})}},settings:class extends yl{constructor(l){super(),wl(this,l,Wt,Kt,o,{data:4,hideModal:0})}},confirm:class extends yl{constructor(l){super(),wl(this,l,Qt,Zt,o,{data:0,hideModal:1})}},prompt:class extends yl{constructor(l){super(),wl(this,l,te,ne,o,{data:0,hideModal:1})}},welcome:class extends yl{constructor(l){super(),wl(this,l,se,oe,o,{data:0,hideModal:6})}},gameover:class extends yl{constructor(l){super(),wl(this,l,ae,ie,o,{})}},creator:class extends yl{constructor(l){super(),wl(this,l,Le,Be,o,{hideModal:0},null,[-1,-1])}}};function Oe(l){let n,t,e,u,r,o,s,i,a,c,d;var f=He[l[0]];function h(l){return{props:{data:l[1],hideModal:wn.hide}}}return f&&(s=O(f,h(l))),{c(){n=$("div"),t=$("button"),u=C(),r=$("div"),o=$("div"),s&&pl(s.$$.fragment),E(t,"class","modal-overlay svelte-13orf8v"),E(t,"tabindex","-1"),E(o,"class","modal-content svelte-13orf8v"),E(r,"class","modal-container svelte-13orf8v"),E(n,"class","modal svelte-13orf8v")},m(e,i){w(e,n,i),g(n,t),g(n,u),g(n,r),g(r,o),s&&gl(s,o,null),a=!0,c||(d=z(t,"click",l[2]),c=!0)},p(n,t){l=n;const e={};if(2&t&&(e.data=l[1]),1&t&&f!==(f=He[l[0]])){if(s){il();const l=s;dl(l.$$.fragment,1,0,()=>{vl(l,1)}),al()}f?(s=O(f,h(l)),pl(s.$$.fragment),cl(s.$$.fragment,1),gl(s,o,null)):s=null}else f&&s.$set(e)},i(l){a||(Z(()=>{a&&(e||(e=hl(t,zn,{duration:Hl},!0)),e.run(1))}),s&&cl(s.$$.fragment,l),Z(()=>{a&&(i||(i=hl(r,En,{duration:Hl},!0)),i.run(1))}),a=!0)},o(l){e||(e=hl(t,zn,{duration:Hl},!1)),e.run(0),s&&dl(s.$$.fragment,l),i||(i=hl(r,En,{duration:Hl},!1)),i.run(0),a=!1},d(l){l&&y(n),l&&e&&e.end(),s&&vl(s),l&&i&&i.end(),c=!1,d()}}}function _e(l){let n,t,e=l[0]!==Ll&&Oe(l);return{c(){e&&e.c(),n=S()},m(l,u){e&&e.m(l,u),w(l,n,u),t=!0},p(l,[t]){l[0]!==Ll?e?(e.p(l,t),1&t&&cl(e,1)):(e=Oe(l),e.c(),cl(e,1),e.m(n.parentNode,n)):e&&(il(),dl(e,1,1,()=>{e=null}),al())},i(l){t||(cl(e),t=!0)},o(l){dl(e),t=!1},d(l){e&&e.d(l),l&&y(n)}}}function Re(l,n,t){let e,u;c(l,wn,l=>t(0,e=l)),c(l,bn,l=>t(1,u=l));const r=["welcome","gameover"];return[e,u,function(){r.includes(e)||wn.hide()}]}class Te extends yl{constructor(l){super(),wl(this,l,Re,_e,o,{})}}function Pe(l){let n,t,e,r,o,s,i,a,c,d,f,h,m,p,v,b,x,k=l[0].strategyName+"",S=l[0].description+"",A=l[0].value+"";return{c(){n=$("div"),t=$("div"),e=$("strong"),r=M("策略: "),o=M(k),s=C(),i=$("button"),i.textContent="×",a=C(),c=$("p"),d=M(S),f=C(),h=$("div"),m=$("button"),p=M("✨ 填入数字 "),v=M(A),E(i,"class","btn-close"),E(t,"class","hint-header"),E(c,"class","hint-desc"),E(m,"class","btn-apply"),E(h,"class","hint-actions"),E(n,"class","hint-card")},m(u,y){w(u,n,y),g(n,t),g(t,e),g(e,r),g(e,o),g(t,s),g(t,i),g(n,a),g(n,c),g(c,d),g(n,f),g(n,h),g(h,m),g(m,p),g(m,v),b||(x=[z(i,"click",l[3]),z(m,"click",l[2])],b=!0)},p(l,n){1&n&&k!==(k=l[0].strategyName+"")&&I(o,k),1&n&&S!==(S=l[0].description+"")&&I(d,S),1&n&&A!==(A=l[0].value+"")&&I(v,A)},d(l){l&&y(n),b=!1,u(x)}}}function Ge(l){let n,t,e,u,r,o,s,i,a,c,d,f,h,m,p,v,b,x;t=new _t({}),r=new rt({});let k=l[0]&&Pe(l);return h=new St({}),p=new Te({}),{c(){n=$("header"),pl(t.$$.fragment),e=C(),u=$("section"),pl(r.$$.fragment),o=C(),s=$("div"),i=$("div"),a=$("button"),a.textContent="💡 获取下一步提示",c=C(),k&&k.c(),d=C(),f=$("footer"),pl(h.$$.fragment),m=C(),pl(p.$$.fragment),E(a,"class","btn-hint"),E(i,"class","hint-controls"),E(s,"class","hint-section")},m(y,$){w(y,n,$),gl(t,n,null),w(y,e,$),w(y,u,$),gl(r,u,null),w(y,o,$),w(y,s,$),g(s,i),g(i,a),g(s,c),k&&k.m(s,null),w(y,d,$),w(y,f,$),gl(h,f,null),w(y,m,$),gl(p,y,$),v=!0,b||(x=z(a,"click",l[1]),b=!0)},p(l,[n]){l[0]?k?k.p(l,n):(k=Pe(l),k.c(),k.m(s,null)):k&&(k.d(1),k=null)},i(l){v||(cl(t.$$.fragment,l),cl(r.$$.fragment,l),cl(h.$$.fragment,l),cl(p.$$.fragment,l),v=!0)},o(l){dl(t.$$.fragment,l),dl(r.$$.fragment,l),dl(h.$$.fragment,l),dl(p.$$.fragment,l),v=!1},d(l){l&&y(n),vl(t),l&&y(e),l&&y(u),vl(r),l&&y(o),l&&y(s),k&&k.d(),l&&y(d),l&&y(f),vl(h),l&&y(m),vl(p,l),b=!1,x()}}}function De(l,n,t){let e;c(l,sn,l=>t(4,e=l));const u=new ge;let r=null;return dn.subscribe(l=>{l&&(vn.pause(),wn.show("gameover"))}),U(()=>{let l,n=location.hash;n.startsWith("#")&&(n=n.slice(1)),Gl.validate(n)&&(l=n),wn.show("welcome",{onHide:vn.resume,sencode:l})}),[r,function(){const l=[];for(let n=0;n<9;n++)for(let t=0;t<9;t++){let u=e[n][t];l.push(u)}const n=u.getNextHint(l,[]);if(n){t(0,r=n);const l=n.cellIndex%9,e=Math.floor(n.cellIndex/9);ql.set(l,e)}else alert("当前算法无法找到下一步，或题目已解完。"),t(0,r=null)},function(){if(r)if("FILL"===r.type){const l=r.cellIndex,n=r.value,e=l%9,u=Math.floor(l/9);!function(l,n){const t=Gn(l);t&&Vn(t,!1,"hint",({key:l,candidatesBefore:e})=>{e&&Object.prototype.hasOwnProperty.call(e,l)&&yn.clear(t),sn.set(t,n)})}({x:e,y:u},n),ql.set(e,u),t(0,r=null)}else"ELIMINATE"===r.type&&alert("排除策略："+r.description+"\n\n(请手动删除笔记)")},function(){t(0,r=null)}]}return new class extends yl{constructor(l){super(),wl(this,l,De,Ge,o,{})}}({target:document.getElementById("app")})}();
